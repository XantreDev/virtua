"use strict";(self.webpackChunkvirtua=self.webpackChunkvirtua||[]).push([[64],{"./stories/advanced/Search.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react/List.tsx"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@faker-js/faker/dist/esm/index.mjs");const __WEBPACK_DEFAULT_EXPORT__={component:_src__WEBPACK_IMPORTED_MODULE_2__.a},rowStyle={borderBottom:"solid 1px #ccc",display:"flex",flexDirection:"row"},idColStyle={minWidth:120},nameColStyle={minWidth:240},Row=({id,name,description})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:rowStyle},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:idColStyle},id),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:nameColStyle},name),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,description)),Default={name:"Search",render:()=>{const items=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>Array.from({length:1e3},((_,i)=>({id:String(i),name:`${_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.We.name.firstName()} ${_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.We.name.lastName()}`,description:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.We.lorem.paragraphs(1)})))))[0],ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[value,setValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[scrollValue,setScrollValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),[desc,setDesc]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),filtered=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>{const v=value.toLowerCase(),res=items.filter((d=>d.id.toLowerCase().includes(v)||d.name.toLowerCase().includes(v)||d.description.toLowerCase().includes(v)));return desc&&res.reverse(),res}),[value,items,desc]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{style:{marginRight:4}},"search",react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{style:{marginLeft:4},value,onChange:e=>{setValue(e.target.value)}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{style:{marginRight:4}},"scroll to",react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{style:{marginLeft:4},value:scrollValue,type:"number",min:0,max:999,onChange:e=>{var _a;const targetId=Number(e.target.value);if(Number.isNaN(targetId))return;setScrollValue(targetId);const targetIdStar=String(targetId),index=filtered.findIndex((d=>d.id===targetIdStar));-1!==index&&(null==(_a=ref.current)||_a.scrollToIndex(index))}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{style:{marginRight:4}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"radio",style:{marginLeft:4},checked:!desc,onChange:()=>{setDesc(!1)}}),"asc"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{style:{marginRight:4}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"radio",style:{marginLeft:4},checked:desc,onChange:()=>{setDesc(!0)}}),"desc")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{width:"90vw",height:"90vh",border:"solid 1px #ddd",background:"#fff",display:"flex",flexDirection:"column"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(Row,{id:"id",name:"name",description:"description"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.a,{ref,style:{flex:1}},filtered.length?filtered.map(((d,i)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Row,{key:i,...d}))):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,"No data."))))}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  name: "Search",\n  render: () => {\n    const items = useState(() => Array.from({\n      length: 1e3\n    }, (_, i) => ({\n      id: String(i),\n      name: `${faker.name.firstName()} ${faker.name.lastName()}`,\n      description: faker.lorem.paragraphs(1)\n    })))[0];\n    const ref = useRef(null);\n    const [value, setValue] = useState("");\n    const [scrollValue, setScrollValue] = useState(0);\n    const [desc, setDesc] = useState(false);\n    const filtered = useMemo(() => {\n      const v = value.toLowerCase();\n      const res = items.filter(d => {\n        return d.id.toLowerCase().includes(v) || d.name.toLowerCase().includes(v) || d.description.toLowerCase().includes(v);\n      });\n      if (desc) {\n        res.reverse();\n      }\n      return res;\n    }, [value, items, desc]);\n    return /* @__PURE__ */React.createElement("div", null, /* @__PURE__ */React.createElement("div", null, /* @__PURE__ */React.createElement("label", {\n      style: {\n        marginRight: 4\n      }\n    }, "search", /* @__PURE__ */React.createElement("input", {\n      style: {\n        marginLeft: 4\n      },\n      value,\n      onChange: e => {\n        setValue(e.target.value);\n      }\n    })), /* @__PURE__ */React.createElement("label", {\n      style: {\n        marginRight: 4\n      }\n    }, "scroll to", /* @__PURE__ */React.createElement("input", {\n      style: {\n        marginLeft: 4\n      },\n      value: scrollValue,\n      type: "number",\n      min: 0,\n      max: 999,\n      onChange: e => {\n        var _a;\n        const targetId = Number(e.target.value);\n        if (Number.isNaN(targetId)) return;\n        setScrollValue(targetId);\n        const targetIdStar = String(targetId);\n        const index = filtered.findIndex(d => d.id === targetIdStar);\n        if (index === -1) return;\n        (_a = ref.current) == null ? void 0 : _a.scrollToIndex(index);\n      }\n    })), /* @__PURE__ */React.createElement("label", {\n      style: {\n        marginRight: 4\n      }\n    }, /* @__PURE__ */React.createElement("input", {\n      type: "radio",\n      style: {\n        marginLeft: 4\n      },\n      checked: !desc,\n      onChange: () => {\n        setDesc(false);\n      }\n    }), "asc"), /* @__PURE__ */React.createElement("label", {\n      style: {\n        marginRight: 4\n      }\n    }, /* @__PURE__ */React.createElement("input", {\n      type: "radio",\n      style: {\n        marginLeft: 4\n      },\n      checked: desc,\n      onChange: () => {\n        setDesc(true);\n      }\n    }), "desc")), /* @__PURE__ */React.createElement("div", {\n      style: {\n        width: "90vw",\n        height: "90vh",\n        border: "solid 1px #ddd",\n        background: "#fff",\n        display: "flex",\n        flexDirection: "column"\n      }\n    }, /* @__PURE__ */React.createElement(Row, {\n      id: "id",\n      name: "name",\n      description: "description"\n    }), /* @__PURE__ */React.createElement(List, {\n      ref,\n      style: {\n        flex: 1\n      }\n    }, !filtered.length ? /* @__PURE__ */React.createElement("div", null, "No data.") : filtered.map((d, i) => /* @__PURE__ */React.createElement(Row, {\n      key: i,\n      ...d\n    })))));\n  }\n}',...Default.parameters?.docs?.source}}}}}]);