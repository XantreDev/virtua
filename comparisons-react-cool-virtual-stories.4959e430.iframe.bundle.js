"use strict";(self.webpackChunkvirtua=self.webpackChunkvirtua||[]).push([[231],{"./stories/comparisons/components.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GS:()=>HeavyItem,K_:()=>ItemWithRenderCount,ct:()=>SimpleItem,gU:()=>ScrollInput});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const ScrollInput=({count})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{style:{width:"100%"}},"scroll position:",react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"range",defaultValue:"0",min:0,max:count,style:{width:"85%"},onChange:e=>{Array.from(document.querySelectorAll('*[style*="overflow"]')).filter((d=>/(auto|scroll)/.test(d.style.overflow)||/(auto|scroll)/.test(d.style.overflowY))).forEach((el=>{el.scrollTop=el.scrollHeight/count*Number(e.target.value)}))}})),heights=[20,40,80,77],ItemWithRenderCount=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((({index:i},ref)=>{const count=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(1);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{count.current+=1})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref,style:{height:heights[i%heights.length],borderBottom:"solid 1px #ccc",background:"#fff",display:"flex",justifyContent:"stretch",padding:"4px 20px"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{flex:1}},i),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,"rendered: ",count.current))})),HeavyItem=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((({index:i},ref)=>{let count=0;for(;count<=1e7;)count++;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref,style:{height:50,borderBottom:"solid 1px #ccc",background:"#fff"}},i)})),SimpleItem=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((({index:i},ref)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref,style:{height:50,borderBottom:"solid 1px #ccc",background:"#fff"}},i)));try{ScrollInput.displayName="ScrollInput",ScrollInput.__docgenInfo={description:"",displayName:"ScrollInput",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/comparisons/components.tsx#ScrollInput"]={docgenInfo:ScrollInput.__docgenInfo,name:"ScrollInput",path:"stories/comparisons/components.tsx#ScrollInput"})}catch(__react_docgen_typescript_loader_error){}try{ItemWithRenderCount.displayName="ItemWithRenderCount",ItemWithRenderCount.__docgenInfo={description:"",displayName:"ItemWithRenderCount",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/comparisons/components.tsx#ItemWithRenderCount"]={docgenInfo:ItemWithRenderCount.__docgenInfo,name:"ItemWithRenderCount",path:"stories/comparisons/components.tsx#ItemWithRenderCount"})}catch(__react_docgen_typescript_loader_error){}try{HeavyItem.displayName="HeavyItem",HeavyItem.__docgenInfo={description:"",displayName:"HeavyItem",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/comparisons/components.tsx#HeavyItem"]={docgenInfo:HeavyItem.__docgenInfo,name:"HeavyItem",path:"stories/comparisons/components.tsx#HeavyItem"})}catch(__react_docgen_typescript_loader_error){}try{SimpleItem.displayName="SimpleItem",SimpleItem.__docgenInfo={description:"",displayName:"SimpleItem",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories/comparisons/components.tsx#SimpleItem"]={docgenInfo:SimpleItem.__docgenInfo,name:"SimpleItem",path:"stories/comparisons/components.tsx#SimpleItem"})}catch(__react_docgen_typescript_loader_error){}},"./stories/comparisons/react-cool-virtual.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DynamicHeight:()=>DynamicHeight,HeavyComponent:()=>HeavyComponent,OneMillion:()=>OneMillion,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),react_cool_virtual__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-cool-virtual/dist/index.esm.js"),_src__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/react/List.tsx"),_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./stories/comparisons/components.tsx");const __WEBPACK_DEFAULT_EXPORT__={component:react_cool_virtual__WEBPACK_IMPORTED_MODULE_1__.Z},RVList=({count,Component})=>{const{outerRef,innerRef,items}=(0,react_cool_virtual__WEBPACK_IMPORTED_MODULE_1__.Z)({itemCount:count});return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:outerRef,style:{flex:1,overflow:"auto"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:innerRef},items.map((({index,measureRef})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{key:index,index,ref:measureRef})))))},DynamicHeight={render:()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{height:"100vh",display:"flex",flexDirection:"column"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",flexDirection:"row"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{flex:1}},"virtua"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{flex:1}},"react-cool-virtual")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",flexDirection:"row"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components__WEBPACK_IMPORTED_MODULE_2__.gU,{count:1e4})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",flexDirection:"row",flex:1,gap:8,overflow:"hidden"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.a,{style:{flex:1}},Array.from({length:1e4}).map(((_,i)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components__WEBPACK_IMPORTED_MODULE_2__.K_,{key:i,index:i})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(RVList,{count:1e4,Component:_components__WEBPACK_IMPORTED_MODULE_2__.K_})))},HeavyComponent={render:()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{height:"100vh",display:"flex",flexDirection:"column"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",flexDirection:"row"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{flex:1}},"virtua"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{flex:1}},"react-cool-virtual")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",flexDirection:"row"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components__WEBPACK_IMPORTED_MODULE_2__.gU,{count:1e4})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",flexDirection:"row",flex:1,gap:8,overflow:"hidden"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.a,{style:{flex:1}},Array.from({length:1e4}).map(((_,i)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components__WEBPACK_IMPORTED_MODULE_2__.GS,{key:i,index:i})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(RVList,{count:1e4,Component:_components__WEBPACK_IMPORTED_MODULE_2__.GS})))},OneMillion={render:()=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{height:"100vh",display:"flex",flexDirection:"column"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",flexDirection:"row"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{flex:1}},"virtua"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{flex:1}},"react-cool-virtual")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",flexDirection:"row"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components__WEBPACK_IMPORTED_MODULE_2__.gU,{count:1e6})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{display:"flex",flexDirection:"row",flex:1,gap:8,overflow:"hidden"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_3__.a,{style:{flex:1}},Array.from({length:1e6}).map(((_,i)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components__WEBPACK_IMPORTED_MODULE_2__.ct,{key:i,index:i})))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(RVList,{count:1e6,Component:_components__WEBPACK_IMPORTED_MODULE_2__.ct})))};DynamicHeight.parameters={...DynamicHeight.parameters,docs:{...DynamicHeight.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const ROW_COUNT = 1e4;\n    return /* @__PURE__ */React.createElement("div", {\n      style: {\n        height: "100vh",\n        display: "flex",\n        flexDirection: "column"\n      }\n    }, /* @__PURE__ */React.createElement("div", {\n      style: {\n        display: "flex",\n        flexDirection: "row"\n      }\n    }, /* @__PURE__ */React.createElement("div", {\n      style: {\n        flex: 1\n      }\n    }, "virtua"), /* @__PURE__ */React.createElement("div", {\n      style: {\n        flex: 1\n      }\n    }, "react-cool-virtual")), /* @__PURE__ */React.createElement("div", {\n      style: {\n        display: "flex",\n        flexDirection: "row"\n      }\n    }, /* @__PURE__ */React.createElement(ScrollInput, {\n      count: ROW_COUNT\n    })), /* @__PURE__ */React.createElement("div", {\n      style: {\n        display: "flex",\n        flexDirection: "row",\n        flex: 1,\n        gap: 8,\n        overflow: "hidden"\n      }\n    }, /* @__PURE__ */React.createElement(List, {\n      style: {\n        flex: 1\n      }\n    }, Array.from({\n      length: ROW_COUNT\n    }).map((_, i) => /* @__PURE__ */React.createElement(ItemWithRenderCount, {\n      key: i,\n      index: i\n    }))), /* @__PURE__ */React.createElement(RVList, {\n      count: ROW_COUNT,\n      Component: ItemWithRenderCount\n    })));\n  }\n}',...DynamicHeight.parameters?.docs?.source}}},HeavyComponent.parameters={...HeavyComponent.parameters,docs:{...HeavyComponent.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const ROW_COUNT = 1e4;\n    return /* @__PURE__ */React.createElement("div", {\n      style: {\n        height: "100vh",\n        display: "flex",\n        flexDirection: "column"\n      }\n    }, /* @__PURE__ */React.createElement("div", {\n      style: {\n        display: "flex",\n        flexDirection: "row"\n      }\n    }, /* @__PURE__ */React.createElement("div", {\n      style: {\n        flex: 1\n      }\n    }, "virtua"), /* @__PURE__ */React.createElement("div", {\n      style: {\n        flex: 1\n      }\n    }, "react-cool-virtual")), /* @__PURE__ */React.createElement("div", {\n      style: {\n        display: "flex",\n        flexDirection: "row"\n      }\n    }, /* @__PURE__ */React.createElement(ScrollInput, {\n      count: ROW_COUNT\n    })), /* @__PURE__ */React.createElement("div", {\n      style: {\n        display: "flex",\n        flexDirection: "row",\n        flex: 1,\n        gap: 8,\n        overflow: "hidden"\n      }\n    }, /* @__PURE__ */React.createElement(List, {\n      style: {\n        flex: 1\n      }\n    }, Array.from({\n      length: ROW_COUNT\n    }).map((_, i) => /* @__PURE__ */React.createElement(HeavyItem, {\n      key: i,\n      index: i\n    }))), /* @__PURE__ */React.createElement(RVList, {\n      count: ROW_COUNT,\n      Component: HeavyItem\n    })));\n  }\n}',...HeavyComponent.parameters?.docs?.source}}},OneMillion.parameters={...OneMillion.parameters,docs:{...OneMillion.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const ROW_COUNT = 1e6;\n    return /* @__PURE__ */React.createElement("div", {\n      style: {\n        height: "100vh",\n        display: "flex",\n        flexDirection: "column"\n      }\n    }, /* @__PURE__ */React.createElement("div", {\n      style: {\n        display: "flex",\n        flexDirection: "row"\n      }\n    }, /* @__PURE__ */React.createElement("div", {\n      style: {\n        flex: 1\n      }\n    }, "virtua"), /* @__PURE__ */React.createElement("div", {\n      style: {\n        flex: 1\n      }\n    }, "react-cool-virtual")), /* @__PURE__ */React.createElement("div", {\n      style: {\n        display: "flex",\n        flexDirection: "row"\n      }\n    }, /* @__PURE__ */React.createElement(ScrollInput, {\n      count: ROW_COUNT\n    })), /* @__PURE__ */React.createElement("div", {\n      style: {\n        display: "flex",\n        flexDirection: "row",\n        flex: 1,\n        gap: 8,\n        overflow: "hidden"\n      }\n    }, /* @__PURE__ */React.createElement(List, {\n      style: {\n        flex: 1\n      }\n    }, Array.from({\n      length: ROW_COUNT\n    }).map((_, i) => /* @__PURE__ */React.createElement(SimpleItem, {\n      key: i,\n      index: i\n    }))), /* @__PURE__ */React.createElement(RVList, {\n      count: ROW_COUNT,\n      Component: SimpleItem\n    })));\n  }\n}',...OneMillion.parameters?.docs?.source}}}}}]);