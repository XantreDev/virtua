System.register(["./index-legacy-612e7deb.js","./index-legacy-360d6611.js"],(function(e,t){"use strict";var s,r;return{setters:[e=>{s=e.r},e=>{r=e.s}],execute:function(){const t=e("e",Math.min),n=e("m",Math.max),o=Date.now,c=e("g",(e=>null!=e)),l=(e,t)=>Array.from({length:e},((e,s)=>t(s))),i=e=>{let t,s;return(...r)=>(t||(t=!0,s=e(...r)),s)},u=(e,t)=>{const s=e._sizes[t];return-1===s?e._defaultItemSize:s},a=(e,t,s)=>{if(!e._length)return 0;if(e._measuredOffsetIndex>=t)return s?e._offsets[t]+u(e,t):e._offsets[t];let r=e._measuredOffsetIndex,n=e._offsets[r];for(;r<=t&&(e._offsets[r]=n,r!==t||s);)n+=u(e,r),r++;return e._measuredOffsetIndex=t,n},f=(e,t)=>a(e,t),_=(e,s,r)=>{let o=0;if(r>=0)for(;s<e._length-1;){const t=u(e,s++);if((o+=t)>=r){o-t/2>=r&&s--;break}}else for(;s>0;){const t=u(e,--s);if((o-=t)<=r){o+t/2<r&&s++;break}}return t(n(s,0),e._length-1)},d=(e,t,s,r)=>_(e,s,t-r),g=_,h=(e,s,r)=>({_defaultItemSize:s,_length:e,_measuredOffsetIndex:r?t(r._measuredOffsetIndex,e-1):0,_sizes:l(e,(e=>{const t=r&&r._sizes[e];return c(t)?t:-1})),_offsets:l(e,(e=>{if(0===e)return 0;const t=r&&r._offsets[e];return c(t)?t:-1}))}),S=(e("c",((e,s,r,o,c=0,l,i)=>{let _,S=s*n(c-1,0),m=0,p=[],I=h(e,s),w=0,z=[0,c];const v=new Set;return{_getRange(){const[e,t]=z,s=f(I,e),r=d(I,m,e,s),n=g(I,r,S);return e===r&&t===n?z:z=[r,n]},_isUnmeasuredItem:e=>-1===I._sizes[e],_hasUnmeasuredItemsInRange:e=>((e,t,s)=>{for(let r=t;r<=s;r++)if(-1===e._sizes[r])return!0;return!1})(I,e,g(I,e,S)),_getItemOffset:e=>f(I,e),_getItemSize:e=>u(I,e),_getScrollOffset:()=>m,_getViewportSize:()=>S,_getScrollSize:()=>(e=>a(e,e._length-1,!0))(I),_getJump:()=>p,_isHorizontal:()=>r,_isRtl:()=>o,_getItemIndexForScrollTo:e=>d(I,e,0,0),_waitForScrollDestinationItemsMeasured:()=>(_&&_[1](),new Promise(((e,t)=>{_=[()=>{Promise.resolve().then((()=>{e(),_=void 0}))},t]}))),_subscribe:e=>(v.add(e),()=>{v.delete(e)}),_update(e,s){const r=(()=>{switch(e){case 1:{const e=s.filter((([e,t])=>I._sizes[e]!==t));if(!e.length)return!1;const r=[];return e.forEach((([e,s])=>{r.push([s-u(I,e),e]),((e,s,r)=>{e._sizes[s]=r,e._measuredOffsetIndex=t(s,e._measuredOffsetIndex)})(I,e,s)})),p=r,!0}case 2:return S!==s&&(S=s,!0);case 3:case 4:{const e=m;return(m=s)!==e}}})();r&&(v.forEach((e=>{e()})),3===e?i(m):_&&1===e&&_[0]())},_getScrollDirection:()=>w,_setScrollDirection(e){const t=w;w=e,0===w?l(!1):0!==t||1!==w&&2!==w||l(!0)},_updateCacheLength(e){I._length!==e&&(I=h(e,s,I))}}})),e("a","undefined"!=typeof window?s.useLayoutEffect:s.useEffect),e("u",((e,t)=>r.useSyncExternalStore(e,t,t))),i((e=>{const t="scrollLeft",s=e[t];e[t]=1;const r=e[t]<1;return e[t]=s,r}))),m=(e("d",((e,s)=>{let r;const l=e._isHorizontal(),i=e._isRtl(),u=l?"scrollLeft":"scrollTop",a=()=>r?l?r.scrollWidth:r.scrollHeight:0,f=(t,s)=>{r&&(l&&i&&S(r)&&(t*=-1),s?r[u]+=t:(r[u]=t,e._setScrollDirection(3)))},_=async(t,s)=>{const r=()=>{let t=s();const r=a(),n=e._getViewportSize();return r-(t+n)<=0&&(t=r-n),t};if(e._hasUnmeasuredItemsInRange(t)){do{e._update(4,r());try{await e._waitForScrollDestinationItemsMeasured()}catch(n){return}}while(e._hasUnmeasuredItemsInRange(t));f(r())}else{const t=r();f(t),e._update(4,t)}},d=e=>e.reduce(((e,[t])=>e+t),0);return{_initRoot(t){r=t;const n=()=>{let r=t[u];l&&i&&S(t)&&(r*=-1);const n=e._getScrollOffset();if(n===r)return;const o=e._getScrollDirection(),c=s();0!==o&&c||3===o||e._setScrollDirection(n>r?2:1),e._update(3,r)},a=((e,t)=>{let s;const r=()=>{c(s)&&clearTimeout(s)},n=()=>{r(),s=setTimeout((()=>{s=null,e()}),t)};return n._cancel=r,n})((()=>{n(),e._setScrollDirection(0)}),150),f=()=>{n(),a()},_=((e,t)=>{let s=o()-t;return(...r)=>{const n=o();s+t<n&&(s=n,e(...r))}})((t=>{if(0!==e._getScrollDirection()&&!t.ctrlKey&&(l?t.deltaX:t.deltaY)){const t=e._getScrollOffset();t>0&&t<e._getScrollSize()-e._getViewportSize()&&a()}}),50);return t.addEventListener("scroll",f),t.addEventListener("wheel",_,{passive:!0}),()=>{t.removeEventListener("scroll",f),t.removeEventListener("wheel",_),a._cancel()}},_getActualScrollSize:a,_scrollTo(t){t=n(t,0),_(e._getItemIndexForScrollTo(t),(()=>t))},_scrollToIndex(s,r){s=n(t(s,r-1),0),_(s,(()=>e._getItemOffset(s)))},_fixScrollJump:(t,s)=>{const r=e._getScrollDirection();if(2===r){const e=d(t);e&&f(e,!0)}else if(3===r){const r=e._getScrollOffset();if(0===r);else{const n=d(t);if(e._getScrollSize()-(r+e._getViewportSize()+n)<=0)n&&f(r+n);else{const e=t.reduce(((e,[t,r])=>(r<s&&(e+=t),e)),0);e&&f(e,!0)}}}}}})),e("r","current"));e("i",(e=>!c(e)||"boolean"==typeof e)),e("b",(e=>{const t=s.useRef();return t[m]||(t[m]=e())})),e("h",(e=>{let t,s=!1;const r=e._isHorizontal()?"width":"height",n=new WeakMap,o=i((()=>new ResizeObserver((o=>{const l=[];for(const{target:s,contentRect:i}of o)if(s===t)e._update(2,i[r]);else{const e=n.get(s);c(e)&&l.push([e,i[r]])}l.length&&(e._update(1,l),s=!0)}))));return{_observeRoot(e){t=e;const s=o();return s.observe(e),()=>{s.disconnect()}},_observeItem(e,t){const s=o();return n.set(e,t),s.observe(e),()=>{n.delete(e),s.unobserve(e)}},_isJustResized(){const e=s;return s=!1,e}}})),e("f",((e,t)=>{let s,r=!1,o=!1;const c="height",l="width",u=new WeakMap,a=new Set,f=new Set,_=new Map,d=(e,t)=>`${e}-${t}`,g=i((()=>new ResizeObserver((i=>{const g=new Set,h=new Set;for(const{target:r,contentRect:n}of i)if(r===s)e._update(2,n[c]),t._update(2,n[l]);else{const e=u.get(r);if(e){const[t,s]=e,r=d(t,s),o=_.get(r),i=[n[c],n[l]];let u,a;o?(o[0]!==i[0]&&(u=!0),o[1]!==i[1]&&(a=!0)):u=a=!0,u&&g.add(t),a&&h.add(s),(u||a)&&_.set(r,i)}}if(g.size){const t=[];g.forEach((e=>{let s=0;f.forEach((t=>{const r=_.get(d(e,t));r&&(s=n(s,r[0]))})),s&&t.push([e,s])})),e._update(1,t),r=!0}if(h.size){const e=[];h.forEach((t=>{let s=0;a.forEach((e=>{const r=_.get(d(e,t));r&&(s=n(s,r[1]))})),s&&e.push([t,s])})),t._update(1,e),o=!0}}))));return{_observeRoot(e){s=e;const t=g();return t.observe(e),()=>{t.disconnect()}},_observeItem(e,t,s){const r=g();return u.set(e,[t,s]),a.add(t),f.add(s),r.observe(e),()=>{u.delete(e),r.unobserve(e)}},_isJustResized(e){const t=e?o:r;return e?o=!1:r=!1,t}}}))}}}));
//# sourceMappingURL=resizer-legacy-ffe6a524.js.map
