import{a as Ce,j as F}from"./jsx-runtime-6c4ce591.js";import{R as x}from"./index-fcd6345f.js";import{R as qn}from"./index-42835c02.js";import{S as yt,I as pn,H as hn,a as gn}from"./components-4e89d67d.js";import{L as Ct}from"./List-caf073c5.js";const lt=0,be=1,We=2,xn=4;function vn(e,t){return n=>e(t(n))}function Yn(e,t){return t(e)}function In(e,t){return n=>e(t,n)}function Vt(e,t){return()=>e(t)}function ct(e,t){return t(e),e}function q(...e){return e}function Zn(e){e()}function Pt(e){return()=>e}function Jn(...e){return()=>{e.map(Zn)}}function Ve(){}function j(e,t){return e(be,t)}function U(e,t){e(lt,t)}function Et(e){e(We)}function xe(e){return e(xn)}function B(e,t){return j(e,In(t,lt))}function _e(e,t){const n=e(be,o=>{n(),t(o)});return n}function A(){const e=[];return(t,n)=>{switch(t){case We:e.splice(0,e.length);return;case be:return e.push(n),()=>{const o=e.indexOf(n);o>-1&&e.splice(o,1)};case lt:e.slice().forEach(o=>{o(n)});return;default:throw new Error(`unrecognized action ${t}`)}}}function C(e){let t=e;const n=A();return(o,r)=>{switch(o){case be:r(t);break;case lt:t=r;break;case xn:return t}return n(o,r)}}function Qn(e){let t,n;const o=()=>t&&t();return function(r,s){switch(r){case be:return s?n===s?void 0:(o(),n=s,t=j(e,s),t):(o(),Ve);case We:o(),n=null;return;default:throw new Error(`unrecognized action ${r}`)}}}function pe(e){return ct(A(),t=>B(e,t))}function ie(e,t){return ct(C(t),n=>B(e,n))}function Xn(...e){return t=>e.reduceRight(Yn,t)}function I(e,...t){const n=Xn(...t);return(o,r)=>{switch(o){case be:return j(e,n(r));case We:Et(e);return}}}function Sn(e,t){return e===t}function K(e=Sn){let t;return n=>o=>{e(t,o)||(t=o,n(o))}}function D(e){return t=>n=>{e(n)&&t(n)}}function R(e){return t=>vn(t,e)}function Re(e){return t=>()=>t(e)}function ye(e,t){return n=>o=>n(t=e(t,o))}function ot(e){return t=>n=>{e>0?e--:t(n)}}function ze(e){let t,n;return o=>r=>{t=r,!n&&(n=setTimeout(()=>{n=void 0,o(t)},e))}}function At(e){let t,n;return o=>r=>{t=r,n&&clearTimeout(n),n=setTimeout(()=>{o(t)},e)}}function P(...e){const t=new Array(e.length);let n=0,o=null;const r=Math.pow(2,e.length)-1;return e.forEach((s,i)=>{const l=Math.pow(2,i);j(s,u=>{const m=n;n=n|l,t[i]=u,m!==r&&n===r&&o&&(o(),o=null)})}),s=>i=>{const l=()=>s([i].concat(t));n===r?l():o=l}}function Gt(...e){return function(t,n){switch(t){case be:return Jn(...e.map(o=>j(o,n)));case We:return;default:throw new Error(`unrecognized action ${t}`)}}}function N(e,t=Sn){return I(e,K(t))}function ne(...e){const t=A(),n=new Array(e.length);let o=0;const r=Math.pow(2,e.length)-1;return e.forEach((s,i)=>{const l=Math.pow(2,i);j(s,u=>{n[i]=u,o=o|l,o===r&&U(t,n)})}),function(s,i){switch(s){case be:return o===r&&i(n),j(t,i);case We:return Et(t);default:throw new Error(`unrecognized action ${s}`)}}}function M(e,t=[],{singleton:n}={singleton:!0}){return{id:eo(),constructor:e,dependencies:t,singleton:n}}const eo=()=>Symbol();function to(e){const t=new Map,n=({id:o,constructor:r,dependencies:s,singleton:i})=>{if(i&&t.has(o))return t.get(o);const l=r(s.map(u=>n(u)));return i&&t.set(o,l),l};return n(e)}function no(e,t){const n={},o={};let r=0;const s=e.length;for(;r<s;)o[e[r]]=1,r+=1;for(const i in t)o.hasOwnProperty(i)||(n[i]=t[i]);return n}const Je=typeof document<"u"?x.useLayoutEffect:x.useEffect;function wn(e,t,n){const o=Object.keys(t.required||{}),r=Object.keys(t.optional||{}),s=Object.keys(t.methods||{}),i=Object.keys(t.events||{}),l=x.createContext({});function u(d,g){d.propsReady&&U(d.propsReady,!1);for(const f of o){const p=d[t.required[f]];U(p,g[f])}for(const f of r)if(f in g){const p=d[t.optional[f]];U(p,g[f])}d.propsReady&&U(d.propsReady,!0)}function m(d){return s.reduce((g,f)=>(g[f]=p=>{const w=d[t.methods[f]];U(w,p)},g),{})}function a(d){return i.reduce((g,f)=>(g[f]=Qn(d[t.events[f]]),g),{})}return{Component:x.forwardRef((d,g)=>{const{children:f,...p}=d,[w]=x.useState(()=>ct(to(e),c=>u(c,p))),[b]=x.useState(Vt(a,w));return Je(()=>{for(const c of i)c in p&&j(b[c],p[c]);return()=>{Object.values(b).map(Et)}},[p,b,w]),Je(()=>{u(w,p)}),x.useImperativeHandle(g,Pt(m(w))),x.createElement(l.Provider,{value:w},n?x.createElement(n,no([...o,...r,...i],p),f):f)}),usePublisher:d=>x.useCallback(In(U,x.useContext(l)[d]),[d]),useEmitterValue:d=>{const f=x.useContext(l)[d],[p,w]=x.useState(Vt(xe,f));return Je(()=>j(f,b=>{b!==p&&w(Pt(b))}),[f,p]),p},useEmitter:(d,g)=>{const p=x.useContext(l)[d];Je(()=>j(p,g),[g,p])}}}const oo=typeof document<"u"?x.useLayoutEffect:x.useEffect,ro=oo;var he=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(he||{});const so={[0]:"debug",[1]:"log",[2]:"warn",[3]:"error"},io=()=>typeof globalThis>"u"?window:globalThis,He=M(()=>{const e=C(3);return{log:C((n,o,r=1)=>{const s=io().VIRTUOSO_LOG_LEVEL??xe(e);r>=s&&console[so[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,o)}),logLevel:e}},[],{singleton:!0});function Rt(e,t=!0){const n=x.useRef(null);let o=r=>{};if(typeof ResizeObserver<"u"){const r=x.useMemo(()=>new ResizeObserver(s=>{const i=s[0].target;i.offsetParent!==null&&e(i)}),[e]);o=s=>{s&&t?(r.observe(s),n.current=s):(n.current&&r.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function Be(e,t=!0){return Rt(e,t).callbackRef}function lo(e,t,n,o,r,s,i){const l=x.useCallback(u=>{const m=co(u.children,t,"offsetHeight",r);let a=u.parentElement;for(;!a.dataset.virtuosoScroller;)a=a.parentElement;const h=a.lastElementChild.dataset.viewportType==="window",S=i?i.scrollTop:h?window.pageYOffset||document.documentElement.scrollTop:a.scrollTop,y=i?i.scrollHeight:h?document.documentElement.scrollHeight:a.scrollHeight,E=i?i.offsetHeight:h?window.innerHeight:a.offsetHeight;o({scrollTop:Math.max(S,0),scrollHeight:y,viewportHeight:E}),s==null||s(uo("row-gap",getComputedStyle(u).rowGap,r)),m!==null&&e(m)},[e,t,r,s,i,o]);return Rt(l,n)}function co(e,t,n,o){const r=e.length;if(r===0)return null;const s=[];for(let i=0;i<r;i++){const l=e.item(i);if(!l||l.dataset.index===void 0)continue;const u=parseInt(l.dataset.index),m=parseFloat(l.dataset.knownSize),a=t(l,n);if(a===0&&o("Zero-sized element, this should not happen",{child:l},he.ERROR),a===m)continue;const h=s[s.length-1];s.length===0||h.size!==a||h.endIndex!==u-1?s.push({startIndex:u,endIndex:u,size:a}):s[s.length-1].endIndex++}return s}function uo(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,he.WARN),t==="normal"?0:parseInt(t??"0",10)}function Oe(e,t){return Math.round(e.getBoundingClientRect()[t])}function Tn(e,t){return Math.abs(e-t)<1.01}function yn(e,t,n,o=Ve,r){const s=x.useRef(null),i=x.useRef(null),l=x.useRef(null),u=x.useCallback(h=>{const S=h.target,y=S===window||S===document,E=y?window.pageYOffset||document.documentElement.scrollTop:S.scrollTop,d=y?document.documentElement.scrollHeight:S.scrollHeight,g=y?window.innerHeight:S.offsetHeight,f=()=>{e({scrollTop:Math.max(E,0),scrollHeight:d,viewportHeight:g})};h.suppressFlushSync?f():qn.flushSync(f),i.current!==null&&(E===i.current||E<=0||E===d-g)&&(i.current=null,t(!0),l.current&&(clearTimeout(l.current),l.current=null))},[e,t]);x.useEffect(()=>{const h=r||s.current;return o(r||s.current),u({target:h,suppressFlushSync:!0}),h.addEventListener("scroll",u,{passive:!0}),()=>{o(null),h.removeEventListener("scroll",u)}},[s,u,n,o,r]);function m(h){const S=s.current;if(!S||"offsetHeight"in S&&S.offsetHeight===0)return;const y=h.behavior==="smooth";let E,d,g;S===window?(d=Math.max(Oe(document.documentElement,"height"),document.documentElement.scrollHeight),E=window.innerHeight,g=document.documentElement.scrollTop):(d=S.scrollHeight,E=Oe(S,"height"),g=S.scrollTop);const f=d-E;if(h.top=Math.ceil(Math.max(Math.min(f,h.top),0)),Tn(E,d)||h.top===g){e({scrollTop:g,scrollHeight:d,viewportHeight:E}),y&&t(!0);return}y?(i.current=h.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,i.current=null,t(!0)},1e3)):i.current=null,S.scrollTo(h)}function a(h){s.current.scrollBy(h)}return{scrollerRef:s,scrollByCallback:a,scrollToCallback:m}}const ae=M(()=>{const e=A(),t=A(),n=C(0),o=A(),r=C(0),s=A(),i=A(),l=C(0),u=C(0),m=C(0),a=C(0),h=A(),S=A(),y=C(!1);return B(I(e,R(({scrollTop:E})=>E)),t),B(I(e,R(({scrollHeight:E})=>E)),i),B(t,r),{scrollContainerState:e,scrollTop:t,viewportHeight:s,headerHeight:l,fixedHeaderHeight:u,fixedFooterHeight:m,footerHeight:a,scrollHeight:i,smoothScrollTargetReached:o,scrollTo:h,scrollBy:S,statefulScrollTop:r,deviation:n,scrollingInProgress:y}},[],{singleton:!0}),Me={lvl:0};function Cn(e,t,n,o=Me,r=Me){return{k:e,v:t,lvl:n,l:o,r}}function $(e){return e===Me}function De(){return Me}function vt(e,t){if($(e))return Me;const{k:n,l:o,r}=e;if(t===n){if($(o))return r;if($(r))return o;{const[s,i]=En(o);return tt(X(e,{k:s,v:i,l:Rn(o)}))}}else return t<n?tt(X(e,{l:vt(o,t)})):tt(X(e,{r:vt(r,t)}))}function Fe(e,t){if(!$(e))return t===e.k?e.v:t<e.k?Fe(e.l,t):Fe(e.r,t)}function Te(e,t,n="k"){if($(e))return[-1/0,void 0];if(e[n]===t)return[e.k,e.v];if(e[n]<t){const o=Te(e.r,t,n);return o[0]===-1/0?[e.k,e.v]:o}return Te(e.l,t,n)}function me(e,t,n){return $(e)?Cn(t,n,1):t===e.k?X(e,{k:t,v:n}):t<e.k?Mt(X(e,{l:me(e.l,t,n)})):Mt(X(e,{r:me(e.r,t,n)}))}function It(e,t,n){if($(e))return[];const{k:o,v:r,l:s,r:i}=e;let l=[];return o>t&&(l=l.concat(It(s,t,n))),o>=t&&o<=n&&l.push({k:o,v:r}),o<=n&&(l=l.concat(It(i,t,n))),l}function ke(e){return $(e)?[]:[...ke(e.l),{k:e.k,v:e.v},...ke(e.r)]}function En(e){return $(e.r)?[e.k,e.v]:En(e.r)}function Rn(e){return $(e.r)?e.l:tt(X(e,{r:Rn(e.r)}))}function X(e,t){return Cn(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function pt(e){return $(e)||e.lvl>e.r.lvl}function Mt(e){return St(bn(e))}function tt(e){const{l:t,r:n,lvl:o}=e;if(n.lvl>=o-1&&t.lvl>=o-1)return e;if(o>n.lvl+1){if(pt(t))return bn(X(e,{lvl:o-1}));if(!$(t)&&!$(t.r))return X(t.r,{l:X(t,{r:t.r.l}),r:X(e,{l:t.r.r,lvl:o-1}),lvl:o});throw new Error("Unexpected empty nodes")}else{if(pt(e))return St(X(e,{lvl:o-1}));if(!$(n)&&!$(n.l)){const r=n.l,s=pt(r)?n.lvl-1:n.lvl;return X(r,{l:X(e,{r:r.l,lvl:o-1}),r:St(X(n,{l:r.r,lvl:s})),lvl:r.lvl+1})}else throw new Error("Unexpected empty nodes")}}function ut(e,t,n){if($(e))return[];const o=Te(e,t)[0];return ao(It(e,o,n))}function On(e,t){const n=e.length;if(n===0)return[];let{index:o,value:r}=t(e[0]);const s=[];for(let i=1;i<n;i++){const{index:l,value:u}=t(e[i]);s.push({start:o,end:l-1,value:r}),o=l,r=u}return s.push({start:o,end:1/0,value:r}),s}function ao(e){return On(e,({k:t,v:n})=>({index:t,value:n}))}function St(e){const{r:t,lvl:n}=e;return!$(t)&&!$(t.r)&&t.lvl===n&&t.r.lvl===n?X(t,{l:X(e,{r:t.l}),lvl:n+1}):e}function bn(e){const{l:t}=e;return!$(t)&&t.lvl===e.lvl?X(t,{r:X(e,{l:t.r})}):e}function rt(e,t,n,o=0){let r=e.length-1;for(;o<=r;){const s=Math.floor((o+r)/2),i=e[s],l=n(i,t);if(l===0)return s;if(l===-1){if(r-o<2)return s-1;r=s-1}else{if(r===o)return s;o=s+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function Hn(e,t,n){return e[rt(e,t,n)]}function fo(e,t,n,o){const r=rt(e,t,o),s=rt(e,n,o,r);return e.slice(r,s+1)}const Ot=M(()=>({recalcInProgress:C(!1)}),[],{singleton:!0});function mo(e){const{size:t,startIndex:n,endIndex:o}=e;return r=>r.start===n&&(r.end===o||r.end===1/0)&&r.value===t}function Ft(e,t){let n=0,o=0;for(;n<e;)n+=t[o+1]-t[o]-1,o++;return o-(n===e?0:1)}function po(e,t){let n=$(e)?0:1/0;for(const o of t){const{size:r,startIndex:s,endIndex:i}=o;if(n=Math.min(n,s),$(e)){e=me(e,0,r);continue}const l=ut(e,s-1,i+1);if(l.some(mo(o)))continue;let u=!1,m=!1;for(const{start:a,end:h,value:S}of l)u?(i>=a||r===S)&&(e=vt(e,a)):(m=S!==r,u=!0),h>i&&i>=a&&S!==r&&(e=me(e,i+1,S));m&&(e=me(e,s,r))}return[e,n]}function ho(){return{offsetTree:[],sizeTree:De(),groupOffsetTree:De(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function bt({index:e},t){return t===e?0:t<e?-1:1}function go({offset:e},t){return t===e?0:t<e?-1:1}function xo(e){return{index:e.index,value:e}}function vo(e,t,n,o=0){return o>0&&(t=Math.max(t,Hn(e,o,bt).offset)),On(fo(e,t,n,go),xo)}function wt(e,t,n,o){let r=e,s=0,i=0,l=0,u=0;if(t!==0){u=rt(r,t-1,bt),l=r[u].offset;const a=Te(n,t-1);s=a[0],i=a[1],r.length&&r[u].size===Te(n,t)[1]&&(u-=1),r=r.slice(0,u+1)}else r=[];for(const{start:m,value:a}of ut(n,t,1/0)){const h=m-s,S=h*i+l+h*o;r.push({offset:S,size:a,index:m}),s=m,l=S,i=a}return{offsetTree:r,lastIndex:s,lastOffset:l,lastSize:i}}function Io(e,[t,n,o,r]){t.length>0&&o("received item sizes",t,he.DEBUG);const s=e.sizeTree;let i=s,l=0;if(n.length>0&&$(s)&&t.length===2){const S=t[0].size,y=t[1].size;i=n.reduce((E,d)=>me(me(E,d,S),d+1,y),i)}else[i,l]=po(i,t);if(i===s)return e;const{offsetTree:u,lastIndex:m,lastSize:a,lastOffset:h}=wt(e.offsetTree,l,i,r);return{sizeTree:i,offsetTree:u,lastIndex:m,lastOffset:h,lastSize:a,groupOffsetTree:n.reduce((S,y)=>me(S,y,Ue(y,u,r)),De()),groupIndices:n}}function Ue(e,t,n){if(t.length===0)return 0;const{offset:o,index:r,size:s}=Hn(t,e,bt),i=e-r,l=s*i+(i-1)*n+o;return l>0?l+n:l}function So(e){return typeof e.groupIndex<"u"}function _n(e,t,n){if(So(e))return t.groupIndices[e.groupIndex]+1;{const o=e.index==="LAST"?n:e.index;let r=Bn(o,t);return r=Math.max(0,r,Math.min(n,r)),r}}function Bn(e,t){if(!at(t))return e;let n=0;for(;t.groupIndices[n]<=e+n;)n++;return e+n}function at(e){return!$(e.groupOffsetTree)}const wo={offsetHeight:"height",offsetWidth:"width"},Ee=M(([{log:e},{recalcInProgress:t}])=>{const n=A(),o=A(),r=ie(o,0),s=A(),i=A(),l=C(0),u=C([]),m=C(void 0),a=C(void 0),h=C((c,v)=>Oe(c,wo[v])),S=C(void 0),y=C(0),E=ho(),d=ie(I(n,P(u,e,y),ye(Io,E),K()),E),g=ie(I(u,K(),ye((c,v)=>({prev:c.current,current:v}),{prev:[],current:[]}),R(({prev:c})=>c)),[]);B(I(u,D(c=>c.length>0),P(d,y),R(([c,v,T])=>{const k=c.reduce((_,z,L)=>me(_,z,Ue(z,v.offsetTree,T)||L),De());return{...v,groupIndices:c,groupOffsetTree:k}})),d),B(I(o,P(d),D(([c,{lastIndex:v,groupIndices:T}])=>c<v&&T.length===0),R(([c,{lastIndex:v,lastSize:T}])=>[{startIndex:c,endIndex:v,size:T}])),n),B(m,a);const f=ie(I(m,R(c=>c===void 0)),!0);B(I(a,D(c=>c!==void 0&&$(xe(d).sizeTree)),R(c=>[{startIndex:0,endIndex:0,size:c}])),n);const p=pe(I(n,P(d),ye(({sizes:c},[v,T])=>({changed:T!==c,sizes:T}),{changed:!1,sizes:E}),R(c=>c.changed)));j(I(l,ye((c,v)=>({diff:c.prev-v,prev:v}),{diff:0,prev:0}),R(c=>c.diff)),c=>{const{groupIndices:v}=xe(d);if(c>0)U(t,!0),U(s,c+Ft(c,v));else if(c<0){const T=xe(g);T.length>0&&U(i,c-Ft(-c,T))}}),j(I(l,P(e)),([c,v])=>{c<0&&v("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},he.ERROR)});const w=pe(s);B(I(s,P(d),R(([c,v])=>{const T=v.groupIndices.length>0,k=[],_=v.lastSize;if(T){const z=Fe(v.sizeTree,0);let L=0,G=0;for(;L<c;){const W=v.groupIndices[G],ee=v.groupIndices[G+1]-W-1;k.push({startIndex:W,endIndex:W,size:z}),k.push({startIndex:W+1,endIndex:W+1+ee-1,size:_}),G++,L+=ee+1}const O=ke(v.sizeTree);return L!==c&&O.shift(),O.reduce((W,{k:ee,v:Ie})=>{let Se=W.ranges;return W.prevSize!==0&&(Se=[...W.ranges,{startIndex:W.prevIndex,endIndex:ee+c-1,size:W.prevSize}]),{ranges:Se,prevIndex:ee+c,prevSize:Ie}},{ranges:k,prevIndex:c,prevSize:0}).ranges}return ke(v.sizeTree).reduce((z,{k:L,v:G})=>({ranges:[...z.ranges,{startIndex:z.prevIndex,endIndex:L+c-1,size:z.prevSize}],prevIndex:L+c,prevSize:G}),{ranges:[],prevIndex:0,prevSize:_}).ranges})),n);const b=pe(I(i,P(d,y),R(([c,{offsetTree:v},T])=>{const k=-c;return Ue(k,v,T)})));return B(I(i,P(d,y),R(([c,v,T])=>{if(v.groupIndices.length>0){let _=De();const z=xe(g);let L=0,G=0,O=0;for(;L<-c;){O=z[G];const W=z[G+1]-O-1;G++,L+=W+1}if(_=ke(v.sizeTree).reduce((W,{k:ee,v:Ie})=>me(W,Math.max(0,ee+c),Ie),_),L!==-c){const W=Fe(v.sizeTree,O);_=me(_,0,W);const ee=Te(v.sizeTree,-c+1)[1];_=me(_,1,ee)}return{...v,sizeTree:_,...wt(v.offsetTree,0,_,T)}}else{const _=ke(v.sizeTree).reduce((z,{k:L,v:G})=>me(z,Math.max(0,L+c),G),De());return{...v,sizeTree:_,...wt(v.offsetTree,0,_,T)}}})),d),{data:S,totalCount:o,sizeRanges:n,groupIndices:u,defaultItemSize:a,fixedItemSize:m,unshiftWith:s,shiftWith:i,shiftWithOffset:b,beforeUnshiftWith:w,firstItemIndex:l,gap:y,sizes:d,listRefresh:p,statefulTotalCount:r,trackItemSizes:f,itemSize:h}},q(He,Ot),{singleton:!0}),To=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Ln(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!To)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const Ke=M(([{sizes:e,totalCount:t,listRefresh:n,gap:o},{scrollingInProgress:r,viewportHeight:s,scrollTo:i,smoothScrollTargetReached:l,headerHeight:u,footerHeight:m,fixedHeaderHeight:a,fixedFooterHeight:h},{log:S}])=>{const y=A(),E=C(0);let d=null,g=null,f=null;function p(){d&&(d(),d=null),f&&(f(),f=null),g&&(clearTimeout(g),g=null),U(r,!1)}return B(I(y,P(e,s,t,E,u,m,S),P(o,a,h),R(([[w,b,c,v,T,k,_,z],L,G,O])=>{const Y=Ln(w),{align:W,behavior:ee,offset:Ie}=Y,Se=v-1,H=_n(Y,b,Se);let Z=Ue(H,b.offsetTree,L)+k;W==="end"?(Z+=G+Te(b.sizeTree,H)[1]-c+O,H===Se&&(Z+=_)):W==="center"?Z+=(G+Te(b.sizeTree,H)[1]-c+O)/2:Z-=T,Ie&&(Z+=Ie);const ge=oe=>{p(),oe?(z("retrying to scroll to",{location:w},he.DEBUG),U(y,w)):z("list did not change, scroll successful",{},he.DEBUG)};if(p(),ee==="smooth"){let oe=!1;f=j(n,de=>{oe=oe||de}),d=_e(l,()=>{ge(oe)})}else d=_e(I(n,yo(150)),ge);return g=setTimeout(()=>{p()},1200),U(r,!0),z("scrolling from index to",{index:H,top:Z,behavior:ee},he.DEBUG),{top:Z,behavior:ee}})),i),{scrollToIndex:y,topListHeight:E}},q(Ee,ae,He),{singleton:!0});function yo(e){return t=>{const n=setTimeout(()=>{t(!1)},e);return o=>{o&&(t(!0),clearTimeout(n))}}}const $e="up",Ae="down",Co="none",Eo={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},Ro=0,qe=M(([{scrollContainerState:e,scrollTop:t,viewportHeight:n,headerHeight:o,footerHeight:r,scrollBy:s}])=>{const i=C(!1),l=C(!0),u=A(),m=A(),a=C(4),h=C(Ro),S=ie(I(Gt(I(N(t),ot(1),Re(!0)),I(N(t),ot(1),Re(!1),At(100))),K()),!1),y=ie(I(Gt(I(s,Re(!0)),I(s,Re(!1),At(200))),K()),!1);B(I(ne(N(t),N(h)),R(([p,w])=>p<=w),K()),l),B(I(l,ze(50)),m);const E=pe(I(ne(e,N(n),N(o),N(r),N(a)),ye((p,[{scrollTop:w,scrollHeight:b},c,v,T,k])=>{const _=w+c-b>-k,z={viewportHeight:c,scrollTop:w,scrollHeight:b};if(_){let G,O;return w>p.state.scrollTop?(G="SCROLLED_DOWN",O=p.state.scrollTop-w):(G="SIZE_DECREASED",O=p.state.scrollTop-w||p.scrollTopDelta),{atBottom:!0,state:z,atBottomBecause:G,scrollTopDelta:O}}let L;return z.scrollHeight>p.state.scrollHeight?L="SIZE_INCREASED":c<p.state.viewportHeight?L="VIEWPORT_HEIGHT_DECREASING":w<p.state.scrollTop?L="SCROLLING_UPWARDS":L="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:L,state:z}},Eo),K((p,w)=>p&&p.atBottom===w.atBottom))),d=ie(I(e,ye((p,{scrollTop:w,scrollHeight:b,viewportHeight:c})=>{if(Tn(p.scrollHeight,b))return{scrollTop:w,scrollHeight:b,jump:0,changed:!1};{const v=b-(w+c)<1;return p.scrollTop!==w&&v?{scrollHeight:b,scrollTop:w,jump:p.scrollTop-w,changed:!0}:{scrollHeight:b,scrollTop:w,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),D(p=>p.changed),R(p=>p.jump)),0);B(I(E,R(p=>p.atBottom)),i),B(I(i,ze(50)),u);const g=C(Ae);B(I(e,R(({scrollTop:p})=>p),K(),ye((p,w)=>xe(y)?{direction:p.direction,prevScrollTop:w}:{direction:w<p.prevScrollTop?$e:Ae,prevScrollTop:w},{direction:Ae,prevScrollTop:0}),R(p=>p.direction)),g),B(I(e,ze(50),Re(Co)),g);const f=C(0);return B(I(S,D(p=>!p),Re(0)),f),B(I(t,ze(100),P(S),D(([p,w])=>!!w),ye(([p,w],[b])=>[w,b],[0,0]),R(([p,w])=>w-p)),f),{isScrolling:S,isAtTop:l,isAtBottom:i,atBottomState:E,atTopStateChange:m,atBottomStateChange:u,scrollDirection:g,atBottomThreshold:a,atTopThreshold:h,scrollVelocity:f,lastJumpDueToItemResize:d}},q(ae)),Le=M(([{log:e}])=>{const t=C(!1),n=pe(I(t,D(o=>o),K()));return j(t,o=>{o&&xe(e)("props updated",{},he.DEBUG)}),{propsReady:t,didMount:n}},q(He),{singleton:!0});function Oo(e,t){const n=t-1;return typeof e=="number"?e:e.index==="LAST"?n:e.index}const Ht=M(([{sizes:e,listRefresh:t,defaultItemSize:n},{scrollTop:o},{scrollToIndex:r},{didMount:s}])=>{const i=C(!0),l=C(0);return B(I(s,P(l),D(([u,m])=>!!m),Re(!1)),i),j(I(ne(t,s),P(i,e,n),D(([[,u],m,{sizeTree:a},h])=>u&&(!$(a)||h!==void 0)&&!m),P(l)),([,u])=>{setTimeout(()=>{_e(o,()=>{U(i,!0)}),U(r,u)})}),{scrolledToInitialItem:i,initialTopMostItemIndex:l}},q(Ee,ae,Ke,Le),{singleton:!0});function Ut(e){return e?e==="smooth"?"smooth":"auto":!1}const bo=(e,t)=>typeof e=="function"?Ut(e(t)):t&&Ut(e),Ho=M(([{totalCount:e,listRefresh:t},{isAtBottom:n,atBottomState:o},{scrollToIndex:r},{scrolledToInitialItem:s},{propsReady:i,didMount:l},{log:u},{scrollingInProgress:m}])=>{const a=C(!1),h=A();let S=null;function y(d){U(r,{index:"LAST",align:"end",behavior:d})}j(I(ne(I(N(e),ot(1)),l),P(N(a),n,s,m),R(([[d,g],f,p,w,b])=>{let c=g&&w,v="auto";return c&&(v=bo(f,p||b),c=c&&!!v),{totalCount:d,shouldFollow:c,followOutputBehavior:v}}),D(({shouldFollow:d})=>d)),({totalCount:d,followOutputBehavior:g})=>{S&&(S(),S=null),S=_e(t,()=>{xe(u)("following output to ",{totalCount:d},he.DEBUG),y(g),S=null})});function E(d){const g=_e(o,f=>{d&&!f.atBottom&&f.notAtBottomBecause==="SIZE_INCREASED"&&!S&&(xe(u)("scrolling to bottom due to increased size",{},he.DEBUG),y("auto"))});setTimeout(g,100)}return j(I(ne(N(a),e,i),D(([d,,g])=>d&&g),ye(({value:d},[,g])=>({refreshed:d===g,value:g}),{refreshed:!1,value:0}),D(({refreshed:d})=>d),P(a,e)),([,d])=>{E(d!==!1)}),j(h,()=>{E(xe(a)!==!1)}),j(ne(N(a),o),([d,g])=>{d&&!g.atBottom&&g.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&y("auto")}),{followOutput:a,autoscrollToBottom:h}},q(Ee,qe,Ke,Ht,Le,He,ae));function _o(e){return e.reduce((t,n)=>(t.groupIndices.push(t.totalCount),t.totalCount+=n+1,t),{totalCount:0,groupIndices:[]})}const zn=M(([{totalCount:e,groupIndices:t,sizes:n},{scrollTop:o,headerHeight:r}])=>{const s=A(),i=A(),l=pe(I(s,R(_o)));return B(I(l,R(u=>u.totalCount)),e),B(I(l,R(u=>u.groupIndices)),t),B(I(ne(o,n,r),D(([u,m])=>at(m)),R(([u,m,a])=>Te(m.groupOffsetTree,Math.max(u-a,0),"v")[0]),K(),R(u=>[u])),i),{groupCounts:s,topItemsIndexes:i}},q(Ee,ae));function je(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function kn(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}const st="top",it="bottom",$t="none";function jt(e,t,n){return typeof e=="number"?n===$e&&t===st||n===Ae&&t===it?e:0:n===$e?t===st?e.main:e.reverse:t===it?e.main:e.reverse}function Kt(e,t){return typeof e=="number"?e:e[t]||0}const _t=M(([{scrollTop:e,viewportHeight:t,deviation:n,headerHeight:o,fixedHeaderHeight:r}])=>{const s=A(),i=C(0),l=C(0),u=C(0),m=ie(I(ne(N(e),N(t),N(o),N(s,je),N(u),N(i),N(r),N(n),N(l)),R(([a,h,S,[y,E],d,g,f,p,w])=>{const b=a-p,c=g+f,v=Math.max(S-b,0);let T=$t;const k=Kt(w,st),_=Kt(w,it);return y-=p,y+=S+f,E+=S+f,E-=p,y>a+c-k&&(T=$e),E<a-v+h+_&&(T=Ae),T!==$t?[Math.max(b-S-jt(d,st,T)-k,0),b-v-f+h+jt(d,it,T)+_]:null}),D(a=>a!=null),K(je)),[0,0]);return{listBoundary:s,overscan:u,topListHeight:i,increaseViewportBy:l,visibleRange:m}},q(ae),{singleton:!0});function Bo(e,t,n){if(at(t)){const o=Bn(e,t);return[{index:Te(t.groupOffsetTree,o)[0],size:0,offset:0},{index:o,size:0,offset:0,data:n&&n[0]}]}return[{index:e,size:0,offset:0,data:n&&n[0]}]}const qt={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function Yt(e,t,n){if(e.length===0)return[];if(!at(t))return e.map(m=>({...m,index:m.index+n,originalIndex:m.index}));const o=e[0].index,r=e[e.length-1].index,s=[],i=ut(t.groupOffsetTree,o,r);let l,u=0;for(const m of e){(!l||l.end<m.index)&&(l=i.shift(),u=t.groupIndices.indexOf(l.start));let a;m.index===l.start?a={type:"group",index:u}:a={index:m.index-(u+1)+n,groupIndex:u},s.push({...a,size:m.size,offset:m.offset,originalIndex:m.index,data:m.data})}return s}function nt(e,t,n,o,r,s){const{lastSize:i,lastOffset:l,lastIndex:u}=r;let m=0,a=0;if(e.length>0){m=e[0].offset;const d=e[e.length-1];a=d.offset+d.size}const h=n-u,S=l+h*i+(h-1)*o,y=m,E=S-a;return{items:Yt(e,r,s),topItems:Yt(t,r,s),topListHeight:t.reduce((d,g)=>g.size+d,0),offsetTop:m,offsetBottom:E,top:y,bottom:a,totalCount:n,firstItemIndex:s}}const Pe=M(([{sizes:e,totalCount:t,data:n,firstItemIndex:o,gap:r},s,{visibleRange:i,listBoundary:l,topListHeight:u},{scrolledToInitialItem:m,initialTopMostItemIndex:a},{topListHeight:h},S,{didMount:y},{recalcInProgress:E}])=>{const d=C([]),g=A();B(s.topItemsIndexes,d);const f=ie(I(ne(y,E,N(i,je),N(t),N(e),N(a),m,N(d),N(o),N(r),n),D(([c,v,,T,,,,,,,k])=>{const _=k&&k.length!==T;return c&&!v&&!_}),R(([,,[c,v],T,k,_,z,L,G,O,Y])=>{const W=k,{sizeTree:ee,offsetTree:Ie}=W;if(T===0||c===0&&v===0)return{...qt,totalCount:T};if($(ee))return nt(Bo(Oo(_,T),W,Y),[],T,O,W,G);const Se=[];if(L.length>0){const de=L[0],re=L[L.length-1];let fe=0;for(const te of ut(ee,de,re)){const le=te.value,Q=Math.max(te.start,de),ce=Math.min(te.end,re);for(let se=Q;se<=ce;se++)Se.push({index:se,size:le,offset:fe,data:Y&&Y[se]}),fe+=le}}if(!z)return nt([],Se,T,O,W,G);const H=L.length>0?L[L.length-1]+1:0,Z=vo(Ie,c,v,H);if(Z.length===0)return null;const ge=T-1,oe=ct([],de=>{for(const re of Z){const fe=re.value;let te=fe.offset,le=re.start;const Q=fe.size;if(fe.offset<c){le+=Math.floor((c-fe.offset+O)/(Q+O));const se=le-re.start;te+=se*Q+se*O}le<H&&(te+=(H-le)*Q,le=H);const ce=Math.min(re.end,ge);for(let se=le;se<=ce&&!(te>=v);se++)de.push({index:se,size:Q,offset:te,data:Y&&Y[se]}),te+=Q+O}});return nt(oe,Se,T,O,W,G)}),D(c=>c!==null),K()),qt);B(I(n,D(c=>c!==void 0),R(c=>c==null?void 0:c.length)),t),B(I(f,R(c=>c.topListHeight)),h),B(h,u),B(I(f,R(c=>[c.top,c.bottom])),l),B(I(f,R(c=>c.items)),g);const p=pe(I(f,D(({items:c})=>c.length>0),P(t,n),D(([{items:c},v])=>c[c.length-1].originalIndex===v-1),R(([,c,v])=>[c-1,v]),K(je),R(([c])=>c))),w=pe(I(f,ze(200),D(({items:c,topItems:v})=>c.length>0&&c[0].originalIndex===v.length),R(({items:c})=>c[0].index),K())),b=pe(I(f,D(({items:c})=>c.length>0),R(({items:c})=>{let v=0,T=c.length-1;for(;c[v].type==="group"&&v<T;)v++;for(;c[T].type==="group"&&T>v;)T--;return{startIndex:c[v].index,endIndex:c[T].index}}),K(kn)));return{listState:f,topItemsIndexes:d,endReached:p,startReached:w,rangeChanged:b,itemsRendered:g,...S}},q(Ee,zn,_t,Ht,Ke,qe,Le,Ot),{singleton:!0}),Lo=M(([{sizes:e,firstItemIndex:t,data:n,gap:o},{listState:r},{didMount:s}])=>{const i=C(0);return B(I(s,P(i),D(([,l])=>l!==0),P(e,t,o,n),R(([[,l],u,m,a,h=[]])=>{let S=0;if(u.groupIndices.length>0)for(const d of u.groupIndices){if(d-S>=l)break;S++}const y=l+S,E=Array.from({length:y}).map((d,g)=>({index:g,size:0,offset:0,data:h[g]}));return nt(E,[],y,a,u,m)})),r),{initialItemCount:i}},q(Ee,Pe,Le),{singleton:!0}),Dn=M(([{scrollVelocity:e}])=>{const t=C(!1),n=A(),o=C(!1);return B(I(e,P(o,t,n),D(([r,s])=>!!s),R(([r,s,i,l])=>{const{exit:u,enter:m}=s;if(i){if(u(r,l))return!1}else if(m(r,l))return!0;return i}),K()),t),j(I(ne(t,e,n),P(o)),([[r,s,i],l])=>r&&l&&l.change&&l.change(s,i)),{isSeeking:t,scrollSeekConfiguration:o,scrollVelocity:e,scrollSeekRangeChanged:n}},q(qe),{singleton:!0}),zo=M(([{topItemsIndexes:e}])=>{const t=C(0);return B(I(t,D(n=>n>0),R(n=>Array.from({length:n}).map((o,r)=>r))),e),{topItemCount:t}},q(Pe)),Bt=M(([{footerHeight:e,headerHeight:t,fixedHeaderHeight:n,fixedFooterHeight:o},{listState:r}])=>{const s=A(),i=ie(I(ne(e,o,t,n,r),R(([l,u,m,a,h])=>l+u+m+a+h.offsetBottom+h.bottom)),0);return B(N(i),s),{totalListHeight:i,totalListHeightChanged:s}},q(ae,Pe),{singleton:!0});function Nn(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const ko=Nn(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Do=M(([{scrollBy:e,scrollTop:t,deviation:n,scrollingInProgress:o},{isScrolling:r,isAtBottom:s,scrollDirection:i,lastJumpDueToItemResize:l},{listState:u},{beforeUnshiftWith:m,shiftWithOffset:a,sizes:h,gap:S},{log:y},{recalcInProgress:E}])=>{const d=pe(I(u,P(l),ye(([,f,p,w],[{items:b,totalCount:c,bottom:v,offsetBottom:T},k])=>{const _=v+T;let z=0;return p===c&&f.length>0&&b.length>0&&(b[0].originalIndex===0&&f[0].originalIndex===0||(z=_-w,z!==0&&(z+=k))),[z,b,c,_]},[0,[],0,0]),D(([f])=>f!==0),P(t,i,o,s,y,E),D(([,f,p,w,,,b])=>!b&&!w&&f!==0&&p===$e),R(([[f],,,,,p])=>(p("Upward scrolling compensation",{amount:f},he.DEBUG),f))));function g(f){f>0?(U(e,{top:-f,behavior:"auto"}),U(n,0)):(U(n,0),U(e,{top:-f,behavior:"auto"}))}return j(I(d,P(n,r)),([f,p,w])=>{w&&ko()?U(n,p-f):g(-f)}),j(I(ne(ie(r,!1),n,E),D(([f,p,w])=>!f&&!w&&p!==0),R(([f,p])=>p),ze(1)),g),B(I(a,R(f=>({top:-f}))),e),j(I(m,P(h,S),R(([f,{lastSize:p,groupIndices:w,sizeTree:b},c])=>{function v(T){return T*(p+c)}if(w.length===0)return v(f);{let T=0;const k=Fe(b,0);let _=0,z=0;for(;_<f;){_++,T+=k;let L=w[z+1]-w[z]-1;_+L>f&&(T-=k,L=f-_+1),_+=L,T+=v(L),z++}return T}})),f=>{U(n,f),requestAnimationFrame(()=>{U(e,{top:f}),requestAnimationFrame(()=>{U(n,0),U(E,!1)})})}),{deviation:n}},q(ae,qe,Pe,Ee,He,Ot)),No=M(([{totalListHeight:e},{didMount:t},{scrollTo:n}])=>{const o=C(0);return j(I(t,P(o),D(([,r])=>r!==0),R(([,r])=>({top:r}))),r=>{_e(I(e,D(s=>s!==0)),()=>{setTimeout(()=>{U(n,r)})})}),{initialScrollTop:o}},q(Bt,Le,ae),{singleton:!0}),Wo=M(([{viewportHeight:e},{totalListHeight:t}])=>{const n=C(!1),o=ie(I(ne(n,e,t),D(([r])=>r),R(([,r,s])=>Math.max(0,r-s)),K()),0);return{alignToBottom:n,paddingTopAddition:o}},q(ae,Bt),{singleton:!0}),Wn=M(([{scrollTo:e,scrollContainerState:t}])=>{const n=A(),o=A(),r=A(),s=C(!1),i=C(void 0);return B(I(ne(n,o),R(([{viewportHeight:l,scrollTop:u,scrollHeight:m},{offsetTop:a}])=>({scrollTop:Math.max(0,u-a),scrollHeight:m,viewportHeight:l}))),t),B(I(e,P(o),R(([l,{offsetTop:u}])=>({...l,top:l.top+u}))),r),{useWindowScroll:s,customScrollParent:i,windowScrollContainerState:n,windowViewportRect:o,windowScrollTo:r}},q(ae)),Vo=({itemTop:e,itemBottom:t,viewportTop:n,viewportBottom:o,locationParams:{behavior:r,align:s,...i}})=>e<n?{...i,behavior:r,align:s??"start"}:t>o?{...i,behavior:r,align:s??"end"}:null,Po=M(([{sizes:e,totalCount:t,gap:n},{scrollTop:o,viewportHeight:r,headerHeight:s,fixedHeaderHeight:i,fixedFooterHeight:l,scrollingInProgress:u},{scrollToIndex:m}])=>{const a=A();return B(I(a,P(e,r,t,s,i,l,o),P(n),R(([[h,S,y,E,d,g,f,p],w])=>{const{done:b,behavior:c,align:v,calculateViewLocation:T=Vo,...k}=h,_=_n(h,S,E-1),z=Ue(_,S.offsetTree,w)+d+g,L=z+Te(S.sizeTree,_)[1],G=p+g,O=p+y-f,Y=T({itemTop:z,itemBottom:L,viewportTop:G,viewportBottom:O,locationParams:{behavior:c,align:v,...k}});return Y?b&&_e(I(u,D(W=>W===!1),ot(xe(u)?1:2)),b):b&&b(),Y}),D(h=>h!==null)),m),{scrollIntoView:a}},q(Ee,ae,Ke,Pe,He),{singleton:!0}),Ao=M(([e,t,n,o,r,s,i,l,u])=>({...e,...t,...n,...o,...r,...s,...i,...l,...u}),q(_t,Lo,Le,Dn,Bt,No,Wo,Wn,Po)),Go=M(([{totalCount:e,sizeRanges:t,fixedItemSize:n,defaultItemSize:o,trackItemSizes:r,itemSize:s,data:i,firstItemIndex:l,groupIndices:u,statefulTotalCount:m,gap:a,sizes:h},{initialTopMostItemIndex:S,scrolledToInitialItem:y},E,d,{listState:g,topItemsIndexes:f,...p},{scrollToIndex:w},b,{topItemCount:c},{groupCounts:v},T,k])=>(B(p.rangeChanged,T.scrollSeekRangeChanged),B(I(T.windowViewportRect,R(_=>_.visibleHeight)),E.viewportHeight),{totalCount:e,data:i,firstItemIndex:l,sizeRanges:t,initialTopMostItemIndex:S,scrolledToInitialItem:y,topItemsIndexes:f,topItemCount:c,groupCounts:v,fixedItemHeight:n,defaultItemHeight:o,gap:a,...d,statefulTotalCount:m,listState:g,scrollToIndex:w,trackItemSizes:r,itemSize:s,groupIndices:u,...p,...T,...E,...k,sizes:h}),q(Ee,Ht,ae,Ho,Pe,Ke,Do,zo,zn,Ao,He)),ht="-webkit-sticky",Zt="sticky",Vn=Nn(()=>{if(typeof document>"u")return Zt;const e=document.createElement("div");return e.style.position=ht,e.style.position===ht?ht:Zt});function Pn(e,t){const n=x.useRef(null),o=x.useCallback(l=>{if(l===null||!l.offsetParent)return;const u=l.getBoundingClientRect(),m=u.width;let a,h;if(t){const S=t.getBoundingClientRect(),y=u.top-S.top;a=S.height-Math.max(0,y),h=y+t.scrollTop}else a=window.innerHeight-Math.max(0,u.top),h=u.top+window.pageYOffset;n.current={offsetTop:h,visibleHeight:a,visibleWidth:m},e(n.current)},[e,t]),{callbackRef:r,ref:s}=Rt(o),i=x.useCallback(()=>{o(s.current)},[o,s]);return x.useEffect(()=>{if(t){t.addEventListener("scroll",i);const l=new ResizeObserver(i);return l.observe(t),()=>{t.removeEventListener("scroll",i),l.unobserve(t)}}else return window.addEventListener("scroll",i),window.addEventListener("resize",i),()=>{window.removeEventListener("scroll",i),window.removeEventListener("resize",i)}},[i,t]),r}const An=x.createContext(void 0),Gn=x.createContext(void 0);function Mn(e){return e}const Mo=M(()=>{const e=C(u=>`Item ${u}`),t=C(null),n=C(u=>`Group ${u}`),o=C({}),r=C(Mn),s=C("div"),i=C(Ve),l=(u,m=null)=>ie(I(o,R(a=>a[u]),K()),m);return{context:t,itemContent:e,groupContent:n,components:o,computeItemKey:r,headerFooterTag:s,scrollerRef:i,FooterComponent:l("Footer"),HeaderComponent:l("Header"),TopItemListComponent:l("TopItemList"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),GroupComponent:l("Group","div"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder")}}),Fo=M(([e,t])=>({...e,...t}),q(Go,Mo)),Uo=({height:e})=>x.createElement("div",{style:{height:e}}),$o={position:Vn(),zIndex:1,overflowAnchor:"none"},jo={overflowAnchor:"none"},Jt=x.memo(function({showTopList:t=!1}){const n=V("listState"),o=ve("sizeRanges"),r=V("useWindowScroll"),s=V("customScrollParent"),i=ve("windowScrollContainerState"),l=ve("scrollContainerState"),u=s||r?i:l,m=V("itemContent"),a=V("context"),h=V("groupContent"),S=V("trackItemSizes"),y=V("itemSize"),E=V("log"),d=ve("gap"),{callbackRef:g}=lo(o,y,S,t?Ve:u,E,d,s),[f,p]=x.useState(0);Lt("deviation",O=>{f!==O&&p(O)});const w=V("EmptyPlaceholder"),b=V("ScrollSeekPlaceholder")||Uo,c=V("ListComponent"),v=V("ItemComponent"),T=V("GroupComponent"),k=V("computeItemKey"),_=V("isSeeking"),z=V("groupIndices").length>0,L=V("paddingTopAddition"),G=t?{}:{boxSizing:"border-box",paddingTop:n.offsetTop+L,paddingBottom:n.offsetBottom,marginTop:f};return!t&&n.totalCount===0&&w?x.createElement(w,ue(w,a)):x.createElement(c,{...ue(c,a),ref:g,style:G,"data-test-id":t?"virtuoso-top-item-list":"virtuoso-item-list"},(t?n.topItems:n.items).map(O=>{const Y=O.originalIndex,W=k(Y+n.firstItemIndex,O.data,a);return _?x.createElement(b,{...ue(b,a),key:W,index:O.index,height:O.size,type:O.type||"item",...O.type==="group"?{}:{groupIndex:O.groupIndex}}):O.type==="group"?x.createElement(T,{...ue(T,a),key:W,"data-index":Y,"data-known-size":O.size,"data-item-index":O.index,style:$o},h(O.index,a)):x.createElement(v,{...ue(v,a),key:W,"data-index":Y,"data-known-size":O.size,"data-item-index":O.index,"data-item-group-index":O.groupIndex,item:O.data,style:jo},z?m(O.index,O.groupIndex,O.data,a):m(O.index,O.data,a))}))}),Ko={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},dt={width:"100%",height:"100%",position:"absolute",top:0},qo={width:"100%",position:Vn(),top:0,zIndex:1};function ue(e,t){if(typeof e!="string")return{context:t}}const Yo=x.memo(function(){const t=V("HeaderComponent"),n=ve("headerHeight"),o=V("headerFooterTag"),r=Be(i=>n(Oe(i,"height"))),s=V("context");return t?x.createElement(o,{ref:r},x.createElement(t,ue(t,s))):null}),Zo=x.memo(function(){const t=V("FooterComponent"),n=ve("footerHeight"),o=V("headerFooterTag"),r=Be(i=>n(Oe(i,"height"))),s=V("context");return t?x.createElement(o,{ref:r},x.createElement(t,ue(t,s))):null});function Fn({usePublisher:e,useEmitter:t,useEmitterValue:n}){return x.memo(function({style:s,children:i,...l}){const u=e("scrollContainerState"),m=n("ScrollerComponent"),a=e("smoothScrollTargetReached"),h=n("scrollerRef"),S=n("context"),{scrollerRef:y,scrollByCallback:E,scrollToCallback:d}=yn(u,a,m,h);return t("scrollTo",d),t("scrollBy",E),x.createElement(m,{ref:y,style:{...Ko,...s},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...l,...ue(m,S)},i)})}function Un({usePublisher:e,useEmitter:t,useEmitterValue:n}){return x.memo(function({style:s,children:i,...l}){const u=e("windowScrollContainerState"),m=n("ScrollerComponent"),a=e("smoothScrollTargetReached"),h=n("totalListHeight"),S=n("deviation"),y=n("customScrollParent"),E=n("context"),{scrollerRef:d,scrollByCallback:g,scrollToCallback:f}=yn(u,a,m,Ve,y);return ro(()=>(d.current=y||window,()=>{d.current=null}),[d,y]),t("windowScrollTo",f),t("scrollBy",g),x.createElement(m,{style:{position:"relative",...s,...h!==0?{height:h+S}:{}},"data-virtuoso-scroller":!0,...l,...ue(m,E)},i)})}const Jo=({children:e})=>{const t=x.useContext(An),n=ve("viewportHeight"),o=ve("fixedItemHeight"),r=Be(vn(n,s=>Oe(s,"height")));return x.useEffect(()=>{t&&(n(t.viewportHeight),o(t.itemHeight))},[t,n,o]),x.createElement("div",{style:dt,ref:r,"data-viewport-type":"element"},e)},Qo=({children:e})=>{const t=x.useContext(An),n=ve("windowViewportRect"),o=ve("fixedItemHeight"),r=V("customScrollParent"),s=Pn(n,r);return x.useEffect(()=>{t&&(o(t.itemHeight),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,n,o]),x.createElement("div",{ref:s,style:dt,"data-viewport-type":"window"},e)},Xo=({children:e})=>{const t=V("TopItemListComponent"),n=V("headerHeight"),o={...qo,marginTop:`${n}px`},r=V("context");return x.createElement(t||"div",{style:o,context:r},e)},er=x.memo(function(t){const n=V("useWindowScroll"),o=V("topItemsIndexes").length>0,r=V("customScrollParent"),s=r||n?or:nr,i=r||n?Qo:Jo;return x.createElement(s,{...t},o&&x.createElement(Xo,null,x.createElement(Jt,{showTopList:!0})),x.createElement(i,null,x.createElement(Yo,null),x.createElement(Jt,null),x.createElement(Zo,null)))}),{Component:tr,usePublisher:ve,useEmitterValue:V,useEmitter:Lt}=wn(Fo,{required:{},optional:{context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},er),nr=Fn({usePublisher:ve,useEmitterValue:V,useEmitter:Lt}),or=Un({usePublisher:ve,useEmitterValue:V,useEmitter:Lt}),ft=tr,Qt={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},rr={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:Xt,ceil:en,floor:zt,min:gt,max:Ge}=Math;function sr(e){return{...rr,items:e}}function xt(e,t,n){return Array.from({length:t-e+1}).map((o,r)=>({index:r+e,data:n==null?void 0:n[r+e]}))}function ir(e,t){return e&&e.column===t.column&&e.row===t.row}function tn(e,t){return e&&e.width===t.width&&e.height===t.height}const lr=M(([{overscan:e,visibleRange:t,listBoundary:n},{scrollTop:o,viewportHeight:r,scrollBy:s,scrollTo:i,smoothScrollTargetReached:l,scrollContainerState:u,footerHeight:m,headerHeight:a},h,S,{propsReady:y,didMount:E},{windowViewportRect:d,windowScrollTo:g,useWindowScroll:f,customScrollParent:p,windowScrollContainerState:w},b])=>{const c=C(0),v=C(0),T=C(Qt),k=C({height:0,width:0}),_=C({height:0,width:0}),z=A(),L=A(),G=C(0),O=C(void 0),Y=C({row:0,column:0});B(I(ne(E,v,O),D(([,H])=>H!==0),R(([,H,Z])=>({items:xt(0,H-1,Z),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}))),T),B(I(ne(N(c),t,N(Y,ir),N(_,tn),N(k,tn),O),R(([H,[Z,ge],oe,de,re,fe])=>{const{row:te,column:le}=oe,{height:Q,width:ce}=de,{width:se}=re;if(H===0||se===0)return Qt;if(ce===0)return sr(xt(0,0,fe));const Ye=$n(se,ce,le);let mt=Ye*zt((Z+te)/(Q+te)),Ze=Ye*en((ge+te)/(Q+te))-1;Ze=gt(H-1,Ge(Ze,Ye-1)),mt=gt(Ze,Ge(0,mt));const kt=xt(mt,Ze,fe),{top:Dt,bottom:Nt}=nn(re,oe,de,kt),Wt=en(H/Ye),Kn=Wt*Q+(Wt-1)*te-Nt;return{items:kt,offsetTop:Dt,offsetBottom:Kn,top:Dt,bottom:Nt,itemHeight:Q,itemWidth:ce}})),T),B(I(O,D(H=>H!==void 0),R(H=>H.length)),c),B(I(k,R(({height:H})=>H)),r),B(I(ne(k,_,T,Y),R(([H,Z,{items:ge},oe])=>{const{top:de,bottom:re}=nn(H,oe,Z,ge);return[de,re]}),K(je)),n);const W=pe(I(N(T),D(({items:H})=>H.length>0),P(c),D(([{items:H},Z])=>H[H.length-1].index===Z-1),R(([,H])=>H-1),K())),ee=pe(I(N(T),D(({items:H})=>H.length>0&&H[0].index===0),Re(0),K())),Ie=pe(I(N(T),D(({items:H})=>H.length>0),R(({items:H})=>({startIndex:H[0].index,endIndex:H[H.length-1].index})),K(kn)));B(Ie,S.scrollSeekRangeChanged),B(I(z,P(k,_,c,Y),R(([H,Z,ge,oe,de])=>{const re=Ln(H),{align:fe,behavior:te,offset:le}=re;let Q=re.index;Q==="LAST"&&(Q=oe-1),Q=Ge(0,Q,gt(oe-1,Q));let ce=Tt(Z,de,ge,Q);return fe==="end"?ce=Xt(ce-Z.height+ge.height):fe==="center"&&(ce=Xt(ce-Z.height/2+ge.height/2)),le&&(ce+=le),{top:ce,behavior:te}})),i);const Se=ie(I(T,R(H=>H.offsetBottom+H.bottom)),0);return B(I(d,R(H=>({width:H.visibleWidth,height:H.visibleHeight}))),k),{data:O,totalCount:c,viewportDimensions:k,itemDimensions:_,scrollTop:o,scrollHeight:L,overscan:e,scrollBy:s,scrollTo:i,scrollToIndex:z,smoothScrollTargetReached:l,windowViewportRect:d,windowScrollTo:g,useWindowScroll:f,customScrollParent:p,windowScrollContainerState:w,deviation:G,scrollContainerState:u,footerHeight:m,headerHeight:a,initialItemCount:v,gap:Y,...S,gridState:T,totalListHeight:Se,...h,startReached:ee,endReached:W,rangeChanged:Ie,propsReady:y,...b}},q(_t,ae,qe,Dn,Le,Wn,He));function nn(e,t,n,o){const{height:r}=n;if(r===void 0||o.length===0)return{top:0,bottom:0};const s=Tt(e,t,n,o[0].index),i=Tt(e,t,n,o[o.length-1].index)+r;return{top:s,bottom:i}}function Tt(e,t,n,o){const r=$n(e.width,n.width,t.column),s=zt(o/r),i=s*n.height+Ge(0,s-1)*t.row;return i>0?i+t.row:i}function $n(e,t,n){return Ge(1,zt((e+n)/(t+n)))}const cr=M(()=>{const e=C(m=>`Item ${m}`),t=C({}),n=C(null),o=C("virtuoso-grid-item"),r=C("virtuoso-grid-list"),s=C(Mn),i=C("div"),l=C(Ve),u=(m,a=null)=>ie(I(t,R(h=>h[m]),K()),a);return{context:n,itemContent:e,components:t,computeItemKey:s,itemClassName:o,listClassName:r,headerFooterTag:i,scrollerRef:l,FooterComponent:u("Footer"),HeaderComponent:u("Header"),ListComponent:u("List","div"),ItemComponent:u("Item","div"),ScrollerComponent:u("Scroller","div"),ScrollSeekPlaceholder:u("ScrollSeekPlaceholder","div")}}),ur=M(([e,t])=>({...e,...t}),q(lr,cr)),ar=x.memo(function(){const t=J("gridState"),n=J("listClassName"),o=J("itemClassName"),r=J("itemContent"),s=J("computeItemKey"),i=J("isSeeking"),l=we("scrollHeight"),u=J("ItemComponent"),m=J("ListComponent"),a=J("ScrollSeekPlaceholder"),h=J("context"),S=we("itemDimensions"),y=we("gap"),E=J("log"),d=Be(g=>{const f=g.parentElement.parentElement.scrollHeight;l(f);const p=g.firstChild;p&&S(p.getBoundingClientRect()),y({row:on("row-gap",getComputedStyle(g).rowGap,E),column:on("column-gap",getComputedStyle(g).columnGap,E)})});return x.createElement(m,{ref:d,className:n,...ue(m,h),style:{paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},"data-test-id":"virtuoso-item-list"},t.items.map(g=>{const f=s(g.index,g.data,h);return i?x.createElement(a,{key:f,...ue(a,h),index:g.index,height:t.itemHeight,width:t.itemWidth}):x.createElement(u,{...ue(u,h),className:o,"data-index":g.index,key:f},r(g.index,g.data,h))}))}),dr=x.memo(function(){const t=J("HeaderComponent"),n=we("headerHeight"),o=J("headerFooterTag"),r=Be(i=>n(Oe(i,"height"))),s=J("context");return t?x.createElement(o,{ref:r},x.createElement(t,ue(t,s))):null}),fr=x.memo(function(){const t=J("FooterComponent"),n=we("footerHeight"),o=J("headerFooterTag"),r=Be(i=>n(Oe(i,"height"))),s=J("context");return t?x.createElement(o,{ref:r},x.createElement(t,ue(t,s))):null}),mr=({children:e})=>{const t=x.useContext(Gn),n=we("itemDimensions"),o=we("viewportDimensions"),r=Be(s=>{o(s.getBoundingClientRect())});return x.useEffect(()=>{t&&(o({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,o,n]),x.createElement("div",{style:dt,ref:r},e)},pr=({children:e})=>{const t=x.useContext(Gn),n=we("windowViewportRect"),o=we("itemDimensions"),r=J("customScrollParent"),s=Pn(n,r);return x.useEffect(()=>{t&&(o({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,o]),x.createElement("div",{ref:s,style:dt},e)},hr=x.memo(function({...t}){const n=J("useWindowScroll"),o=J("customScrollParent"),r=o||n?xr:gr,s=o||n?pr:mr;return x.createElement(r,{...t},x.createElement(s,null,x.createElement(dr,null),x.createElement(ar,null),x.createElement(fr,null)))}),{Component:Or,usePublisher:we,useEmitterValue:J,useEmitter:jn}=wn(ur,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},hr),gr=Fn({usePublisher:we,useEmitterValue:J,useEmitter:jn}),xr=Un({usePublisher:we,useEmitterValue:J,useEmitter:jn});function on(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,he.WARN),t==="normal"?0:parseInt(t??"0",10)}const br={component:ft},Ne={flex:1},vr=e=>F(pn,{index:e},e),Ir=e=>F(hn,{index:e},e),Sr=e=>F(gn,{index:e},e),Qe={render:()=>Ce("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[Ce("div",{style:{display:"flex",flexDirection:"row"},children:[F("div",{style:{flex:1},children:"virtua"}),F("div",{style:{flex:1},children:"react-virtuoso"})]}),F("div",{style:{display:"flex",flexDirection:"row"},children:F(yt,{count:1e4})}),Ce("div",{style:{display:"flex",flexDirection:"row",flex:1,gap:8},children:[F(Ct,{style:Ne,children:Array.from({length:1e4}).map((t,n)=>F(pn,{index:n},n))}),F("div",{style:{flex:1},children:F(ft,{style:Ne,totalCount:1e4,itemContent:vr})})]})]})},Xe={render:()=>Ce("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[Ce("div",{style:{display:"flex",flexDirection:"row"},children:[F("div",{style:{flex:1},children:"virtua"}),F("div",{style:{flex:1},children:"react-virtuoso"})]}),F("div",{style:{display:"flex",flexDirection:"row"},children:F(yt,{count:1e4})}),Ce("div",{style:{display:"flex",flexDirection:"row",flex:1,gap:8},children:[F(Ct,{style:Ne,children:Array.from({length:1e4}).map((t,n)=>F(hn,{index:n},n))}),F("div",{style:{flex:1},children:F(ft,{style:Ne,totalCount:1e4,itemContent:Ir})})]})]})},et={render:()=>Ce("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[Ce("div",{style:{display:"flex",flexDirection:"row"},children:[F("div",{style:{flex:1},children:"virtua"}),F("div",{style:{flex:1},children:"react-virtuoso"})]}),F("div",{style:{display:"flex",flexDirection:"row"},children:F(yt,{count:1e6})}),Ce("div",{style:{display:"flex",flexDirection:"row",flex:1,gap:8},children:[F(Ct,{style:Ne,children:Array.from({length:1e6}).map((t,n)=>F(gn,{index:n},n))}),F("div",{style:{flex:1},children:F(ft,{style:Ne,totalCount:1e6,itemContent:Sr})})]})]})};var rn,sn,ln;Qe.parameters={...Qe.parameters,docs:{...(rn=Qe.parameters)==null?void 0:rn.docs,source:{originalSource:`{
  render: () => {
    const ROW_COUNT = 10000;
    return <div style={{
      height: "100vh",
      display: "flex",
      flexDirection: "column"
    }}>
        <div style={{
        display: "flex",
        flexDirection: "row"
      }}>
          <div style={{
          flex: 1
        }}>virtua</div>
          <div style={{
          flex: 1
        }}>react-virtuoso</div>
        </div>
        <div style={{
        display: "flex",
        flexDirection: "row"
      }}>
          <ScrollInput count={ROW_COUNT} />
        </div>
        <div style={{
        display: "flex",
        flexDirection: "row",
        flex: 1,
        gap: 8
      }}>
          <List style={listStyle}>
            {Array.from({
            length: ROW_COUNT
          }).map((_, i) => <ItemWithRenderCount key={i} index={i} />)}
          </List>
          <div style={{
          flex: 1
        }}>
            <Virtuoso style={listStyle} totalCount={ROW_COUNT} itemContent={rvRenderer} />
          </div>
        </div>
      </div>;
  }
}`,...(ln=(sn=Qe.parameters)==null?void 0:sn.docs)==null?void 0:ln.source}}};var cn,un,an;Xe.parameters={...Xe.parameters,docs:{...(cn=Xe.parameters)==null?void 0:cn.docs,source:{originalSource:`{
  render: () => {
    const ROW_COUNT = 10000;
    return <div style={{
      height: "100vh",
      display: "flex",
      flexDirection: "column"
    }}>
        <div style={{
        display: "flex",
        flexDirection: "row"
      }}>
          <div style={{
          flex: 1
        }}>virtua</div>
          <div style={{
          flex: 1
        }}>react-virtuoso</div>
        </div>
        <div style={{
        display: "flex",
        flexDirection: "row"
      }}>
          <ScrollInput count={ROW_COUNT} />
        </div>
        <div style={{
        display: "flex",
        flexDirection: "row",
        flex: 1,
        gap: 8
      }}>
          <List style={listStyle}>
            {Array.from({
            length: ROW_COUNT
          }).map((_, i) => <HeavyItem key={i} index={i} />)}
          </List>
          <div style={{
          flex: 1
        }}>
            <Virtuoso style={listStyle} totalCount={ROW_COUNT} itemContent={rvHeavyItemRenderer} />
          </div>
        </div>
      </div>;
  }
}`,...(an=(un=Xe.parameters)==null?void 0:un.docs)==null?void 0:an.source}}};var dn,fn,mn;et.parameters={...et.parameters,docs:{...(dn=et.parameters)==null?void 0:dn.docs,source:{originalSource:`{
  render: () => {
    const ROW_COUNT = 1000000;
    return <div style={{
      height: "100vh",
      display: "flex",
      flexDirection: "column"
    }}>
        <div style={{
        display: "flex",
        flexDirection: "row"
      }}>
          <div style={{
          flex: 1
        }}>virtua</div>
          <div style={{
          flex: 1
        }}>react-virtuoso</div>
        </div>
        <div style={{
        display: "flex",
        flexDirection: "row"
      }}>
          <ScrollInput count={ROW_COUNT} />
        </div>
        <div style={{
        display: "flex",
        flexDirection: "row",
        flex: 1,
        gap: 8
      }}>
          <List style={listStyle}>
            {Array.from({
            length: ROW_COUNT
          }).map((_, i) => <SimpleItem key={i} index={i} />)}
          </List>
          <div style={{
          flex: 1
        }}>
            <Virtuoso style={listStyle} totalCount={ROW_COUNT} itemContent={rvSimpleItemRenderer} />
          </div>
        </div>
      </div>;
  }
}`,...(mn=(fn=et.parameters)==null?void 0:fn.docs)==null?void 0:mn.source}}};const Hr=["DynamicHeight","HeavyComponent","OneMillion"];export{Qe as DynamicHeight,Xe as HeavyComponent,et as OneMillion,Hr as __namedExportsOrder,br as default};
//# sourceMappingURL=react-virtuoso.stories-b4eebdcf.js.map
