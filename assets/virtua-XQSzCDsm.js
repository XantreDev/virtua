import{a as z}from"./jsx-runtime-sgeEVxPu.js";import{r as g}from"./index-yp3VsGQP.js";import{r as ve}from"./index-8dy-jdxy.js";const P=Math.min,O=Math.max,Q=Math.abs,Z=Date.now,ge=Object.values,ye=Array.isArray,U=setTimeout,j=(e,n,t)=>P(t,O(n,e)),K=e=>e!=null,be=(e,n)=>{let t;const r=()=>{K(t)&&clearTimeout(t)},s=()=>{r(),t=U(()=>{t=null,e()},n)};return s.t=r,s},F=e=>{let n,t;return(...r)=>(n||(n=!0,t=e(...r)),t)},ie=e=>getComputedStyle(e),we=e=>e?parseFloat(e):0,H=-1,X=(e,n)=>{const t=e.o[n];return t===H?e.i:t},$=(e,n)=>{if(!e.l)return 0;if(e.u>=n)return e.h[n];let t=e.u,r=e.h[t];for(;t<n;)r+=X(e,t),e.h[++t]=r;return e.u=n,r},ee=(e,n,t)=>{let r=$(e,t);for(;t>=0&&t<e.l;)if(r<=n){const s=X(e,t);if(r+s>n)break;r+=s,t++}else r-=X(e,--t);return j(t,0,e.l-1)},te=(e,n,t,r)=>{const s=ee(e,n,P(t,e.l-1));return[s,ee(e,n+r,s)]},ce=(e,n,t)=>{const r=t?"unshift":"push";for(let s=e.l;s<n;s++)e.o[r](H),e.h.push(s===0?0:H);e.l=n},re=(e,n,t)=>{const r=n-e.l,s=r<0;let c;return s?(c=(t?e.o.splice(0,-r):e.o.splice(r)).reduce((l,i)=>l+(i===H?e.i:i),0),e.h.splice(r)):(c=e.i*r,ce(e,e.l+r,t)),e.u=t?0:j(n-1,0,e.u),e.l=n,[c,s]},ue=typeof window<"u",ae=()=>document.documentElement,Le=F(e=>{const n="scrollLeft",t=e[n];e[n]=1;const r=e[n]<1;return e[n]=t,r}),fe=F(()=>!!ue&&ie(ae()).direction==="rtl"),de=F(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),Re=F(()=>"scrollBehavior"in ae().style),ne=(e,n,t)=>n.reduce((r,[s,c])=>{const l=c-X(e,s);return(!t||l>0)&&(r+=l),r},0),Ee=(e,n=40,t=0,r=((l,i)=>{const d={i,l:0,u:0,o:[],h:[]};return ce(d,l),d})(e,n),s,c)=>{let l=n*O(t-1,0),i=0,d=0,o=0,u=0,v=0,y=0,h=0,b=0,S=!1,k=null,M=[0,t];const D=new Set,N=()=>(a=>a.l?$(a,a.l-1)+X(a,a.l-1):0)(r),p=()=>N()-l+i+d,Y=a=>{de()&&b!==0?y+=a:(v+=a,u++)},B=a=>{const m=b;return b=a,b!==m};return{_:()=>JSON.parse(JSON.stringify(r)),g:()=>k?[P(M[0],k[0]),O(M[1],k[1])]:M=te(r,o+y+v,M[0],l),p:a=>r.o[a]===H,m:()=>!!k&&r.o.slice(O(0,k[0]-1),P(r.l-1,k[1]+1)+1).includes(H),v(a){const m=$(r,a)-y;return s?m+O(0,l-N()):m},S:a=>X(r,a),I:()=>r.l,R:()=>o,k:p,O:()=>b,C:()=>l,T:()=>i,M:()=>O(N(),l-i-d),H:N,J:()=>u,W:()=>(h=v,v=0,h),B(a,m){const C=[a,m];return D.add(C),()=>{D.delete(C)}},L(a,m){let C,q,T=0;switch(a){case 1:{const w=m.filter(([R,I])=>r.o[R]!==I);if(!w.length)break;let L=0;if(o!==0)if(o>p()-1.5)L=ne(r,w,!0);else{const[R]=M;L=ne(r,w.filter(([I])=>I<R))}L&&Y(L);let _=!1;w.forEach(([R,I])=>{((V,x,f)=>{const E=V.o[x]===H;return V.o[x]=f,V.u=P(x,V.u),E})(r,R,I)&&(_=!0)}),c&&_&&!o&&(R=>{const I=R.o.filter(x=>x!==H),V=I[0];R.i=I.every(x=>x===V)?V:(x=>{const f=[...x].sort((J,G)=>J-G),E=x.length/2|0;return f.length%2==0?(f[E-1]+f[E])/2:f[E]})(I)})(r),T=2,q=!0;break}case 2:{const w=m[0]+m[1]+m[2];l!==w&&(l=w,i=m[1],d=m[2],T=2);break}case 3:if(m[1]){const w=p()-o,[L,_]=re(r,m[0],!0);Y(_?-P(L,w):L),T=1}else re(r,m[0]);break;case 4:{const w=j(m,0,p());if(w===o)break;const L=w-o,_=Q(L),R=h&&_<Q(h)+1;h=0,R||S||B(L<0?2:1),q=_>l,o=w,T=5;break}case 5:B(0)&&(C=!0,T=1),S=!1,k=null;break;case 6:S=!0;break;case 7:k=te(r,m,M[0],l),T=1}T&&(C&&y&&(v+=y,y=0,u++),D.forEach(([w,L])=>{T&w&&L(q)}))}}},W=ue?g.useLayoutEffect:g.useEffect,ke=(e,n,t)=>(()=>{let r=Z()-50;return(...s)=>{const c=Z();r+50<c&&(r=c,(l=>{if(e.O()!==0&&!l.ctrlKey&&(n?l.deltaX:l.deltaY)){const i=e.R();i>0&&i<e.k()&&t()}})(...s))}})(),xe=(e,n,t,r)=>Le(e)||r?-t:n.k()-t,Se=(e,n)=>{let t,r,s=!1;const c=n?"scrollLeft":"scrollTop",l=n?"overflowX":"overflowY",i=(o,u)=>n&&fe()?xe(t,e,o,u):o,d=async(o,u)=>{if(!t)return;r&&r();const v=()=>j(o(),0,e.k()),y=()=>{let h;return[new Promise((b,S)=>{h=b,U(r=S,150)}),e.B(2,()=>{h&&h()})]};if(u&&Re()){for(;e.L(7,v()),e.m();){const[h,b]=y();try{await h}catch{return}finally{b()}}t.scrollTo({[n?"left":"top"]:i(v()),behavior:"smooth"})}else for(;;){const[h,b]=y();try{t[c]=i(v()),e.L(6),await h}catch{return}finally{b()}}};return{$(o){t=o;let u=!1,v=!1;const y=be(()=>{u?y():(v=!1,e.L(5))},150),h=()=>{v&&(s=!0),e.L(4,i(o[c])),y()},b=ke(e,n,y),S=()=>{u=!0,v=s=!1},k=()=>{u=!1,de()&&(v=!0)};return o.addEventListener("scroll",h),o.addEventListener("wheel",b,{passive:!0}),o.addEventListener("touchstart",S,{passive:!0}),o.addEventListener("touchend",k,{passive:!0}),()=>{o.removeEventListener("scroll",h),o.removeEventListener("wheel",b),o.removeEventListener("touchstart",S),o.removeEventListener("touchend",k),y.t()}},A(o){d(()=>o)},P(o){o+=e.R(),d(()=>o)},V(o,{align:u,smooth:v}={}){if(o=j(o,0,e.I()-1),u==="nearest"){const y=e.v(o),h=e.R();if(y<h)u="start";else{if(!(y+e.S(o)>h+e.C()))return;u="end"}}d(()=>u==="end"?e.T()+e.v(o)+e.S(o)-e.C():u==="center"?e.T()+e.v(o)+(e.S(o)-e.C())/2:e.T()+e.v(o),v)},X:o=>{if(t){if(s){s=!1;const u=t.style,v=u[l];u[l]="hidden",U(()=>{u[l]=v})}t[c]+=i(o,!0)}}}},A="current",Te={},he=(e,n)=>{if(ye(e))for(const t of e)he(t,n);else K(e)&&typeof e!="boolean"&&n.push(e)},Me=(e,n,t)=>O(e-(t===1?1:O(1,n)),0),Ie=(e,n,t,r)=>P(e+(t===2?1:O(1,n)),r-1),_e=e=>{const n=g.useRef();return n[A]||(n[A]=e())},oe=e=>{const n=g.useRef(e);return W(()=>{n[A]=e},[e]),n},Ce={box:"border-box"},Ve=(e,n)=>{let t;const r=n?"width":"height",s=new WeakMap,c=F(()=>new ResizeObserver(l=>{const i=[];for(const{target:d,contentRect:o}of l)if(d.offsetParent)if(d===t)e.L(2,[o[r],o[n?"left":"top"],we(ie(t)[n?"paddingRight":"paddingBottom"])]);else{const u=s.get(d);K(u)&&i.push([u,o[r]])}i.length&&e.L(1,i)}));return{Y(l){t=l;const i=c();return i.observe(l,Ce),()=>{i.disconnect()}},j(l,i){const d=c();return s.set(l,i),d.observe(l),()=>{s.delete(l),d.unobserve(l)}}}},Oe=g.forwardRef(({children:e,attrs:n,width:t,height:r,scrolling:s},c)=>z("div",{ref:c,...n,children:z("div",{style:g.useMemo(()=>({position:"relative",visibility:"hidden",width:t??"100%",height:r??"100%",pointerEvents:s?"none":"auto"}),[t,r,s]),children:e})})),Ae=g.memo(({D:e,N:n,U:t,F:r,G:s,q:c,K:l})=>{const i=g.useRef(null);W(()=>n.j(i[A],t),[t]);const d=g.useMemo(()=>{const o={margin:0,padding:0,position:"absolute",[l?"height":"width"]:"100%",[l?"top":"left"]:0,[l?fe()?"right":"left":"top"]:r,visibility:s?"hidden":"visible"};return l&&(o.display="flex"),o},[r,s]);return z(c,typeof c=="string"?{ref:i,style:d,children:e}:{ref:i,style:d,index:t,children:e})}),se=()=>[],Be=()=>g.useReducer(se,void 0,se)[1],He=(e,n)=>g.useMemo(()=>{if(typeof e=="function")return[e,n||0];const t=(r=>{const s=[];return he(r,s),s})(e);return[r=>t[r],t.length]},[e,n]),Ne=g.forwardRef(({children:e,count:n,overscan:t=4,initialItemSize:r,initialItemCount:s,shift:c,horizontal:l,reverse:i,cache:d,components:{Root:o=Oe,Item:u="div"}=Te,onScroll:v,onScrollStop:y,onRangeChange:h,...b},S)=>{const[k,M]=He(e,n),D=oe(v),N=oe(y),[p,Y,B,a]=_e(()=>{const f=!!l,E=Ee(M,r,s,d,!!i,!r);return[E,Ve(E,f),Se(E,f),f]});M!==p.I()&&p.L(3,[M,c]);const m=Be(),[C,q]=p.g(),T=p.O(),w=p.J(),L=p.M(),_=g.useRef(null),R=T!==0;W(()=>{const f=_[A],E=p.B(3,me=>{me?ve.flushSync(m):m()}),J=p.B(4,()=>{D[A]&&D[A](p.R())}),G=Y.Y(f),pe=B.$(f);return()=>{E(),J(),G(),pe()}},[]),W(()=>{const f=p.W();f&&B.X(f)},[w]),g.useEffect(()=>{R||N[A]&&N[A]()},[R]),g.useEffect(()=>{h&&h(C,q)},[C,q]),g.useImperativeHandle(S,()=>({get cache(){return p._()},get scrollOffset(){return p.R()},get scrollSize(){return p.M()},get viewportSize(){return p.C()},scrollToIndex:B.V,scrollTo:B.A,scrollBy:B.P}),[]);const I=Me(C,t,T),V=Ie(q,t,T,M),x=[];for(let f=I;f<=V;f++){const E=k(f),J=E.key;x.push(z(Ae,{N:Y,U:f,F:p.v(f),G:p.p(f),q:u,D:E,K:a},K(J)?J:"_"+f))}return z(o,{ref:_,width:a?L:void 0,height:a?void 0:L,scrolling:R,attrs:g.useMemo(()=>({...b,style:{display:a?"inline-block":"block",[a?"overflowX":"overflowY"]:"auto",overflowAnchor:"none",contain:"strict",width:"100%",height:"100%",...b.style}}),ge(b)),children:x})}),le=g.memo(({count:e,Component:n,handle:t})=>{const r=g.useRef(null);return g.useImperativeHandle(t,()=>({scrollToIndex:s=>{var c;(c=r.current)==null||c.scrollToIndex(s)}})),z(Ne,{ref:r,children:Array.from({length:e}).map((s,c)=>z(n,{index:c},c))})});try{le.displayName="VirtuaList",le.__docgenInfo={description:"",displayName:"VirtuaList",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},Component:{defaultValue:null,description:"",name:"Component",required:!0,type:{name:"ForwardRefExoticComponent<{ index: number; } & RefAttributes<HTMLDivElement>>"}},handle:{defaultValue:null,description:"",name:"handle",required:!1,type:{name:"Ref<ListHandle>"}}}}}catch{}export{le as V};
