import{a as Y}from"./jsx-runtime-sgeEVxPu.js";import{r as g}from"./index-yp3VsGQP.js";import{r as ge}from"./index-8dy-jdxy.js";const X=Math.min,B=Math.max,te=Math.abs,re=Date.now,ye=Object.values,be=Array.isArray,Z=setTimeout,W=(e,n,t)=>X(t,B(n,e)),G=e=>e!=null,we=(e,n)=>{let t;const r=()=>{G(t)&&clearTimeout(t)},s=()=>{r(),t=Z(()=>{t=null,e()},n)};return s.t=r,s},K=e=>{let n,t;return(...r)=>(n||(n=!0,t=e(...r)),t)},ue=e=>getComputedStyle(e),Le=e=>e?parseFloat(e):0,q=-1,j=(e,n)=>{const t=e.o[n];return t===q?e.i:t},ee=(e,n)=>{if(!e.l)return 0;if(e.u>=n)return e.h[n];let t=e.u,r=e.h[t];for(;t<n;)r+=j(e,t),e.h[++t]=r;return e.u=n,r},ne=(e,n,t)=>{let r=ee(e,t);for(;t>=0&&t<e.l;)if(r<=n){const s=j(e,t);if(r+s>n)break;r+=s,t++}else r-=j(e,--t);return W(t,0,e.l-1)},oe=(e,n,t,r)=>{const s=ne(e,n,X(t,e.l-1));return[s,ne(e,n+r,s)]},ae=(e,n,t)=>{const r=t?"unshift":"push";for(let s=e.l;s<n;s++)e.o[r](q),e.h.push(s===0?0:q);e.l=n},se=(e,n,t)=>{const r=n-e.l,s=r<0;let c;return s?(c=(t?e.o.splice(0,-r):e.o.splice(r)).reduce((l,i)=>l+(i===q?e.i:i),0),e.h.splice(r)):(c=e.i*r,ae(e,e.l+r,t)),e.u=t?0:W(n-1,0,e.u),e.l=n,[c,s]},fe=typeof window<"u",de=()=>document.documentElement,Re=K(e=>{const n="scrollLeft",t=e[n];e[n]=1;const r=e[n]<1;return e[n]=t,r}),he=K(()=>!!fe&&ue(de()).direction==="rtl"),pe=K(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),Ee=K(()=>"scrollBehavior"in de().style),Q=(e,n,t)=>n.reduce((r,[s,c])=>{const l=c-j(e,s);return(!t||l>0)&&(r+=l),r},0),ke=(e,n=40,t=0,r=((l,i)=>{const m={i,l:0,u:0,o:[],h:[]};return ae(m,l),m})(e,n),s,c)=>{let l=n*B(t-1,0),i=0,m=0,o=0,a=0,v=0,y=0,d=0,w=0,S=!1,V=!1,E=null,T=[0,t];const D=new Set,h=()=>(f=>f.l?ee(f,f.l-1)+j(f,f.l-1):0)(r),P=()=>l-i-m,_=()=>h()-P(),A=f=>{pe()&&w!==0?y+=f:(v+=f,a++)},z=f=>{const p=w;return w=f,w!==p};return{_:()=>JSON.parse(JSON.stringify(r)),g:()=>E?[X(T[0],E[0]),B(T[1],E[1])]:d?T:T=oe(r,o+y+v,T[0],l),p:f=>r.o[f]===q,m:()=>!!E&&r.o.slice(B(0,E[0]-1),X(r.l-1,E[1]+1)+1).includes(q),v(f){const p=ee(r,f)-y;return s?p+B(0,l-h()):p},S:f=>j(r,f),I:()=>r.l,R:()=>o,k:_,O:()=>w,C:()=>l,T:()=>i,M:()=>B(h(),P()),H:h,J:()=>a,W:()=>P()>h()?v=0:(d=v,v=0,d),B(f,p){const C=[f,p];return D.add(C),()=>{D.delete(C)}},L(f,p){let C,F,M=0;switch(f){case 1:{const b=p.filter(([I,u])=>r.o[I]!==u),k=S;if(S=!1,!b.length)break;let x=0;if(o!==0)if(o>_()-1.5)x=Q(r,b,!0);else if(k)x=Q(r,b);else{const[I]=T;x=Q(r,b.filter(([u])=>u<I))}x&&A(x);let J=!1;b.forEach(([I,u])=>{((L,R,H)=>{const N=L.o[R]===q;return L.o[R]=H,L.u=X(R,L.u),N})(r,I,u)&&(J=!0)}),c&&J&&!o&&(I=>{const u=I.o.filter(R=>R!==q),L=u[0];I.i=u.every(R=>R===L)?L:(R=>{const H=[...R].sort(($,ve)=>$-ve),N=R.length/2|0;return H.length%2==0?(H[N-1]+H[N])/2:H[N]})(u)})(r),M=2,F=!0;break}case 2:{const b=p[0]+p[1]+p[2];l!==b&&(l=b,i=p[1],m=p[2],M=2);break}case 3:if(p[1]){const b=_()-o,[k,x]=se(r,p[0],!0);A(x?-X(k,b):k),S=!x,M=1}else se(r,p[0]);break;case 4:{const b=W(p,0,_()),k=d;if(d=0,b===o)break;const x=b-o,J=te(x);k&&J<te(k)+1||V||z(x<0?2:1),F=J>l,o=b,M=5;break}case 5:z(0)&&(C=!0,M=1),V=!1,E=null;break;case 6:V=!0;break;case 7:E=oe(r,p,T[0],l),M=1}M&&(C&&y&&(v+=y,y=0,a++),D.forEach(([b,k])=>{M&b&&k(F)}))}}},U=fe?g.useLayoutEffect:g.useEffect,xe=(e,n,t)=>(()=>{let r=re()-50;return(...s)=>{const c=re();r+50<c&&(r=c,(l=>{if(e.O()!==0&&!l.ctrlKey&&(n?l.deltaX:l.deltaY)){const i=e.R();i>0&&i<e.k()&&t()}})(...s))}})(),Se=(e,n,t,r)=>Re(e)||r?-t:n.k()-t,Me=(e,n)=>{let t,r,s=!1;const c=n?"scrollLeft":"scrollTop",l=n?"overflowX":"overflowY",i=(o,a)=>n&&he()?Se(t,e,o,a):o,m=async(o,a)=>{if(!t)return;r&&r();const v=()=>W(o(),0,e.k()),y=()=>{let d;return[new Promise((w,S)=>{d=w,Z(r=S,150)}),e.B(2,()=>{d&&d()})]};if(a&&Ee()){for(;e.L(7,v()),e.m();){const[d,w]=y();try{await d}catch{return}finally{w()}}t.scrollTo({[n?"left":"top"]:i(v()),behavior:"smooth"})}else for(;;){const[d,w]=y();try{t[c]=i(v()),e.L(6),await d}catch{return}finally{w()}}};return{$(o){t=o;let a=!1,v=!1;const y=we(()=>{a?y():(v=!1,e.L(5))},150),d=()=>{v&&(s=!0),e.L(4,i(o[c])),y()},w=xe(e,n,y),S=()=>{a=!0,v=s=!1},V=()=>{a=!1,pe()&&(v=!0)};return o.addEventListener("scroll",d),o.addEventListener("wheel",w,{passive:!0}),o.addEventListener("touchstart",S,{passive:!0}),o.addEventListener("touchend",V,{passive:!0}),()=>{o.removeEventListener("scroll",d),o.removeEventListener("wheel",w),o.removeEventListener("touchstart",S),o.removeEventListener("touchend",V),y.t()}},A(o){m(()=>o)},X(o){o+=e.R(),m(()=>o)},Y(o,{align:a,smooth:v}={}){if(o=W(o,0,e.I()-1),a==="nearest"){const y=e.v(o),d=e.R();if(y<d)a="start";else{if(!(y+e.S(o)>d+e.C()))return;a="end"}}m(()=>e.T()+(a==="end"?e.v(o)+e.S(o)-e.C():a==="center"?e.v(o)+(e.S(o)-e.C())/2:e.v(o)),v)},j:o=>{if(t){if(s){s=!1;const a=t.style,v=a[l];a[l]="hidden",Z(()=>{a[l]=v})}t[c]+=i(o,!0)}}}},O="current",Ie={},me=(e,n)=>{if(be(e))for(const t of e)me(t,n);else G(e)&&typeof e!="boolean"&&n.push(e)},Te=(e,n,t)=>B(e-(t===1?1:B(1,n)),0),_e=(e,n,t,r)=>X(e+(t===2?1:B(1,n)),r-1),Ce=e=>{const n=g.useRef();return n[O]||(n[O]=e())},le=e=>{const n=g.useRef(e);return U(()=>{n[O]=e},[e]),n},Be={box:"border-box"},Oe=(e,n)=>{let t;const r=n?"width":"height",s=new WeakMap,c=K(()=>new ResizeObserver(l=>{const i=[];for(const{target:m,contentRect:o}of l)if(m.offsetParent)if(m===t)e.L(2,[o[r],o[n?"left":"top"],Le(ue(t)[n?"paddingRight":"paddingBottom"])]);else{const a=s.get(m);G(a)&&i.push([a,o[r]])}i.length&&e.L(1,i)}));return{D(l){t=l;const i=c();return i.observe(l,Be),()=>{i.disconnect()}},N(l,i){const m=c();return s.set(l,i),m.observe(l),()=>{s.delete(l),m.unobserve(l)}}}},Ve=g.forwardRef(({children:e,attrs:n,width:t,height:r,scrolling:s},c)=>Y("div",{ref:c,...n,children:Y("div",{style:g.useMemo(()=>({position:"relative",visibility:"hidden",width:t??"100%",height:r??"100%",pointerEvents:s?"none":"auto"}),[t,r,s]),children:e})})),Ae=g.memo(({P:e,U:n,V:t,F:r,G:s,q:c,K:l})=>{const i=g.useRef(null);U(()=>n.N(i[O],t),[t]);const m=g.useMemo(()=>{const o={margin:0,padding:0,position:"absolute",[l?"height":"width"]:"100%",[l?"top":"left"]:0,[l?he()?"right":"left":"top"]:r,visibility:s?"hidden":"visible"};return l&&(o.display="flex"),o},[r,s]);return Y(c,typeof c=="string"?{ref:i,style:m,children:e}:{ref:i,style:m,index:t,children:e})}),ie=()=>[],He=()=>g.useReducer(ie,void 0,ie)[1],qe=(e,n)=>g.useMemo(()=>{if(typeof e=="function")return[e,n||0];const t=(r=>{const s=[];return me(r,s),s})(e);return[r=>t[r],t.length]},[e,n]),Je=g.forwardRef(({children:e,count:n,overscan:t=4,initialItemSize:r,initialItemCount:s,shift:c,horizontal:l,reverse:i,cache:m,components:{Root:o=Ve,Item:a="div"}=Ie,onScroll:v,onScrollStop:y,onRangeChange:d,...w},S)=>{const[V,E]=qe(e,n),T=le(v),D=le(y),[h,P,_,A]=Ce(()=>{const u=!!l,L=ke(E,r,s,m,!!i,!r);return[L,Oe(L,u),Me(L,u),u]});E!==h.I()&&h.L(3,[E,c]);const z=He(),[f,p]=h.g(),C=h.O(),F=h.J(),M=h.M(),b=g.useRef(null),k=C!==0;U(()=>{const u=b[O],L=h.B(3,$=>{$?ge.flushSync(z):z()}),R=h.B(4,()=>{T[O]&&T[O](h.R())}),H=P.D(u),N=_.$(u);return()=>{L(),R(),H(),N()}},[]),U(()=>{const u=h.W();u&&_.j(u)},[F]),g.useEffect(()=>{k||D[O]&&D[O]()},[k]),g.useEffect(()=>{d&&d(f,p)},[f,p]),g.useImperativeHandle(S,()=>({get cache(){return h._()},get scrollOffset(){return h.R()},get scrollSize(){return h.M()},get viewportSize(){return h.C()},scrollToIndex:_.Y,scrollTo:_.A,scrollBy:_.X}),[]);const x=Te(f,t,C),J=_e(p,t,C,E),I=[];for(let u=x;u<=J;u++){const L=V(u),R=L.key;I.push(Y(Ae,{U:P,V:u,F:h.v(u),G:h.p(u),q:a,P:L,K:A},G(R)?R:"_"+u))}return Y(o,{ref:b,width:A?M:void 0,height:A?void 0:M,scrolling:k,attrs:g.useMemo(()=>({...w,style:{display:A?"inline-block":"block",[A?"overflowX":"overflowY"]:"auto",overflowAnchor:"none",contain:"strict",width:"100%",height:"100%",...w.style}}),ye(w)),children:I})}),ce=g.memo(({count:e,Component:n,handle:t})=>{const r=g.useRef(null);return g.useImperativeHandle(t,()=>({scrollToIndex:s=>{var c;(c=r.current)==null||c.scrollToIndex(s)}})),Y(Je,{ref:r,children:Array.from({length:e}).map((s,c)=>Y(n,{index:c},c))})});try{ce.displayName="VirtuaList",ce.__docgenInfo={description:"",displayName:"VirtuaList",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},Component:{defaultValue:null,description:"",name:"Component",required:!0,type:{name:"ForwardRefExoticComponent<{ index: number; } & RefAttributes<HTMLDivElement>>"}},handle:{defaultValue:null,description:"",name:"handle",required:!1,type:{name:"Ref<ListHandle>"}}}}}catch{}export{ce as V};
