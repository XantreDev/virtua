{"version":3,"file":"react-virtual-legacy-f01dac08.js","sources":["../../node_modules/@tanstack/react-virtual/build/esm/index.js","../../stories/comparisons/components/react-virtual.tsx"],"sourcesContent":["/**\n * react-virtual\n *\n * Copyright (c) TanStack\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\nimport * as React from 'react';\nimport React__default from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar props = [\"bottom\", \"height\", \"left\", \"right\", \"top\", \"width\"];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes = /*#__PURE__*/new Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\nfunction rectReducer(state, action) {\n  var rect = action.rect;\n\n  if (state.height !== rect.height || state.width !== rect.width) {\n    return rect;\n  }\n\n  return state;\n}\n\nvar useRect = function useRect(nodeRef, initialRect) {\n  if (initialRect === void 0) {\n    initialRect = {\n      width: 0,\n      height: 0\n    };\n  }\n\n  var _React$useState = React__default.useState(nodeRef.current),\n      element = _React$useState[0],\n      setElement = _React$useState[1];\n\n  var _React$useReducer = React__default.useReducer(rectReducer, initialRect),\n      rect = _React$useReducer[0],\n      dispatch = _React$useReducer[1];\n\n  var initialRectSet = React__default.useRef(false);\n  useIsomorphicLayoutEffect(function () {\n    if (nodeRef.current !== element) {\n      setElement(nodeRef.current);\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (element && !initialRectSet.current) {\n      initialRectSet.current = true;\n\n      var _rect = element.getBoundingClientRect();\n\n      dispatch({\n        rect: _rect\n      });\n    }\n  }, [element]);\n  React__default.useEffect(function () {\n    if (!element) {\n      return;\n    }\n\n    var observer = observeRect(element, function (rect) {\n      dispatch({\n        rect: rect\n      });\n    });\n    observer.observe();\n    return function () {\n      observer.unobserve();\n    };\n  }, [element]);\n  return rect;\n};\n\nvar _excluded = [\"align\"];\n\nvar defaultEstimateSize = function defaultEstimateSize() {\n  return 50;\n};\n\nvar defaultKeyExtractor = function defaultKeyExtractor(index) {\n  return index;\n};\n\nvar defaultMeasureSize = function defaultMeasureSize(el, horizontal) {\n  var key = horizontal ? 'offsetWidth' : 'offsetHeight';\n  return el[key];\n};\n\nvar defaultRangeExtractor = function defaultRangeExtractor(range) {\n  var start = Math.max(range.start - range.overscan, 0);\n  var end = Math.min(range.end + range.overscan, range.size - 1);\n  var arr = [];\n\n  for (var _i = start; _i <= end; _i++) {\n    arr.push(_i);\n  }\n\n  return arr;\n};\nvar useVirtual = function useVirtual(_ref) {\n  var _measurements;\n\n  var _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 0 : _ref$size,\n      _ref$estimateSize = _ref.estimateSize,\n      estimateSize = _ref$estimateSize === void 0 ? defaultEstimateSize : _ref$estimateSize,\n      _ref$overscan = _ref.overscan,\n      overscan = _ref$overscan === void 0 ? 1 : _ref$overscan,\n      _ref$paddingStart = _ref.paddingStart,\n      paddingStart = _ref$paddingStart === void 0 ? 0 : _ref$paddingStart,\n      _ref$paddingEnd = _ref.paddingEnd,\n      paddingEnd = _ref$paddingEnd === void 0 ? 0 : _ref$paddingEnd,\n      parentRef = _ref.parentRef,\n      _ref$horizontal = _ref.horizontal,\n      horizontal = _ref$horizontal === void 0 ? false : _ref$horizontal,\n      scrollToFn = _ref.scrollToFn,\n      useObserver = _ref.useObserver,\n      initialRect = _ref.initialRect,\n      onScrollElement = _ref.onScrollElement,\n      scrollOffsetFn = _ref.scrollOffsetFn,\n      _ref$keyExtractor = _ref.keyExtractor,\n      keyExtractor = _ref$keyExtractor === void 0 ? defaultKeyExtractor : _ref$keyExtractor,\n      _ref$measureSize = _ref.measureSize,\n      measureSize = _ref$measureSize === void 0 ? defaultMeasureSize : _ref$measureSize,\n      _ref$rangeExtractor = _ref.rangeExtractor,\n      rangeExtractor = _ref$rangeExtractor === void 0 ? defaultRangeExtractor : _ref$rangeExtractor;\n  var sizeKey = horizontal ? 'width' : 'height';\n  var scrollKey = horizontal ? 'scrollLeft' : 'scrollTop';\n  var latestRef = React.useRef({\n    outerSize: 0,\n    scrollOffset: 0,\n    measurements: [],\n    totalSize: 0\n  });\n\n  var _React$useState = React.useState(0),\n      scrollOffset = _React$useState[0],\n      setScrollOffset = _React$useState[1];\n\n  latestRef.current.scrollOffset = scrollOffset;\n  var useMeasureParent = useObserver || useRect;\n\n  var _useMeasureParent = useMeasureParent(parentRef, initialRect),\n      outerSize = _useMeasureParent[sizeKey];\n\n  latestRef.current.outerSize = outerSize;\n  var defaultScrollToFn = React.useCallback(function (offset) {\n    if (parentRef.current) {\n      parentRef.current[scrollKey] = offset;\n    }\n  }, [parentRef, scrollKey]);\n  var resolvedScrollToFn = scrollToFn || defaultScrollToFn;\n  var scrollTo = React.useCallback(function (offset) {\n    resolvedScrollToFn(offset, defaultScrollToFn);\n  }, [defaultScrollToFn, resolvedScrollToFn]);\n\n  var _React$useState2 = React.useState({}),\n      measuredCache = _React$useState2[0],\n      setMeasuredCache = _React$useState2[1];\n\n  var measure = React.useCallback(function () {\n    return setMeasuredCache({});\n  }, []);\n  var pendingMeasuredCacheIndexesRef = React.useRef([]);\n  var measurements = React.useMemo(function () {\n    var min = pendingMeasuredCacheIndexesRef.current.length > 0 ? Math.min.apply(Math, pendingMeasuredCacheIndexesRef.current) : 0;\n    pendingMeasuredCacheIndexesRef.current = [];\n    var measurements = latestRef.current.measurements.slice(0, min);\n\n    for (var _i2 = min; _i2 < size; _i2++) {\n      var key = keyExtractor(_i2);\n      var measuredSize = measuredCache[key];\n\n      var _start = measurements[_i2 - 1] ? measurements[_i2 - 1].end : paddingStart;\n\n      var _size = typeof measuredSize === 'number' ? measuredSize : estimateSize(_i2);\n\n      var _end = _start + _size;\n\n      measurements[_i2] = {\n        index: _i2,\n        start: _start,\n        size: _size,\n        end: _end,\n        key: key\n      };\n    }\n\n    return measurements;\n  }, [estimateSize, measuredCache, paddingStart, size, keyExtractor]);\n  var totalSize = (((_measurements = measurements[size - 1]) == null ? void 0 : _measurements.end) || paddingStart) + paddingEnd;\n  latestRef.current.measurements = measurements;\n  latestRef.current.totalSize = totalSize;\n  var element = onScrollElement ? onScrollElement.current : parentRef.current;\n  var scrollOffsetFnRef = React.useRef(scrollOffsetFn);\n  scrollOffsetFnRef.current = scrollOffsetFn;\n  useIsomorphicLayoutEffect(function () {\n    if (!element) {\n      setScrollOffset(0);\n      return;\n    }\n\n    var onScroll = function onScroll(event) {\n      var offset = scrollOffsetFnRef.current ? scrollOffsetFnRef.current(event) : element[scrollKey];\n      setScrollOffset(offset);\n    };\n\n    onScroll();\n    element.addEventListener('scroll', onScroll, {\n      capture: false,\n      passive: true\n    });\n    return function () {\n      element.removeEventListener('scroll', onScroll);\n    };\n  }, [element, scrollKey]);\n\n  var _calculateRange = calculateRange(latestRef.current),\n      start = _calculateRange.start,\n      end = _calculateRange.end;\n\n  var indexes = React.useMemo(function () {\n    return rangeExtractor({\n      start: start,\n      end: end,\n      overscan: overscan,\n      size: measurements.length\n    });\n  }, [start, end, overscan, measurements.length, rangeExtractor]);\n  var measureSizeRef = React.useRef(measureSize);\n  measureSizeRef.current = measureSize;\n  var virtualItems = React.useMemo(function () {\n    var virtualItems = [];\n\n    var _loop = function _loop(k, len) {\n      var i = indexes[k];\n      var measurement = measurements[i];\n\n      var item = _extends({}, measurement, {\n        measureRef: function measureRef(el) {\n          if (el) {\n            var measuredSize = measureSizeRef.current(el, horizontal);\n\n            if (measuredSize !== item.size) {\n              var _scrollOffset = latestRef.current.scrollOffset;\n\n              if (item.start < _scrollOffset) {\n                defaultScrollToFn(_scrollOffset + (measuredSize - item.size));\n              }\n\n              pendingMeasuredCacheIndexesRef.current.push(i);\n              setMeasuredCache(function (old) {\n                var _extends2;\n\n                return _extends({}, old, (_extends2 = {}, _extends2[item.key] = measuredSize, _extends2));\n              });\n            }\n          }\n        }\n      });\n\n      virtualItems.push(item);\n    };\n\n    for (var k = 0, len = indexes.length; k < len; k++) {\n      _loop(k);\n    }\n\n    return virtualItems;\n  }, [indexes, defaultScrollToFn, horizontal, measurements]);\n  var mountedRef = React.useRef(false);\n  useIsomorphicLayoutEffect(function () {\n    if (mountedRef.current) {\n      setMeasuredCache({});\n    }\n\n    mountedRef.current = true;\n  }, [estimateSize]);\n  var scrollToOffset = React.useCallback(function (toOffset, _temp) {\n    var _ref2 = _temp === void 0 ? {\n      align: 'start'\n    } : _temp,\n        align = _ref2.align;\n\n    var _latestRef$current = latestRef.current,\n        scrollOffset = _latestRef$current.scrollOffset,\n        outerSize = _latestRef$current.outerSize;\n\n    if (align === 'auto') {\n      if (toOffset <= scrollOffset) {\n        align = 'start';\n      } else if (toOffset >= scrollOffset + outerSize) {\n        align = 'end';\n      } else {\n        align = 'start';\n      }\n    }\n\n    if (align === 'start') {\n      scrollTo(toOffset);\n    } else if (align === 'end') {\n      scrollTo(toOffset - outerSize);\n    } else if (align === 'center') {\n      scrollTo(toOffset - outerSize / 2);\n    }\n  }, [scrollTo]);\n  var tryScrollToIndex = React.useCallback(function (index, _temp2) {\n    var _ref3 = _temp2 === void 0 ? {\n      align: 'auto'\n    } : _temp2,\n        align = _ref3.align,\n        rest = _objectWithoutPropertiesLoose(_ref3, _excluded);\n\n    var _latestRef$current2 = latestRef.current,\n        measurements = _latestRef$current2.measurements,\n        scrollOffset = _latestRef$current2.scrollOffset,\n        outerSize = _latestRef$current2.outerSize;\n    var measurement = measurements[Math.max(0, Math.min(index, size - 1))];\n\n    if (!measurement) {\n      return;\n    }\n\n    if (align === 'auto') {\n      if (measurement.end >= scrollOffset + outerSize) {\n        align = 'end';\n      } else if (measurement.start <= scrollOffset) {\n        align = 'start';\n      } else {\n        return;\n      }\n    }\n\n    var toOffset = align === 'center' ? measurement.start + measurement.size / 2 : align === 'end' ? measurement.end : measurement.start;\n    scrollToOffset(toOffset, _extends({\n      align: align\n    }, rest));\n  }, [scrollToOffset, size]);\n  var scrollToIndex = React.useCallback(function (index, options) {\n    // We do a double request here because of\n    // dynamic sizes which can cause offset shift\n    // and end up in the wrong spot. Unfortunately,\n    // we can't know about those dynamic sizes until\n    // we try and render them. So double down!\n    tryScrollToIndex(index, options);\n    requestAnimationFrame(function () {\n      tryScrollToIndex(index, options);\n    });\n  }, [tryScrollToIndex]);\n  return {\n    virtualItems: virtualItems,\n    totalSize: totalSize,\n    scrollToOffset: scrollToOffset,\n    scrollToIndex: scrollToIndex,\n    measure: measure\n  };\n};\n\nvar findNearestBinarySearch = function findNearestBinarySearch(low, high, getCurrentValue, value) {\n  while (low <= high) {\n    var middle = (low + high) / 2 | 0;\n    var currentValue = getCurrentValue(middle);\n\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nfunction calculateRange(_ref4) {\n  var measurements = _ref4.measurements,\n      outerSize = _ref4.outerSize,\n      scrollOffset = _ref4.scrollOffset;\n  var size = measurements.length - 1;\n\n  var getOffset = function getOffset(index) {\n    return measurements[index].start;\n  };\n\n  var start = findNearestBinarySearch(0, size, getOffset, scrollOffset);\n  var end = start;\n\n  while (end < size && measurements[end].end < scrollOffset + outerSize) {\n    end++;\n  }\n\n  return {\n    start: start,\n    end: end\n  };\n}\n\nexport { defaultRangeExtractor, useVirtual };\n//# sourceMappingURL=index.js.map\n","import React, { Ref, memo, useImperativeHandle, useRef } from \"react\";\nimport { useVirtual } from \"@tanstack/react-virtual\";\nimport { ListHandle, TestComponent } from \"./common\";\n\nexport const ReactVirtualList = memo(\n  ({\n    count,\n    Component,\n    handle,\n  }: {\n    count: number;\n    Component: TestComponent;\n    handle?: Ref<ListHandle>;\n  }) => {\n    const parentRef = useRef<HTMLDivElement>(null);\n    const rowVirtualizer = useVirtual({\n      size: count,\n      parentRef,\n    });\n    useImperativeHandle(handle, () => ({\n      scrollToIndex: rowVirtualizer.scrollToIndex,\n    }));\n\n    return (\n      <div\n        ref={parentRef}\n        style={{ width: \"100%\", height: \"100%\", overflow: \"auto\" }}\n      >\n        <div\n          style={{\n            height: `${rowVirtualizer.totalSize}px`,\n            width: \"100%\",\n            position: \"relative\",\n          }}\n        >\n          {rowVirtualizer.virtualItems.map((item) => (\n            <div\n              key={item.key}\n              ref={item.measureRef}\n              style={{\n                position: \"absolute\",\n                top: 0,\n                left: 0,\n                width: \"100%\",\n                transform: `translateY(${item.start}px)`,\n              }}\n            >\n              <Component index={item.index} />\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n);\n"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","rafId","props","observedNodes","Map","run","changedStates","forEach","state","node","a","b","newRect","getBoundingClientRect","rect","some","prop","push","callbacks","cb","window","requestAnimationFrame","useIsomorphicLayoutEffect","React.useLayoutEffect","React.useEffect","rectReducer","action","height","width","useRect","nodeRef","initialRect","_React$useState","React__default","useState","current","element","setElement","_React$useReducer","useReducer","dispatch","initialRectSet","useRef","_rect","useEffect","observer","observe","wasEmpty","size","has","get","set","undefined","hasRectChanged","unobserve","index","indexOf","splice","cancelAnimationFrame","_excluded","defaultEstimateSize","defaultKeyExtractor","defaultMeasureSize","el","horizontal","defaultRangeExtractor","range","start","Math","max","overscan","end","min","arr","_i","useVirtual","_ref","_measurements","_ref$size","_ref$estimateSize","estimateSize","_ref$overscan","_ref$paddingStart","paddingStart","_ref$paddingEnd","paddingEnd","parentRef","_ref$horizontal","scrollToFn","useObserver","onScrollElement","scrollOffsetFn","_ref$keyExtractor","keyExtractor","_ref$measureSize","measureSize","_ref$rangeExtractor","rangeExtractor","sizeKey","scrollKey","latestRef","React.useRef","outerSize","scrollOffset","measurements","totalSize","React.useState","setScrollOffset","defaultScrollToFn","React.useCallback","offset","resolvedScrollToFn","scrollTo","_React$useState2","measuredCache","setMeasuredCache","measure","pendingMeasuredCacheIndexesRef","React.useMemo","slice","_i2","measuredSize","_start","_size","_end","scrollOffsetFnRef","onScroll","event","addEventListener","capture","passive","removeEventListener","_calculateRange","_ref4","getOffset","findNearestBinarySearch","calculateRange","indexes","measureSizeRef","virtualItems","_loop","k","len","item","measureRef","_scrollOffset","old","_extends2","mountedRef","scrollToOffset","toOffset","_temp","align","_latestRef$current","tryScrollToIndex","_temp2","_ref3","rest","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","_latestRef$current2","measurement","scrollToIndex","options","low","high","getCurrentValue","value","middle","currentValue","ReactVirtualList","memo","count","Component","handle","rowVirtualizer","useImperativeHandle","jsx","ref","style","overflow","children","position","map","top","left","transform"],"mappings":"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","x_google_ignoreList":[0]}