import{j as ze}from"./jsx-runtime-c3d7f245.js";import{R as S,r as Yt}from"./index-c6dae603.js";import{R as kn}from"./index-47d8ee4c.js";const oe=0,Rt=1,Vt=2,Xe=4;function tn(t,e){return n=>t(e(n))}function _n(t,e){return e(t)}function en(t,e){return n=>t(e,n)}function Le(t,e){return()=>t(e)}function re(t,e){return e(t),t}function q(...t){return t}function Vn(t){t()}function ke(t){return()=>t}function Pn(...t){return()=>{t.map(Vn)}}function se(t){return t!==void 0}function Pt(){}function j(t,e){return t(Rt,e)}function $(t,e){t(oe,e)}function we(t){t(Vt)}function It(t){return t(Xe)}function H(t,e){return j(t,en(e,oe))}function zt(t,e){const n=t(Rt,o=>{n(),e(o)});return n}function F(){const t=[];return(e,n)=>{switch(e){case Vt:t.splice(0,t.length);return;case Rt:return t.push(n),()=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)};case oe:t.slice().forEach(o=>{o(n)});return;default:throw new Error(`unrecognized action ${e}`)}}}function E(t){let e=t;const n=F();return(o,r)=>{switch(o){case Rt:r(e);break;case oe:e=r;break;case Xe:return e}return n(o,r)}}function Gn(t){let e,n;const o=()=>e&&e();return function(r,s){switch(r){case Rt:return s?n===s?void 0:(o(),n=s,e=j(t,s),e):(o(),Pt);case Vt:o(),n=null;return;default:throw new Error(`unrecognized action ${r}`)}}}function dt(t){return re(F(),e=>H(t,e))}function it(t,e){return re(E(e),n=>H(t,n))}function Mn(...t){return e=>t.reduceRight(_n,e)}function g(t,...e){const n=Mn(...e);return(o,r)=>{switch(o){case Rt:return j(t,n(r));case Vt:we(t);return}}}function nn(t,e){return t===e}function K(t=nn){let e;return n=>o=>{t(e,o)||(e=o,n(o))}}function V(t){return e=>n=>{t(n)&&e(n)}}function y(t){return e=>tn(e,t)}function Et(t){return e=>()=>e(t)}function vt(t,e){return n=>o=>n(e=t(e,o))}function At(t){return e=>n=>{t>0?t--:e(n)}}function Ot(t){let e,n;return o=>r=>{e=r,!n&&(n=setTimeout(()=>{n=void 0,o(e)},t))}}function _e(t){let e,n;return o=>r=>{e=r,n&&clearTimeout(n),n=setTimeout(()=>{o(e)},t)}}function M(...t){const e=new Array(t.length);let n=0,o=null;const r=Math.pow(2,t.length)-1;return t.forEach((s,i)=>{const l=Math.pow(2,i);j(s,u=>{const d=n;n=n|l,e[i]=u,d!==r&&n===r&&o&&(o(),o=null)})}),s=>i=>{const l=()=>s([i].concat(e));n===r?l():o=l}}function Ve(...t){return function(e,n){switch(e){case Rt:return Pn(...t.map(o=>j(o,n)));case Vt:return;default:throw new Error(`unrecognized action ${e}`)}}}function G(t,e=nn){return g(t,K(e))}function nt(...t){const e=F(),n=new Array(t.length);let o=0;const r=Math.pow(2,t.length)-1;return t.forEach((s,i)=>{const l=Math.pow(2,i);j(s,u=>{n[i]=u,o=o|l,o===r&&$(e,n)})}),function(s,i){switch(s){case Rt:return o===r&&i(n),j(e,i);case Vt:return we(e);default:throw new Error(`unrecognized action ${s}`)}}}function W(t,e=[],{singleton:n}={singleton:!0}){return{id:An(),constructor:t,dependencies:e,singleton:n}}const An=()=>Symbol();function Fn(t){const e=new Map,n=({id:o,constructor:r,dependencies:s,singleton:i})=>{if(i&&e.has(o))return e.get(o);const l=r(s.map(u=>n(u)));return i&&e.set(o,l),l};return n(t)}function Nn(t,e){const n={},o={};let r=0;const s=t.length;for(;r<s;)o[t[r]]=1,r+=1;for(const i in e)o.hasOwnProperty(i)||(n[i]=e[i]);return n}const Zt=typeof document<"u"?S.useLayoutEffect:S.useEffect;function on(t,e,n){const o=Object.keys(e.required||{}),r=Object.keys(e.optional||{}),s=Object.keys(e.methods||{}),i=Object.keys(e.events||{}),l=S.createContext({});function u(f,I){f.propsReady&&$(f.propsReady,!1);for(const m of o){const p=f[e.required[m]];$(p,I[m])}for(const m of r)if(m in I){const p=f[e.optional[m]];$(p,I[m])}f.propsReady&&$(f.propsReady,!0)}function d(f){return s.reduce((I,m)=>(I[m]=p=>{const T=f[e.methods[m]];$(T,p)},I),{})}function a(f){return i.reduce((I,m)=>(I[m]=Gn(f[e.events[m]]),I),{})}return{Component:S.forwardRef((f,I)=>{const{children:m,...p}=f,[T]=S.useState(()=>re(Fn(t),c=>u(c,p))),[b]=S.useState(Le(a,T));return Zt(()=>{for(const c of i)c in p&&j(b[c],p[c]);return()=>{Object.values(b).map(we)}},[p,b,T]),Zt(()=>{u(T,p)}),S.useImperativeHandle(I,ke(d(T))),S.createElement(l.Provider,{value:T},n?S.createElement(n,Nn([...o,...r,...i],p),m):m)}),usePublisher:f=>S.useCallback(en($,S.useContext(l)[f]),[f]),useEmitterValue:f=>{const m=S.useContext(l)[f],[p,T]=S.useState(Le(It,m));return Zt(()=>j(m,b=>{b!==p&&T(ke(b))}),[m,p]),p},useEmitter:(f,I)=>{const p=S.useContext(l)[f];Zt(()=>j(p,I),[I,p])}}}const Dn=typeof document<"u"?S.useLayoutEffect:S.useEffect,Wn=Dn;var mt=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(mt||{});const $n={[0]:"debug",[1]:"log",[2]:"warn",[3]:"error"},Un=()=>typeof globalThis>"u"?window:globalThis,bt=W(()=>{const t=E(3);return{log:E((n,o,r=1)=>{var s;const i=(s=Un().VIRTUOSO_LOG_LEVEL)!=null?s:It(t);r>=i&&console[$n[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,o)}),logLevel:t}},[],{singleton:!0});function Te(t,e=!0){const n=S.useRef(null);let o=r=>{};if(typeof ResizeObserver<"u"){const r=S.useMemo(()=>new ResizeObserver(s=>{const i=s[0].target;i.offsetParent!==null&&t(i)}),[t]);o=s=>{s&&e?(r.observe(s),n.current=s):(n.current&&r.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function Lt(t,e=!0){return Te(t,e).callbackRef}function jn(t,e,n,o,r,s,i){const l=S.useCallback(u=>{const d=Kn(u.children,e,"offsetHeight",r);let a=u.parentElement;for(;!a.dataset.virtuosoScroller;)a=a.parentElement;const h=a.lastElementChild.dataset.viewportType==="window",w=i?i.scrollTop:h?window.pageYOffset||document.documentElement.scrollTop:a.scrollTop,C=i?i.scrollHeight:h?document.documentElement.scrollHeight:a.scrollHeight,R=i?i.offsetHeight:h?window.innerHeight:a.offsetHeight;o({scrollTop:Math.max(w,0),scrollHeight:C,viewportHeight:R}),s==null||s(qn("row-gap",getComputedStyle(u).rowGap,r)),d!==null&&t(d)},[t,e,r,s,i,o]);return Te(l,n)}function Kn(t,e,n,o){const r=t.length;if(r===0)return null;const s=[];for(let i=0;i<r;i++){const l=t.item(i);if(!l||l.dataset.index===void 0)continue;const u=parseInt(l.dataset.index),d=parseFloat(l.dataset.knownSize),a=e(l,n);if(a===0&&o("Zero-sized element, this should not happen",{child:l},mt.ERROR),a===d)continue;const h=s[s.length-1];s.length===0||h.size!==a||h.endIndex!==u-1?s.push({startIndex:u,endIndex:u,size:a}):s[s.length-1].endIndex++}return s}function qn(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,mt.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}function yt(t,e){return Math.round(t.getBoundingClientRect()[e])}function rn(t,e){return Math.abs(t-e)<1.01}function sn(t,e,n,o=Pt,r){const s=S.useRef(null),i=S.useRef(null),l=S.useRef(null),u=S.useCallback(h=>{const w=h.target,C=w===window||w===document,R=C?window.pageYOffset||document.documentElement.scrollTop:w.scrollTop,f=C?document.documentElement.scrollHeight:w.scrollHeight,I=C?window.innerHeight:w.offsetHeight,m=()=>{t({scrollTop:Math.max(R,0),scrollHeight:f,viewportHeight:I})};h.suppressFlushSync?m():kn.flushSync(m),i.current!==null&&(R===i.current||R<=0||R===f-I)&&(i.current=null,e(!0),l.current&&(clearTimeout(l.current),l.current=null))},[t,e]);S.useEffect(()=>{const h=r||s.current;return o(r||s.current),u({target:h,suppressFlushSync:!0}),h.addEventListener("scroll",u,{passive:!0}),()=>{o(null),h.removeEventListener("scroll",u)}},[s,u,n,o,r]);function d(h){const w=s.current;if(!w||"offsetHeight"in w&&w.offsetHeight===0)return;const C=h.behavior==="smooth";let R,f,I;w===window?(f=Math.max(yt(document.documentElement,"height"),document.documentElement.scrollHeight),R=window.innerHeight,I=document.documentElement.scrollTop):(f=w.scrollHeight,R=yt(w,"height"),I=w.scrollTop);const m=f-R;if(h.top=Math.ceil(Math.max(Math.min(m,h.top),0)),rn(R,f)||h.top===I){t({scrollTop:I,scrollHeight:f,viewportHeight:R}),C&&e(!0);return}C?(i.current=h.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,i.current=null,e(!0)},1e3)):i.current=null,w.scrollTo(h)}function a(h){s.current.scrollBy(h)}return{scrollerRef:s,scrollByCallback:a,scrollToCallback:d}}const lt=W(()=>{const t=F(),e=F(),n=E(0),o=F(),r=E(0),s=F(),i=F(),l=E(0),u=E(0),d=E(0),a=E(0),h=F(),w=F(),C=E(!1);return H(g(t,y(({scrollTop:R})=>R)),e),H(g(t,y(({scrollHeight:R})=>R)),i),H(e,r),{scrollContainerState:t,scrollTop:e,viewportHeight:s,headerHeight:l,fixedHeaderHeight:u,fixedFooterHeight:d,footerHeight:a,scrollHeight:i,smoothScrollTargetReached:o,scrollTo:h,scrollBy:w,statefulScrollTop:r,deviation:n,scrollingInProgress:C}},[],{singleton:!0}),Ft={lvl:0};function ln(t,e,n,o=Ft,r=Ft){return{k:t,v:e,lvl:n,l:o,r}}function U(t){return t===Ft}function _t(){return Ft}function he(t,e){if(U(t))return Ft;const{k:n,l:o,r}=t;if(e===n){if(U(o))return r;if(U(r))return o;{const[s,i]=cn(o);return Jt(X(t,{k:s,v:i,l:un(o)}))}}else return e<n?Jt(X(t,{l:he(o,e)})):Jt(X(t,{r:he(r,e)}))}function Nt(t,e){if(!U(t))return e===t.k?t.v:e<t.k?Nt(t.l,e):Nt(t.r,e)}function wt(t,e,n="k"){if(U(t))return[-1/0,void 0];if(t[n]===e)return[t.k,t.v];if(t[n]<e){const o=wt(t.r,e,n);return o[0]===-1/0?[t.k,t.v]:o}return wt(t.l,e,n)}function ft(t,e,n){return U(t)?ln(e,n,1):e===t.k?X(t,{k:e,v:n}):e<t.k?Pe(X(t,{l:ft(t.l,e,n)})):Pe(X(t,{r:ft(t.r,e,n)}))}function ge(t,e,n){if(U(t))return[];const{k:o,v:r,l:s,r:i}=t;let l=[];return o>e&&(l=l.concat(ge(s,e,n))),o>=e&&o<=n&&l.push({k:o,v:r}),o<=n&&(l=l.concat(ge(i,e,n))),l}function Bt(t){return U(t)?[]:[...Bt(t.l),{k:t.k,v:t.v},...Bt(t.r)]}function cn(t){return U(t.r)?[t.k,t.v]:cn(t.r)}function un(t){return U(t.r)?t.l:Jt(X(t,{r:un(t.r)}))}function X(t,e){return ln(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function fe(t){return U(t)||t.lvl>t.r.lvl}function Pe(t){return Ie(fn(t))}function Jt(t){const{l:e,r:n,lvl:o}=t;if(n.lvl>=o-1&&e.lvl>=o-1)return t;if(o>n.lvl+1){if(fe(e))return fn(X(t,{lvl:o-1}));if(!U(e)&&!U(e.r))return X(e.r,{l:X(e,{r:e.r.l}),r:X(t,{l:e.r.r,lvl:o-1}),lvl:o});throw new Error("Unexpected empty nodes")}else{if(fe(t))return Ie(X(t,{lvl:o-1}));if(!U(n)&&!U(n.l)){const r=n.l,s=fe(r)?n.lvl-1:n.lvl;return X(r,{l:X(t,{r:r.l,lvl:o-1}),r:Ie(X(n,{l:r.r,lvl:s})),lvl:r.lvl+1})}else throw new Error("Unexpected empty nodes")}}function ie(t,e,n){if(U(t))return[];const o=wt(t,e)[0];return Yn(ge(t,o,n))}function an(t,e){const n=t.length;if(n===0)return[];let{index:o,value:r}=e(t[0]);const s=[];for(let i=1;i<n;i++){const{index:l,value:u}=e(t[i]);s.push({start:o,end:l-1,value:r}),o=l,r=u}return s.push({start:o,end:1/0,value:r}),s}function Yn(t){return an(t,({k:e,v:n})=>({index:e,value:n}))}function Ie(t){const{r:e,lvl:n}=t;return!U(e)&&!U(e.r)&&e.lvl===n&&e.r.lvl===n?X(e,{l:X(t,{r:e.l}),lvl:n+1}):t}function fn(t){const{l:e}=t;return!U(e)&&e.lvl===t.lvl?X(e,{r:X(t,{l:e.r})}):t}function Xt(t,e,n,o=0){let r=t.length-1;for(;o<=r;){const s=Math.floor((o+r)/2),i=t[s],l=n(i,e);if(l===0)return s;if(l===-1){if(r-o<2)return s-1;r=s-1}else{if(r===o)return s;o=s+1}}throw new Error(`Failed binary finding record in array - ${t.join(",")}, searched for ${e}`)}function dn(t,e,n){return t[Xt(t,e,n)]}function Zn(t,e,n,o){const r=Xt(t,e,o),s=Xt(t,n,o,r);return t.slice(r,s+1)}const ve=W(()=>({recalcInProgress:E(!1)}),[],{singleton:!0});function Jn(t){const{size:e,startIndex:n,endIndex:o}=t;return r=>r.start===n&&(r.end===o||r.end===1/0)&&r.value===e}function Ge(t,e){let n=0,o=0;for(;n<t;)n+=e[o+1]-e[o]-1,o++;return o-(n===t?0:1)}function Qn(t,e){let n=U(t)?0:1/0;for(const o of e){const{size:r,startIndex:s,endIndex:i}=o;if(n=Math.min(n,s),U(t)){t=ft(t,0,r);continue}const l=ie(t,s-1,i+1);if(l.some(Jn(o)))continue;let u=!1,d=!1;for(const{start:a,end:h,value:w}of l)u?(i>=a||r===w)&&(t=he(t,a)):(d=w!==r,u=!0),h>i&&i>=a&&w!==r&&(t=ft(t,i+1,w));d&&(t=ft(t,s,r))}return[t,n]}function Xn(){return{offsetTree:[],sizeTree:_t(),groupOffsetTree:_t(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function Ce({index:t},e){return e===t?0:e<t?-1:1}function to({offset:t},e){return e===t?0:e<t?-1:1}function eo(t){return{index:t.index,value:t}}function no(t,e,n,o=0){return o>0&&(e=Math.max(e,dn(t,o,Ce).offset)),an(Zn(t,e,n,to),eo)}function Se(t,e,n,o){let r=t,s=0,i=0,l=0,u=0;if(e!==0){u=Xt(r,e-1,Ce),l=r[u].offset;const a=wt(n,e-1);s=a[0],i=a[1],r.length&&r[u].size===wt(n,e)[1]&&(u-=1),r=r.slice(0,u+1)}else r=[];for(const{start:d,value:a}of ie(n,e,1/0)){const h=d-s,w=h*i+l+h*o;r.push({offset:w,size:a,index:d}),s=d,l=w,i=a}return{offsetTree:r,lastIndex:s,lastOffset:l,lastSize:i}}function oo(t,[e,n,o,r]){e.length>0&&o("received item sizes",e,mt.DEBUG);const s=t.sizeTree;let i=s,l=0;if(n.length>0&&U(s)&&e.length===2){const w=e[0].size,C=e[1].size;i=n.reduce((R,f)=>ft(ft(R,f,w),f+1,C),i)}else[i,l]=Qn(i,e);if(i===s)return t;const{offsetTree:u,lastIndex:d,lastSize:a,lastOffset:h}=Se(t.offsetTree,l,i,r);return{sizeTree:i,offsetTree:u,lastIndex:d,lastOffset:h,lastSize:a,groupOffsetTree:n.reduce((w,C)=>ft(w,C,Dt(C,u,r)),_t()),groupIndices:n}}function Dt(t,e,n){if(e.length===0)return 0;const{offset:o,index:r,size:s}=dn(e,t,Ce),i=t-r,l=s*i+(i-1)*n+o;return l>0?l+n:l}function ro(t){return typeof t.groupIndex<"u"}function mn(t,e,n){if(ro(t))return e.groupIndices[t.groupIndex]+1;{const o=t.index==="LAST"?n:t.index;let r=pn(o,e);return r=Math.max(0,r,Math.min(n,r)),r}}function pn(t,e){if(!le(e))return t;let n=0;for(;e.groupIndices[n]<=t+n;)n++;return t+n}function le(t){return!U(t.groupOffsetTree)}function so(t){return Bt(t).map(({k:e,v:n},o,r)=>{const s=r[o+1],i=s?s.k-1:1/0;return{startIndex:e,endIndex:i,size:n}})}const io={offsetHeight:"height",offsetWidth:"width"},Ct=W(([{log:t},{recalcInProgress:e}])=>{const n=F(),o=F(),r=it(o,0),s=F(),i=F(),l=E(0),u=E([]),d=E(void 0),a=E(void 0),h=E((c,x)=>yt(c,io[x])),w=E(void 0),C=E(0),R=Xn(),f=it(g(n,M(u,t,C),vt(oo,R),K()),R),I=it(g(u,K(),vt((c,x)=>({prev:c.current,current:x}),{prev:[],current:[]}),y(({prev:c})=>c)),[]);H(g(u,V(c=>c.length>0),M(f,C),y(([c,x,v])=>{const _=c.reduce((B,k,z)=>ft(B,k,Dt(k,x.offsetTree,v)||z),_t());return{...x,groupIndices:c,groupOffsetTree:_}})),f),H(g(o,M(f),V(([c,{lastIndex:x,groupIndices:v}])=>c<x&&v.length===0),y(([c,{lastIndex:x,lastSize:v}])=>[{startIndex:c,endIndex:x,size:v}])),n),H(d,a);const m=it(g(d,y(c=>c===void 0)),!0);H(g(a,V(c=>c!==void 0&&U(It(f).sizeTree)),y(c=>[{startIndex:0,endIndex:0,size:c}])),n);const p=dt(g(n,M(f),vt(({sizes:c},[x,v])=>({changed:v!==c,sizes:v}),{changed:!1,sizes:R}),y(c=>c.changed)));j(g(l,vt((c,x)=>({diff:c.prev-x,prev:x}),{diff:0,prev:0}),y(c=>c.diff)),c=>{const{groupIndices:x}=It(f);if(c>0)$(e,!0),$(s,c+Ge(c,x));else if(c<0){const v=It(I);v.length>0&&$(i,c-Ge(-c,v))}}),j(g(l,M(t)),([c,x])=>{c<0&&x("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},mt.ERROR)});const T=dt(s);H(g(s,M(f),y(([c,x])=>{const v=x.groupIndices.length>0,_=[],B=x.lastSize;if(v){const k=Nt(x.sizeTree,0);let z=0,D=0;for(;z<c;){const P=x.groupIndices[D],Z=x.groupIndices.length===D+1?1/0:x.groupIndices[D+1]-P-1;_.push({startIndex:P,endIndex:P,size:k}),_.push({startIndex:P+1,endIndex:P+1+Z-1,size:B}),D++,z+=Z+1}const N=Bt(x.sizeTree);return z!==c&&N.shift(),N.reduce((P,{k:Z,v:Tt})=>{let pt=P.ranges;return P.prevSize!==0&&(pt=[...P.ranges,{startIndex:P.prevIndex,endIndex:Z+c-1,size:P.prevSize}]),{ranges:pt,prevIndex:Z+c,prevSize:Tt}},{ranges:_,prevIndex:c,prevSize:0}).ranges}return Bt(x.sizeTree).reduce((k,{k:z,v:D})=>({ranges:[...k.ranges,{startIndex:k.prevIndex,endIndex:z+c-1,size:k.prevSize}],prevIndex:z+c,prevSize:D}),{ranges:[],prevIndex:0,prevSize:B}).ranges})),n);const b=dt(g(i,M(f,C),y(([c,{offsetTree:x},v])=>{const _=-c;return Dt(_,x,v)})));return H(g(i,M(f,C),y(([c,x,v])=>{if(x.groupIndices.length>0){let B=_t();const k=It(I);let z=0,D=0,N=0;for(;z<-c;){N=k[D];const P=k[D+1]-N-1;D++,z+=P+1}if(B=Bt(x.sizeTree).reduce((P,{k:Z,v:Tt})=>ft(P,Math.max(0,Z+c),Tt),B),z!==-c){const P=Nt(x.sizeTree,N);B=ft(B,0,P);const Z=wt(x.sizeTree,-c+1)[1];B=ft(B,1,Z)}return{...x,sizeTree:B,...Se(x.offsetTree,0,B,v)}}else{const B=Bt(x.sizeTree).reduce((k,{k:z,v:D})=>ft(k,Math.max(0,z+c),D),_t());return{...x,sizeTree:B,...Se(x.offsetTree,0,B,v)}}})),f),{data:w,totalCount:o,sizeRanges:n,groupIndices:u,defaultItemSize:a,fixedItemSize:d,unshiftWith:s,shiftWith:i,shiftWithOffset:b,beforeUnshiftWith:T,firstItemIndex:l,gap:C,sizes:f,listRefresh:p,statefulTotalCount:r,trackItemSizes:m,itemSize:h}},q(bt,ve),{singleton:!0}),lo=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function hn(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!lo)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const Ut=W(([{sizes:t,totalCount:e,listRefresh:n,gap:o},{scrollingInProgress:r,viewportHeight:s,scrollTo:i,smoothScrollTargetReached:l,headerHeight:u,footerHeight:d,fixedHeaderHeight:a,fixedFooterHeight:h},{log:w}])=>{const C=F(),R=E(0);let f=null,I=null,m=null;function p(){f&&(f(),f=null),m&&(m(),m=null),I&&(clearTimeout(I),I=null),$(r,!1)}return H(g(C,M(t,s,e,R,u,d,w),M(o,a,h),y(([[T,b,c,x,v,_,B,k],z,D,N])=>{const L=hn(T),{align:P,behavior:Z,offset:Tt}=L,pt=x-1,ht=mn(L,b,pt);let O=Dt(ht,b.offsetTree,z)+_;P==="end"?(O+=D+wt(b.sizeTree,ht)[1]-c+N,ht===pt&&(O+=B)):P==="center"?O+=(D+wt(b.sizeTree,ht)[1]-c+N)/2:O-=v,Tt&&(O+=Tt);const Q=tt=>{p(),tt?(k("retrying to scroll to",{location:T},mt.DEBUG),$(C,T)):k("list did not change, scroll successful",{},mt.DEBUG)};if(p(),Z==="smooth"){let tt=!1;m=j(n,ct=>{tt=tt||ct}),f=zt(l,()=>{Q(tt)})}else f=zt(g(n,co(150)),Q);return I=setTimeout(()=>{p()},1200),$(r,!0),k("scrolling from index to",{index:ht,top:O,behavior:Z},mt.DEBUG),{top:O,behavior:Z}})),i),{scrollToIndex:C,topListHeight:R}},q(Ct,lt,bt),{singleton:!0});function co(t){return e=>{const n=setTimeout(()=>{e(!1)},t);return o=>{o&&(e(!0),clearTimeout(n))}}}const Wt="up",Gt="down",uo="none",ao={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},fo=0,jt=W(([{scrollContainerState:t,scrollTop:e,viewportHeight:n,headerHeight:o,footerHeight:r,scrollBy:s}])=>{const i=E(!1),l=E(!0),u=F(),d=F(),a=E(4),h=E(fo),w=it(g(Ve(g(G(e),At(1),Et(!0)),g(G(e),At(1),Et(!1),_e(100))),K()),!1),C=it(g(Ve(g(s,Et(!0)),g(s,Et(!1),_e(200))),K()),!1);H(g(nt(G(e),G(h)),y(([p,T])=>p<=T),K()),l),H(g(l,Ot(50)),d);const R=dt(g(nt(t,G(n),G(o),G(r),G(a)),vt((p,[{scrollTop:T,scrollHeight:b},c,x,v,_])=>{const B=T+c-b>-_,k={viewportHeight:c,scrollTop:T,scrollHeight:b};if(B){let D,N;return T>p.state.scrollTop?(D="SCROLLED_DOWN",N=p.state.scrollTop-T):(D="SIZE_DECREASED",N=p.state.scrollTop-T||p.scrollTopDelta),{atBottom:!0,state:k,atBottomBecause:D,scrollTopDelta:N}}let z;return k.scrollHeight>p.state.scrollHeight?z="SIZE_INCREASED":c<p.state.viewportHeight?z="VIEWPORT_HEIGHT_DECREASING":T<p.state.scrollTop?z="SCROLLING_UPWARDS":z="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:z,state:k}},ao),K((p,T)=>p&&p.atBottom===T.atBottom))),f=it(g(t,vt((p,{scrollTop:T,scrollHeight:b,viewportHeight:c})=>{if(rn(p.scrollHeight,b))return{scrollTop:T,scrollHeight:b,jump:0,changed:!1};{const x=b-(T+c)<1;return p.scrollTop!==T&&x?{scrollHeight:b,scrollTop:T,jump:p.scrollTop-T,changed:!0}:{scrollHeight:b,scrollTop:T,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),V(p=>p.changed),y(p=>p.jump)),0);H(g(R,y(p=>p.atBottom)),i),H(g(i,Ot(50)),u);const I=E(Gt);H(g(t,y(({scrollTop:p})=>p),K(),vt((p,T)=>It(C)?{direction:p.direction,prevScrollTop:T}:{direction:T<p.prevScrollTop?Wt:Gt,prevScrollTop:T},{direction:Gt,prevScrollTop:0}),y(p=>p.direction)),I),H(g(t,Ot(50),Et(uo)),I);const m=E(0);return H(g(w,V(p=>!p),Et(0)),m),H(g(e,Ot(100),M(w),V(([p,T])=>!!T),vt(([p,T],[b])=>[T,b],[0,0]),y(([p,T])=>T-p)),m),{isScrolling:w,isAtTop:l,isAtBottom:i,atBottomState:R,atTopStateChange:d,atBottomStateChange:u,scrollDirection:I,atBottomThreshold:a,atTopThreshold:h,scrollVelocity:m,lastJumpDueToItemResize:f}},q(lt)),Ht=W(([{log:t}])=>{const e=E(!1),n=dt(g(e,V(o=>o),K()));return j(e,o=>{o&&It(t)("props updated",{},mt.DEBUG)}),{propsReady:e,didMount:n}},q(bt),{singleton:!0});function mo(t,e){const n=e-1;return typeof t=="number"?t:t.index==="LAST"?n:t.index}function gn(t,e){t==0?e():requestAnimationFrame(()=>gn(t-1,e))}const ce=W(([{sizes:t,listRefresh:e,defaultItemSize:n},{scrollTop:o},{scrollToIndex:r},{didMount:s}])=>{const i=E(!0),l=E(0),u=E(!1);return H(g(s,M(l),V(([d,a])=>!!a),Et(!1)),i),j(g(nt(e,s),M(i,t,n,u),V(([[,d],a,{sizeTree:h},w,C])=>d&&(!U(h)||se(w))&&!a&&!C),M(l)),([,d])=>{$(u,!0),gn(2,()=>{zt(o,()=>$(i,!0)),$(r,d)})}),{scrolledToInitialItem:i,initialTopMostItemIndex:l}},q(Ct,lt,Ut,Ht),{singleton:!0});function Me(t){return t?t==="smooth"?"smooth":"auto":!1}const po=(t,e)=>typeof t=="function"?Me(t(e)):e&&Me(t),ho=W(([{totalCount:t,listRefresh:e},{isAtBottom:n,atBottomState:o},{scrollToIndex:r},{scrolledToInitialItem:s},{propsReady:i,didMount:l},{log:u},{scrollingInProgress:d}])=>{const a=E(!1),h=F();let w=null;function C(f){$(r,{index:"LAST",align:"end",behavior:f})}j(g(nt(g(G(t),At(1)),l),M(G(a),n,s,d),y(([[f,I],m,p,T,b])=>{let c=I&&T,x="auto";return c&&(x=po(m,p||b),c=c&&!!x),{totalCount:f,shouldFollow:c,followOutputBehavior:x}}),V(({shouldFollow:f})=>f)),({totalCount:f,followOutputBehavior:I})=>{w&&(w(),w=null),w=zt(e,()=>{It(u)("following output to ",{totalCount:f},mt.DEBUG),C(I),w=null})});function R(f){const I=zt(o,m=>{f&&!m.atBottom&&m.notAtBottomBecause==="SIZE_INCREASED"&&!w&&(It(u)("scrolling to bottom due to increased size",{},mt.DEBUG),C("auto"))});setTimeout(I,100)}return j(g(nt(G(a),t,i),V(([f,,I])=>f&&I),vt(({value:f},[,I])=>({refreshed:f===I,value:I}),{refreshed:!1,value:0}),V(({refreshed:f})=>f),M(a,t)),([,f])=>{R(f!==!1)}),j(h,()=>{R(It(a)!==!1)}),j(nt(G(a),o),([f,I])=>{f&&!I.atBottom&&I.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&C("auto")}),{followOutput:a,autoscrollToBottom:h}},q(Ct,jt,Ut,ce,Ht,bt,lt));function go(t){return t.reduce((e,n)=>(e.groupIndices.push(e.totalCount),e.totalCount+=n+1,e),{totalCount:0,groupIndices:[]})}const In=W(([{totalCount:t,groupIndices:e,sizes:n},{scrollTop:o,headerHeight:r}])=>{const s=F(),i=F(),l=dt(g(s,y(go)));return H(g(l,y(u=>u.totalCount)),t),H(g(l,y(u=>u.groupIndices)),e),H(g(nt(o,n,r),V(([u,d])=>le(d)),y(([u,d,a])=>wt(d.groupOffsetTree,Math.max(u-a,0),"v")[0]),K(),y(u=>[u])),i),{groupCounts:s,topItemsIndexes:i}},q(Ct,lt));function $t(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}function Sn(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}const te="top",ee="bottom",Ae="none";function Fe(t,e,n){return typeof t=="number"?n===Wt&&e===te||n===Gt&&e===ee?t:0:n===Wt?e===te?t.main:t.reverse:e===ee?t.main:t.reverse}function Ne(t,e){return typeof t=="number"?t:t[e]||0}const Ee=W(([{scrollTop:t,viewportHeight:e,deviation:n,headerHeight:o,fixedHeaderHeight:r}])=>{const s=F(),i=E(0),l=E(0),u=E(0),d=it(g(nt(G(t),G(e),G(o),G(s,$t),G(u),G(i),G(r),G(n),G(l)),y(([a,h,w,[C,R],f,I,m,p,T])=>{const b=a-p,c=I+m,x=Math.max(w-b,0);let v=Ae;const _=Ne(T,te),B=Ne(T,ee);return C-=p,C+=w+m,R+=w+m,R-=p,C>a+c-_&&(v=Wt),R<a-x+h+B&&(v=Gt),v!==Ae?[Math.max(b-w-Fe(f,te,v)-_,0),b-x-m+h+Fe(f,ee,v)+B]:null}),V(a=>a!=null),K($t)),[0,0]);return{listBoundary:s,overscan:u,topListHeight:i,increaseViewportBy:l,visibleRange:d}},q(lt),{singleton:!0});function Io(t,e,n){if(le(e)){const o=pn(t,e);return[{index:wt(e.groupOffsetTree,o)[0],size:0,offset:0},{index:o,size:0,offset:0,data:n&&n[0]}]}return[{index:t,size:0,offset:0,data:n&&n[0]}]}const De={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function We(t,e,n){if(t.length===0)return[];if(!le(e))return t.map(d=>({...d,index:d.index+n,originalIndex:d.index}));const o=t[0].index,r=t[t.length-1].index,s=[],i=ie(e.groupOffsetTree,o,r);let l,u=0;for(const d of t){(!l||l.end<d.index)&&(l=i.shift(),u=e.groupIndices.indexOf(l.start));let a;d.index===l.start?a={type:"group",index:u}:a={index:d.index-(u+1)+n,groupIndex:u},s.push({...a,size:d.size,offset:d.offset,originalIndex:d.index,data:d.data})}return s}function Qt(t,e,n,o,r,s){const{lastSize:i,lastOffset:l,lastIndex:u}=r;let d=0,a=0;if(t.length>0){d=t[0].offset;const f=t[t.length-1];a=f.offset+f.size}const h=n-u,w=l+h*i+(h-1)*o,C=d,R=w-a;return{items:We(t,r,s),topItems:We(e,r,s),topListHeight:e.reduce((f,I)=>I.size+f,0),offsetTop:d,offsetBottom:R,top:C,bottom:a,totalCount:n,firstItemIndex:s}}const kt=W(([{sizes:t,totalCount:e,data:n,firstItemIndex:o,gap:r},s,{visibleRange:i,listBoundary:l,topListHeight:u},{scrolledToInitialItem:d,initialTopMostItemIndex:a},{topListHeight:h},w,{didMount:C},{recalcInProgress:R}])=>{const f=E([]),I=F();H(s.topItemsIndexes,f);const m=it(g(nt(C,R,G(i,$t),G(e),G(t),G(a),d,G(f),G(o),G(r),n),V(([c,x,,v,,,,,,,_])=>{const B=_&&_.length!==v;return c&&!x&&!B}),y(([,,[c,x],v,_,B,k,z,D,N,L])=>{const P=_,{sizeTree:Z,offsetTree:Tt}=P;if(v===0||c===0&&x===0)return{...De,totalCount:v};if(U(Z))return Qt(Io(mo(B,v),P,L),[],v,N,P,D);const pt=[];if(z.length>0){const ct=z[0],ut=z[z.length-1];let ot=0;for(const rt of ie(Z,ct,ut)){const et=rt.value,gt=Math.max(rt.start,ct),st=Math.min(rt.end,ut);for(let Y=gt;Y<=st;Y++)pt.push({index:Y,size:et,offset:ot,data:L&&L[Y]}),ot+=et}}if(!k)return Qt([],pt,v,N,P,D);const ht=z.length>0?z[z.length-1]+1:0,O=no(Tt,c,x,ht);if(O.length===0)return null;const Q=v-1,tt=re([],ct=>{for(const ut of O){const ot=ut.value;let rt=ot.offset,et=ut.start;const gt=ot.size;if(ot.offset<c){et+=Math.floor((c-ot.offset+N)/(gt+N));const Y=et-ut.start;rt+=Y*gt+Y*N}et<ht&&(rt+=(ht-et)*gt,et=ht);const st=Math.min(ut.end,Q);for(let Y=et;Y<=st&&!(rt>=x);Y++)ct.push({index:Y,size:gt,offset:rt,data:L&&L[Y]}),rt+=gt+N}});return Qt(tt,pt,v,N,P,D)}),V(c=>c!==null),K()),De);H(g(n,V(se),y(c=>c==null?void 0:c.length)),e),H(g(m,y(c=>c.topListHeight)),h),H(h,u),H(g(m,y(c=>[c.top,c.bottom])),l),H(g(m,y(c=>c.items)),I);const p=dt(g(m,V(({items:c})=>c.length>0),M(e,n),V(([{items:c},x])=>c[c.length-1].originalIndex===x-1),y(([,c,x])=>[c-1,x]),K($t),y(([c])=>c))),T=dt(g(m,Ot(200),V(({items:c,topItems:x})=>c.length>0&&c[0].originalIndex===x.length),y(({items:c})=>c[0].index),K())),b=dt(g(m,V(({items:c})=>c.length>0),y(({items:c})=>{let x=0,v=c.length-1;for(;c[x].type==="group"&&x<v;)x++;for(;c[v].type==="group"&&v>x;)v--;return{startIndex:c[x].index,endIndex:c[v].index}}),K(Sn)));return{listState:m,topItemsIndexes:f,endReached:p,startReached:T,rangeChanged:b,itemsRendered:I,...w}},q(Ct,In,Ee,ce,Ut,jt,Ht,ve),{singleton:!0}),So=W(([{sizes:t,firstItemIndex:e,data:n,gap:o},{listState:r},{didMount:s}])=>{const i=E(0);return H(g(s,M(i),V(([,l])=>l!==0),M(t,e,o,n),y(([[,l],u,d,a,h=[]])=>{let w=0;if(u.groupIndices.length>0)for(const f of u.groupIndices){if(f-w>=l)break;w++}const C=l+w,R=Array.from({length:C}).map((f,I)=>({index:I,size:0,offset:0,data:h[I]}));return Qt(R,[],C,a,u,d)})),r),{initialItemCount:i}},q(Ct,kt,Ht),{singleton:!0}),xn=W(([{scrollVelocity:t}])=>{const e=E(!1),n=F(),o=E(!1);return H(g(t,M(o,e,n),V(([r,s])=>!!s),y(([r,s,i,l])=>{const{exit:u,enter:d}=s;if(i){if(u(r,l))return!1}else if(d(r,l))return!0;return i}),K()),e),j(g(nt(e,t,n),M(o)),([[r,s,i],l])=>r&&l&&l.change&&l.change(s,i)),{isSeeking:e,scrollSeekConfiguration:o,scrollVelocity:t,scrollSeekRangeChanged:n}},q(jt),{singleton:!0}),xo=W(([{topItemsIndexes:t}])=>{const e=E(0);return H(g(e,V(n=>n>0),y(n=>Array.from({length:n}).map((o,r)=>r))),t),{topItemCount:e}},q(kt)),wn=W(([{footerHeight:t,headerHeight:e,fixedHeaderHeight:n,fixedFooterHeight:o},{listState:r}])=>{const s=F(),i=it(g(nt(t,o,e,n,r),y(([l,u,d,a,h])=>l+u+d+a+h.offsetBottom+h.bottom)),0);return H(G(i),s),{totalListHeight:i,totalListHeightChanged:s}},q(lt,kt),{singleton:!0});function Tn(t){let e=!1,n;return()=>(e||(e=!0,n=t()),n)}const wo=Tn(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),To=W(([{scrollBy:t,scrollTop:e,deviation:n,scrollingInProgress:o},{isScrolling:r,isAtBottom:s,scrollDirection:i,lastJumpDueToItemResize:l},{listState:u},{beforeUnshiftWith:d,shiftWithOffset:a,sizes:h,gap:w},{log:C},{recalcInProgress:R}])=>{const f=dt(g(u,M(l),vt(([,m,p,T],[{items:b,totalCount:c,bottom:x,offsetBottom:v},_])=>{const B=x+v;let k=0;return p===c&&m.length>0&&b.length>0&&(b[0].originalIndex===0&&m[0].originalIndex===0||(k=B-T,k!==0&&(k+=_))),[k,b,c,B]},[0,[],0,0]),V(([m])=>m!==0),M(e,i,o,s,C,R),V(([,m,p,T,,,b])=>!b&&!T&&m!==0&&p===Wt),y(([[m],,,,,p])=>(p("Upward scrolling compensation",{amount:m},mt.DEBUG),m))));function I(m){m>0?($(t,{top:-m,behavior:"auto"}),$(n,0)):($(n,0),$(t,{top:-m,behavior:"auto"}))}return j(g(f,M(n,r)),([m,p,T])=>{T&&wo()?$(n,p-m):I(-m)}),j(g(nt(it(r,!1),n,R),V(([m,p,T])=>!m&&!T&&p!==0),y(([m,p])=>p),Ot(1)),I),H(g(a,y(m=>({top:-m}))),t),j(g(d,M(h,w),y(([m,{lastSize:p,groupIndices:T,sizeTree:b},c])=>{function x(v){return v*(p+c)}if(T.length===0)return x(m);{let v=0;const _=Nt(b,0);let B=0,k=0;for(;B<m;){B++,v+=_;let z=T.length===k+1?1/0:T[k+1]-T[k]-1;B+z>m&&(v-=_,z=m-B+1),B+=z,v+=x(z),k++}return v}})),m=>{$(n,m),requestAnimationFrame(()=>{$(t,{top:m}),requestAnimationFrame(()=>{$(n,0),$(R,!1)})})}),{deviation:n}},q(lt,jt,kt,Ct,bt,ve)),vo=W(([{didMount:t},{scrollTo:e},{listState:n}])=>{const o=E(0);return j(g(t,M(o),V(([,r])=>r!==0),y(([,r])=>({top:r}))),r=>{zt(g(n,At(1),V(s=>s.items.length>1)),()=>{requestAnimationFrame(()=>{$(e,r)})})}),{initialScrollTop:o}},q(Ht,lt,kt),{singleton:!0}),Co=W(([{viewportHeight:t},{totalListHeight:e}])=>{const n=E(!1),o=it(g(nt(n,t,e),V(([r])=>r),y(([,r,s])=>Math.max(0,r-s)),Ot(0),K()),0);return{alignToBottom:n,paddingTopAddition:o}},q(lt,wn),{singleton:!0}),vn=W(([{scrollTo:t,scrollContainerState:e}])=>{const n=F(),o=F(),r=F(),s=E(!1),i=E(void 0);return H(g(nt(n,o),y(([{viewportHeight:l,scrollTop:u,scrollHeight:d},{offsetTop:a}])=>({scrollTop:Math.max(0,u-a),scrollHeight:d,viewportHeight:l}))),e),H(g(t,M(o),y(([l,{offsetTop:u}])=>({...l,top:l.top+u}))),r),{useWindowScroll:s,customScrollParent:i,windowScrollContainerState:n,windowViewportRect:o,windowScrollTo:r}},q(lt)),Eo=({itemTop:t,itemBottom:e,viewportTop:n,viewportBottom:o,locationParams:{behavior:r,align:s,...i}})=>t<n?{...i,behavior:r,align:s!=null?s:"start"}:e>o?{...i,behavior:r,align:s!=null?s:"end"}:null,yo=W(([{sizes:t,totalCount:e,gap:n},{scrollTop:o,viewportHeight:r,headerHeight:s,fixedHeaderHeight:i,fixedFooterHeight:l,scrollingInProgress:u},{scrollToIndex:d}])=>{const a=F();return H(g(a,M(t,r,e,s,i,l,o),M(n),y(([[h,w,C,R,f,I,m,p],T])=>{const{done:b,behavior:c,align:x,calculateViewLocation:v=Eo,..._}=h,B=mn(h,w,R-1),k=Dt(B,w.offsetTree,T)+f+I,z=k+wt(w.sizeTree,B)[1],D=p+I,N=p+C-m,L=v({itemTop:k,itemBottom:z,viewportTop:D,viewportBottom:N,locationParams:{behavior:c,align:x,..._}});return L?b&&zt(g(u,V(P=>P===!1),At(It(u)?1:2)),b):b&&b(),L}),V(h=>h!==null)),d),{scrollIntoView:a}},q(Ct,lt,Ut,kt,bt),{singleton:!0}),Ro=W(([{sizes:t,sizeRanges:e},{scrollTop:n},{initialTopMostItemIndex:o},{didMount:r}])=>{const s=F(),i=E(void 0);return j(g(s,M(t,n)),([l,u,d])=>{const a=so(u.sizeTree);l({ranges:a,scrollTop:d})}),H(g(i,V(se),y(bo)),o),H(g(r,M(i),V(([,l])=>l!==void 0),K(),y(([,l])=>l.ranges)),e),{getState:s,restoreStateFrom:i}},q(Ct,lt,ce,Ht));function bo(t){return{offset:t.scrollTop,index:0,align:"start"}}const Ho=W(([t,e,n,o,r,s,i,l,u,d])=>({...t,...e,...n,...o,...r,...s,...i,...l,...u,...d}),q(Ee,So,Ht,xn,wn,vo,Co,vn,yo,bt)),Oo=W(([{totalCount:t,sizeRanges:e,fixedItemSize:n,defaultItemSize:o,trackItemSizes:r,itemSize:s,data:i,firstItemIndex:l,groupIndices:u,statefulTotalCount:d,gap:a,sizes:h},{initialTopMostItemIndex:w,scrolledToInitialItem:C},R,f,I,{listState:m,topItemsIndexes:p,...T},{scrollToIndex:b},c,{topItemCount:x},{groupCounts:v},_])=>(H(T.rangeChanged,_.scrollSeekRangeChanged),H(g(_.windowViewportRect,y(B=>B.visibleHeight)),R.viewportHeight),{totalCount:t,data:i,firstItemIndex:l,sizeRanges:e,initialTopMostItemIndex:w,scrolledToInitialItem:C,topItemsIndexes:p,topItemCount:x,groupCounts:v,fixedItemHeight:n,defaultItemHeight:o,gap:a,...I,statefulTotalCount:d,listState:m,scrollToIndex:b,trackItemSizes:r,itemSize:s,groupIndices:u,...T,..._,...R,sizes:h,...f}),q(Ct,ce,lt,Ro,ho,kt,Ut,To,xo,In,Ho)),de="-webkit-sticky",$e="sticky",Cn=Tn(()=>{if(typeof document>"u")return $e;const t=document.createElement("div");return t.style.position=de,t.style.position===de?de:$e});function En(t,e){const n=S.useRef(null),o=S.useCallback(l=>{if(l===null||!l.offsetParent)return;const u=l.getBoundingClientRect(),d=u.width;let a,h;if(e){const w=e.getBoundingClientRect(),C=u.top-w.top;a=w.height-Math.max(0,C),h=C+e.scrollTop}else a=window.innerHeight-Math.max(0,u.top),h=u.top+window.pageYOffset;n.current={offsetTop:h,visibleHeight:a,visibleWidth:d},t(n.current)},[t,e]),{callbackRef:r,ref:s}=Te(o),i=S.useCallback(()=>{o(s.current)},[o,s]);return S.useEffect(()=>{if(e){e.addEventListener("scroll",i);const l=new ResizeObserver(i);return l.observe(e),()=>{e.removeEventListener("scroll",i),l.unobserve(e)}}else return window.addEventListener("scroll",i),window.addEventListener("resize",i),()=>{window.removeEventListener("scroll",i),window.removeEventListener("resize",i)}},[i,e]),r}const yn=S.createContext(void 0),Rn=S.createContext(void 0);function bn(t){return t}const Bo=W(()=>{const t=E(u=>`Item ${u}`),e=E(null),n=E(u=>`Group ${u}`),o=E({}),r=E(bn),s=E("div"),i=E(Pt),l=(u,d=null)=>it(g(o,y(a=>a[u]),K()),d);return{context:e,itemContent:t,groupContent:n,components:o,computeItemKey:r,headerFooterTag:s,scrollerRef:i,FooterComponent:l("Footer"),HeaderComponent:l("Header"),TopItemListComponent:l("TopItemList"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),GroupComponent:l("Group","div"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder")}}),zo=W(([t,e])=>({...t,...e}),q(Oo,Bo)),Lo=({height:t})=>S.createElement("div",{style:{height:t}}),ko={position:Cn(),zIndex:1,overflowAnchor:"none"},_o={overflowAnchor:"none"},Ue=S.memo(function({showTopList:e=!1}){const n=A("listState"),o=St("sizeRanges"),r=A("useWindowScroll"),s=A("customScrollParent"),i=St("windowScrollContainerState"),l=St("scrollContainerState"),u=s||r?i:l,d=A("itemContent"),a=A("context"),h=A("groupContent"),w=A("trackItemSizes"),C=A("itemSize"),R=A("log"),f=St("gap"),{callbackRef:I}=jn(o,C,w,e?Pt:u,R,f,s),[m,p]=S.useState(0);ye("deviation",L=>{m!==L&&p(L)});const T=A("EmptyPlaceholder"),b=A("ScrollSeekPlaceholder")||Lo,c=A("ListComponent"),x=A("ItemComponent"),v=A("GroupComponent"),_=A("computeItemKey"),B=A("isSeeking"),k=A("groupIndices").length>0,z=A("paddingTopAddition"),D=A("scrolledToInitialItem"),N=e?{}:{boxSizing:"border-box",paddingTop:n.offsetTop+z,paddingBottom:n.offsetBottom,marginTop:m,...D?{}:{visibility:"hidden"}};return!e&&n.totalCount===0&&T?S.createElement(T,at(T,a)):S.createElement(c,{...at(c,a),ref:I,style:N,"data-test-id":e?"virtuoso-top-item-list":"virtuoso-item-list"},(e?n.topItems:n.items).map(L=>{const P=L.originalIndex,Z=_(P+n.firstItemIndex,L.data,a);return B?S.createElement(b,{...at(b,a),key:Z,index:L.index,height:L.size,type:L.type||"item",...L.type==="group"?{}:{groupIndex:L.groupIndex}}):L.type==="group"?S.createElement(v,{...at(v,a),key:Z,"data-index":P,"data-known-size":L.size,"data-item-index":L.index,style:ko},h(L.index,a)):S.createElement(x,{...at(x,a),key:Z,"data-index":P,"data-known-size":L.size,"data-item-index":L.index,"data-item-group-index":L.groupIndex,item:L.data,style:_o},k?d(L.index,L.groupIndex,L.data,a):d(L.index,L.data,a))}))}),Vo={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},ue={width:"100%",height:"100%",position:"absolute",top:0},Po={width:"100%",position:Cn(),top:0,zIndex:1};function at(t,e){if(typeof t!="string")return{context:e}}const Go=S.memo(function(){const e=A("HeaderComponent"),n=St("headerHeight"),o=A("headerFooterTag"),r=Lt(i=>n(yt(i,"height"))),s=A("context");return e?S.createElement(o,{ref:r},S.createElement(e,at(e,s))):null}),Mo=S.memo(function(){const e=A("FooterComponent"),n=St("footerHeight"),o=A("headerFooterTag"),r=Lt(i=>n(yt(i,"height"))),s=A("context");return e?S.createElement(o,{ref:r},S.createElement(e,at(e,s))):null});function Hn({usePublisher:t,useEmitter:e,useEmitterValue:n}){return S.memo(function({style:s,children:i,...l}){const u=t("scrollContainerState"),d=n("ScrollerComponent"),a=t("smoothScrollTargetReached"),h=n("scrollerRef"),w=n("context"),{scrollerRef:C,scrollByCallback:R,scrollToCallback:f}=sn(u,a,d,h);return e("scrollTo",f),e("scrollBy",R),S.createElement(d,{ref:C,style:{...Vo,...s},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...l,...at(d,w)},i)})}function On({usePublisher:t,useEmitter:e,useEmitterValue:n}){return S.memo(function({style:s,children:i,...l}){const u=t("windowScrollContainerState"),d=n("ScrollerComponent"),a=t("smoothScrollTargetReached"),h=n("totalListHeight"),w=n("deviation"),C=n("customScrollParent"),R=n("context"),{scrollerRef:f,scrollByCallback:I,scrollToCallback:m}=sn(u,a,d,Pt,C);return Wn(()=>(f.current=C||window,()=>{f.current=null}),[f,C]),e("windowScrollTo",m),e("scrollBy",I),S.createElement(d,{style:{position:"relative",...s,...h!==0?{height:h+w}:{}},"data-virtuoso-scroller":!0,...l,...at(d,R)},i)})}const Ao=({children:t})=>{const e=S.useContext(yn),n=St("viewportHeight"),o=St("fixedItemHeight"),r=Lt(tn(n,s=>yt(s,"height")));return S.useEffect(()=>{e&&(n(e.viewportHeight),o(e.itemHeight))},[e,n,o]),S.createElement("div",{style:ue,ref:r,"data-viewport-type":"element"},t)},Fo=({children:t})=>{const e=S.useContext(yn),n=St("windowViewportRect"),o=St("fixedItemHeight"),r=A("customScrollParent"),s=En(n,r);return S.useEffect(()=>{e&&(o(e.itemHeight),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,n,o]),S.createElement("div",{ref:s,style:ue,"data-viewport-type":"window"},t)},No=({children:t})=>{const e=A("TopItemListComponent"),n=A("headerHeight"),o={...Po,marginTop:`${n}px`},r=A("context");return S.createElement(e||"div",{style:o,context:r},t)},Do=S.memo(function(e){const n=A("useWindowScroll"),o=A("topItemsIndexes").length>0,r=A("customScrollParent"),s=r||n?Uo:$o,i=r||n?Fo:Ao;return S.createElement(s,{...e},o&&S.createElement(No,null,S.createElement(Ue,{showTopList:!0})),S.createElement(i,null,S.createElement(Go,null),S.createElement(Ue,null),S.createElement(Mo,null)))}),{Component:Wo,usePublisher:St,useEmitterValue:A,useEmitter:ye}=on(zo,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Do),$o=Hn({usePublisher:St,useEmitterValue:A,useEmitter:ye}),Uo=On({usePublisher:St,useEmitterValue:A,useEmitter:ye}),jo=Wo,je={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Ko={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:Ke,ceil:qe,floor:ne,min:me,max:Mt}=Math;function qo(t){return{...Ko,items:t}}function pe(t,e,n){return Array.from({length:e-t+1}).map((o,r)=>({index:r+t,data:n==null?void 0:n[r+t]}))}function Yo(t,e){return t&&t.column===e.column&&t.row===e.row}function Ye(t,e){return t&&t.width===e.width&&t.height===e.height}const Zo=W(([{overscan:t,visibleRange:e,listBoundary:n},{scrollTop:o,viewportHeight:r,scrollBy:s,scrollTo:i,smoothScrollTargetReached:l,scrollContainerState:u,footerHeight:d,headerHeight:a},h,w,{propsReady:C,didMount:R},{windowViewportRect:f,windowScrollTo:I,useWindowScroll:m,customScrollParent:p,windowScrollContainerState:T},b])=>{const c=E(0),x=E(0),v=E(je),_=E({height:0,width:0}),B=E({height:0,width:0}),k=F(),z=F(),D=E(0),N=E(void 0),L=E({row:0,column:0});H(g(R,M(x,N),V(([O,Q])=>O&&Q!==0),y(([,O,Q])=>({items:pe(0,O-1,Q),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}))),v),H(g(nt(G(c),e,G(L,Yo),G(B,Ye),G(_,Ye),N),y(([O,[Q,tt],ct,ut,ot,rt])=>{const{row:et,column:gt}=ct,{height:st,width:Y}=ut,{width:Re}=ot;if(O===0||Re===0)return je;if(Y===0)return qo(pe(0,0,rt));const Kt=Bn(Re,Y,gt);let ae=Kt*ne((Q+et)/(st+et)),qt=Kt*qe((tt+et)/(st+et))-1;qt=me(O-1,Mt(qt,Kt-1)),ae=me(qt,Mt(0,ae));const be=pe(ae,qt,rt),{top:He,bottom:Oe}=Ze(ot,ct,ut,be),Be=qe(O/Kt),Ln=Be*st+(Be-1)*et-Oe;return{items:be,offsetTop:He,offsetBottom:Ln,top:He,bottom:Oe,itemHeight:st,itemWidth:Y}})),v),H(g(N,V(se),y(O=>O.length)),c),H(g(_,y(({height:O})=>O)),r),H(g(nt(_,B,v,L),y(([O,Q,{items:tt},ct])=>{const{top:ut,bottom:ot}=Ze(O,ct,Q,tt);return[ut,ot]}),K($t)),n);const P=E(!1);H(g(o,M(P),y(([O,Q])=>Q||O!==0)),P);const Z=dt(g(G(v),V(({items:O})=>O.length>0),M(c,P),V(([{items:O},Q,tt])=>tt&&O[O.length-1].index===Q-1),y(([,O])=>O-1),K())),Tt=dt(g(G(v),V(({items:O})=>O.length>0&&O[0].index===0),Et(0),K())),pt=dt(g(G(v),V(({items:O})=>O.length>0),y(({items:O})=>({startIndex:O[0].index,endIndex:O[O.length-1].index})),K(Sn)));H(pt,w.scrollSeekRangeChanged),H(g(k,M(_,B,c,L),y(([O,Q,tt,ct,ut])=>{const ot=hn(O),{align:rt,behavior:et,offset:gt}=ot;let st=ot.index;st==="LAST"&&(st=ct-1),st=Mt(0,st,me(ct-1,st));let Y=xe(Q,ut,tt,st);return rt==="end"?Y=Ke(Y-Q.height+tt.height):rt==="center"&&(Y=Ke(Y-Q.height/2+tt.height/2)),gt&&(Y+=gt),{top:Y,behavior:et}})),i);const ht=it(g(v,y(O=>O.offsetBottom+O.bottom)),0);return H(g(f,y(O=>({width:O.visibleWidth,height:O.visibleHeight}))),_),{data:N,totalCount:c,viewportDimensions:_,itemDimensions:B,scrollTop:o,scrollHeight:z,overscan:t,scrollBy:s,scrollTo:i,scrollToIndex:k,smoothScrollTargetReached:l,windowViewportRect:f,windowScrollTo:I,useWindowScroll:m,customScrollParent:p,windowScrollContainerState:T,deviation:D,scrollContainerState:u,footerHeight:d,headerHeight:a,initialItemCount:x,gap:L,...w,gridState:v,totalListHeight:ht,...h,startReached:Tt,endReached:Z,rangeChanged:pt,propsReady:C,...b}},q(Ee,lt,jt,xn,Ht,vn,bt));function Ze(t,e,n,o){const{height:r}=n;if(r===void 0||o.length===0)return{top:0,bottom:0};const s=xe(t,e,n,o[0].index),i=xe(t,e,n,o[o.length-1].index)+r;return{top:s,bottom:i}}function xe(t,e,n,o){const r=Bn(t.width,n.width,e.column),s=ne(o/r),i=s*n.height+Mt(0,s-1)*e.row;return i>0?i+e.row:i}function Bn(t,e,n){return Mt(1,ne((t+n)/(ne(e)+n)))}const Jo=W(()=>{const t=E(d=>`Item ${d}`),e=E({}),n=E(null),o=E("virtuoso-grid-item"),r=E("virtuoso-grid-list"),s=E(bn),i=E("div"),l=E(Pt),u=(d,a=null)=>it(g(e,y(h=>h[d]),K()),a);return{context:n,itemContent:t,components:e,computeItemKey:s,itemClassName:o,listClassName:r,headerFooterTag:i,scrollerRef:l,FooterComponent:u("Footer"),HeaderComponent:u("Header"),ListComponent:u("List","div"),ItemComponent:u("Item","div"),ScrollerComponent:u("Scroller","div"),ScrollSeekPlaceholder:u("ScrollSeekPlaceholder","div")}}),Qo=W(([t,e])=>({...t,...e}),q(Zo,Jo)),Xo=S.memo(function(){const e=J("gridState"),n=J("listClassName"),o=J("itemClassName"),r=J("itemContent"),s=J("computeItemKey"),i=J("isSeeking"),l=xt("scrollHeight"),u=J("ItemComponent"),d=J("ListComponent"),a=J("ScrollSeekPlaceholder"),h=J("context"),w=xt("itemDimensions"),C=xt("gap"),R=J("log"),f=Lt(I=>{const m=I.parentElement.parentElement.scrollHeight;l(m);const p=I.firstChild;p&&w(p.getBoundingClientRect()),C({row:Je("row-gap",getComputedStyle(I).rowGap,R),column:Je("column-gap",getComputedStyle(I).columnGap,R)})});return S.createElement(d,{ref:f,className:n,...at(d,h),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-test-id":"virtuoso-item-list"},e.items.map(I=>{const m=s(I.index,I.data,h);return i?S.createElement(a,{key:m,...at(a,h),index:I.index,height:e.itemHeight,width:e.itemWidth}):S.createElement(u,{...at(u,h),className:o,"data-index":I.index,key:m},r(I.index,I.data,h))}))}),tr=S.memo(function(){const e=J("HeaderComponent"),n=xt("headerHeight"),o=J("headerFooterTag"),r=Lt(i=>n(yt(i,"height"))),s=J("context");return e?S.createElement(o,{ref:r},S.createElement(e,at(e,s))):null}),er=S.memo(function(){const e=J("FooterComponent"),n=xt("footerHeight"),o=J("headerFooterTag"),r=Lt(i=>n(yt(i,"height"))),s=J("context");return e?S.createElement(o,{ref:r},S.createElement(e,at(e,s))):null}),nr=({children:t})=>{const e=S.useContext(Rn),n=xt("itemDimensions"),o=xt("viewportDimensions"),r=Lt(s=>{o(s.getBoundingClientRect())});return S.useEffect(()=>{e&&(o({height:e.viewportHeight,width:e.viewportWidth}),n({height:e.itemHeight,width:e.itemWidth}))},[e,o,n]),S.createElement("div",{style:ue,ref:r},t)},or=({children:t})=>{const e=S.useContext(Rn),n=xt("windowViewportRect"),o=xt("itemDimensions"),r=J("customScrollParent"),s=En(n,r);return S.useEffect(()=>{e&&(o({height:e.itemHeight,width:e.itemWidth}),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,n,o]),S.createElement("div",{ref:s,style:ue},t)},rr=S.memo(function({...e}){const n=J("useWindowScroll"),o=J("customScrollParent"),r=o||n?ir:sr,s=o||n?or:nr;return S.createElement(r,{...e},S.createElement(s,null,S.createElement(tr,null),S.createElement(Xo,null),S.createElement(er,null)))}),{Component:fr,usePublisher:xt,useEmitterValue:J,useEmitter:zn}=on(Qo,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},rr),sr=Hn({usePublisher:xt,useEmitterValue:J,useEmitter:zn}),ir=On({usePublisher:xt,useEmitterValue:J,useEmitter:zn});function Je(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,mt.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}const Qe=Yt.memo(({count:t,Component:e,handle:n})=>{const o=Yt.useRef(null);return Yt.useImperativeHandle(n,()=>({scrollToIndex:r=>{var s;(s=o.current)==null||s.scrollToIndex(r)}})),ze(jo,{ref:o,totalCount:t,itemContent:Yt.useMemo(()=>r=>ze(e,{index:r},r),[])})});try{Qe.displayName="ReactVirtuosoList",Qe.__docgenInfo={description:"",displayName:"ReactVirtuosoList",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},Component:{defaultValue:null,description:"",name:"Component",required:!0,type:{name:"ForwardRefExoticComponent<{ index: number; } & RefAttributes<HTMLDivElement>>"}},handle:{defaultValue:null,description:"",name:"handle",required:!1,type:{name:"Ref<ListHandle>"}}}}}catch(t){}export{Qe as R};
//# sourceMappingURL=react-virtuoso-4b74da66.js.map
