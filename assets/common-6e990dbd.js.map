{"version":3,"file":"common-6e990dbd.js","sources":["../../stories/for benchmark/components/common.tsx"],"sourcesContent":["import React, { forwardRef, useEffect, useRef } from \"react\";\n\nexport const ScrollInput = ({ count }: { count: number }) => {\n  return (\n    <input\n      type=\"range\"\n      defaultValue=\"0\"\n      min={0}\n      max={count}\n      style={{ width: \"85%\" }}\n      onChange={(e) => {\n        const scrollables = Array.from(\n          document.querySelectorAll('*[style*=\"overflow\"]')\n        ).filter(\n          (d) =>\n            /(auto|scroll)/.test((d as HTMLElement).style.overflow) ||\n            /(auto|scroll)/.test((d as HTMLElement).style.overflowY)\n        );\n        scrollables.forEach((el) => {\n          el.scrollTop = (el.scrollHeight / count) * Number(e.target.value);\n        });\n      }}\n    />\n  );\n};\n\nexport type ListHandle = { scrollToIndex: (index: number) => void };\n\nexport type TestComponent = typeof SimpleItem;\n\nexport const SimpleItem = forwardRef<HTMLDivElement, { index: number }>(\n  ({ index: i }, ref) => {\n    return (\n      <div\n        ref={ref}\n        style={{\n          height: 50,\n          borderBottom: \"solid 1px #ccc\",\n          background: \"#fff\",\n        }}\n      >\n        {i}\n      </div>\n    );\n  }\n);\n\nconst heights = [20, 40, 80, 77, 32, 200];\nexport const DynamicItem = forwardRef<HTMLDivElement, { index: number }>(\n  ({ index: i }, ref) => {\n    return (\n      <div\n        ref={ref}\n        style={{\n          height: heights[i % heights.length],\n          borderBottom: \"solid 1px #ccc\",\n          background: \"#fff\",\n        }}\n      >\n        {i}\n      </div>\n    );\n  }\n);\n\nexport const HeavyItem = forwardRef<HTMLDivElement, { index: number }>(\n  ({ index: i }, ref) => {\n    let count = 0;\n    while (count <= 10000000) {\n      count++;\n    }\n    return (\n      <div\n        ref={ref}\n        style={{\n          height: 50,\n          borderBottom: \"solid 1px #ccc\",\n          background: \"#fff\",\n        }}\n      >\n        {i}\n      </div>\n    );\n  }\n);\n\nexport const ItemWithRenderCount = forwardRef<\n  HTMLDivElement,\n  { index: number }\n>(({ index: i }, ref) => {\n  const count = useRef(1);\n  useEffect(() => {\n    count.current += 1;\n  });\n  return (\n    <div\n      ref={ref}\n      style={{\n        height: 50,\n        borderBottom: \"solid 1px #ccc\",\n        background: \"#fff\",\n        display: \"flex\",\n        justifyContent: \"stretch\",\n        padding: \"4px 20px\",\n      }}\n    >\n      <div style={{ flex: 1 }}>{i}</div>\n      <div>rendered: {count.current}</div>\n    </div>\n  );\n});\n"],"names":["ScrollInput","count","jsx","e","d","el","SimpleItem","forwardRef","i","ref","heights","DynamicItem","HeavyItem","ItemWithRenderCount","useRef","useEffect","jsxs"],"mappings":"6FAEO,MAAAA,EAAA,CAAA,CAAA,MAAAC,KACLC,EACE,QAAC,CAAA,KAAA,QACM,aAAA,IACQ,IAAA,EACR,IAAAD,EACA,MAAA,CAAA,MAAA,KAAA,EACiB,SAAAE,GAAA,CAEpB,MAAA,KAA0B,SAAA,iBAAA,sBAAA,CACwB,EAAA,OAChDC,GAAA,gBAAA,KAAAA,EAAA,MAAA,QAAA,GAAA,gBAAA,KAAAA,EAAA,MAAA,SAAA,CAGyD,EAE3D,QAAAC,GAAA,CACEA,EAAA,UAAAA,EAAA,aAAAJ,EAAA,OAAAE,EAAA,OAAA,KAAA,CAAgE,CAAA,CACjE,CACH,CAAA,EASCG,EAAAC,EAAA,WAAmB,CAAA,CAAA,MAAAC,CAAA,EAAAC,IAEtBP,EACE,MAAC,CAAA,IAAAO,EACC,MAAA,CACO,OAAA,GACG,aAAA,iBACM,WAAA,MACF,EACd,SAAAD,CAEC,CAAA,CAIT,EAEAE,EAAA,CAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,EACOC,EAAAJ,EAAA,WAAoB,CAAA,CAAA,MAAAC,CAAA,EAAAC,IAEvBP,EACE,MAAC,CAAA,IAAAO,EACC,MAAA,CACO,OAAAC,EAAAF,EAAAE,EAAA,MAAA,EAC6B,aAAA,iBACpB,WAAA,MACF,EACd,SAAAF,CAEC,CAAA,CAIT,EAEOI,EAAAL,EAAA,WAAkB,CAAA,CAAA,MAAAC,CAAA,EAAAC,IAMrBP,EACE,MAAC,CAAA,IAAAO,EACC,MAAA,CACO,OAAA,GACG,aAAA,iBACM,WAAA,MACF,EACd,SAAAD,CAEC,CAAA,CAIT,EAEOK,EAAAN,EAAA,WAAA,CAAA,CAAA,MAAAC,CAAA,EAAAC,IAAA,CAIL,MAAAR,EAAAa,SAAA,CAAA,EACAC,OAAAA,EAAAA,UAAA,IAAA,CACEd,EAAA,SAAA,CAAiB,CAAA,EAEnBe,EACE,MAAC,CAAA,IAAAP,EACC,MAAA,CACO,OAAA,GACG,aAAA,iBACM,WAAA,OACF,QAAA,OACH,eAAA,UACO,QAAA,UACP,EACX,SAAA,CAEAP,EAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,EAAA,SAAAM,EAAA,EAA4BQ,EAAA,MAAA,CAAA,SAAA,CACvB,aAAAf,EAAA,OAAiB,EAAA,CAAQ,CAAA,CAAA,CAGpC,CAAA"}