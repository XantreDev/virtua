import{a as q}from"./jsx-runtime-sgeEVxPu.js";import{r as g}from"./index-yp3VsGQP.js";import{r as ge}from"./index-8dy-jdxy.js";const X=Math.min,A=Math.max,te=Math.abs,re=Date.now,ye=Object.values,be=Array.isArray,Q=setTimeout,j=(e,n,t)=>X(t,A(n,e)),G=e=>e!=null,we=(e,n)=>{let t;const r=()=>{G(t)&&clearTimeout(t)},s=()=>{r(),t=Q(()=>{t=null,e()},n)};return s.t=r,s},F=e=>{let n,t;return(...r)=>(n||(n=!0,t=e(...r)),t)},ce=e=>getComputedStyle(e),Le=e=>e?parseFloat(e):0,N=-1,Y=(e,n)=>{const t=e.o[n];return t===N?e.i:t},ee=(e,n)=>{if(!e.l)return 0;if(e.h>=n)return e.u[n];let t=e.h,r=e.u[t];for(;t<n;)r+=Y(e,t),e.u[++t]=r;return e.h=n,r},ne=(e,n,t)=>{let r=ee(e,t);for(;t>=0&&t<e.l;)if(r<=n){const s=Y(e,t);if(r+s>n)break;r+=s,t++}else r-=Y(e,--t);return j(t,0,e.l-1)},oe=(e,n,t,r)=>{const s=ne(e,n,X(t,e.l-1));return[s,ne(e,n+r,s)]},ue=(e,n,t)=>{const r=t?"unshift":"push";for(let s=e.l;s<n;s++)e.o[r](N),e.u.push(s===0?0:N);e.l=n},se=(e,n,t)=>{const r=n-e.l,s=r<0;let i;return s?(i=(t?e.o.splice(0,-r):e.o.splice(r)).reduce((l,c)=>l+(c===N?e.i:c),0),e.u.splice(r)):(i=e.i*r,ue(e,e.l+r,t)),e.h=t?0:j(n-1,0,e.h),e.l=n,[i,s]},ae=typeof window<"u",de=()=>document.documentElement,Re=F(e=>{const n="scrollLeft",t=e[n];e[n]=1;const r=e[n]<1;return e[n]=t,r}),fe=F(()=>!!ae&&ce(de()).direction==="rtl"),he=F(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),ke=F(()=>"scrollBehavior"in de().style),Ee=(e,n,t)=>A(e-(t===pe?1:A(1,n)),0),Se=(e,n,t,r)=>X(e+(t===me?1:A(1,n)),r-1),Z=(e,n,t)=>n.reduce((r,[s,i])=>{const l=i-Y(e,s);return(!t||l>0)&&(r+=l),r},0),pe=1,me=2,Te=(e,n=40,t=0,r=((i,l)=>{const c={i:l,l:0,h:0,o:[],u:[]};return ue(c,i),c})(e,n),s)=>{let i=[],l=n*A(t-1,0),c=0,y=0,o=0,a=0,h=0,m=0,f=0,b=0,S=!1,H=!1,k=null,M=[0,t];const z=new Set,d=()=>(p=>p.l?ee(p,p.l-1)+Y(p,p.l-1):0)(r),P=()=>l-c-y,C=()=>d()-P(),$=p=>{he()&&b!==0?m+=p:(h+=p,a++)};return{_:()=>i,g:()=>JSON.parse(JSON.stringify(r)),p:()=>k?[X(M[0],k[0]),A(M[1],k[1])]:f?M:M=oe(r,o+m+h,M[0],l),m:p=>r.o[p]===N,v:()=>!!k&&r.o.slice(A(0,k[0]-1),X(r.l-1,k[1]+1)+1).includes(N),S:p=>ee(r,p)-m,I:p=>Y(r,p),R:()=>r.l,k:()=>o,O:C,C:()=>b,T:()=>l,M:()=>c,H:()=>A(d(),P()),J:d,W:()=>a,B:()=>P()>d()?h=0:(f=h,h=0,f),L(p,w){const O=[p,w];return z.add(O),()=>{z.delete(O)}},$(p,w){let O,B,x=0;switch(p){case 1:{const v=w.filter(([I,u])=>r.o[I]!==u),T=S;if(S=!1,!v.length)break;let E=0;if(o!==0)if(o>C()-1.5)E=Z(r,v,!0);else if(T)E=Z(r,v);else{const[I]=M;E=Z(r,v.filter(([u])=>u<I))}E&&$(E);let D=!1;v.forEach(([I,u])=>{((L,R,_)=>{const J=L.o[R]===N;return L.o[R]=_,L.h=X(R,L.h),J})(r,I,u)&&(D=!0)}),s&&D&&!o&&(I=>{const u=I.o.filter(R=>R!==N),L=u[0];I.i=u.every(R=>R===L)?L:(R=>{const _=[...R].sort((K,U)=>K-U),J=R.length/2|0;return _.length%2==0?(_[J-1]+_[J])/2:_[J]})(u)})(r),x=2,B=!0;break}case 2:{const v=w[0]+w[1]+w[2];l!==v&&(l=v,c=w[1],y=w[2],x=2);break}case 3:if(w[1]){const v=C()-o,[T,E]=se(r,w[0],!0);$(E?-X(T,v):T),S=!E,x=1}else se(r,w[0]);break;case 4:{const v=j(w,0,C()),T=f;if(f=0,v===o)break;const E=v-o,D=te(E);T&&D<te(T)+1||H||(b=E<0?me:pe),B=D>l,o=v,x=5;break}case 5:x=8,b!==0&&(O=!0,x+=1),b=0,H=!1,k=null;break;case 6:H=!0;break;case 7:k=oe(r,w,M[0],l),x=1}x&&(i=[],O&&m&&(h+=m,m=0,a++),z.forEach(([v,T])=>{x&v&&T(B)}))}}},W=ae?g.useLayoutEffect:g.useEffect,xe=(e,n,t)=>(()=>{let r=re()-50;return(...s)=>{const i=re();r+50<i&&(r=i,(l=>{if(e.C()!==0&&!l.ctrlKey&&(n?l.deltaX:l.deltaY)){const c=e.k();c>0&&c<e.O()&&t()}})(...s))}})(),Ie=(e,n,t,r)=>Re(e)||r?-t:n.O()-t,_e=(e,n)=>{let t,r,s=!1;const i=n?"scrollLeft":"scrollTop",l=n?"overflowX":"overflowY",c=(o,a)=>n&&fe()?Ie(t,e,o,a):o,y=async(o,a)=>{if(!t)return;r&&r();const h=()=>j(o(),0,e.O()),m=()=>{let f;return[new Promise((b,S)=>{f=b,Q(r=S,150)}),e.L(2,()=>{f&&f()})]};if(a&&ke()){for(;e.$(7,h()),e.v();){const[f,b]=m();try{await f}catch{return}finally{b()}}t.scrollTo({[n?"left":"top"]:c(h()),behavior:"smooth"})}else for(;;){const[f,b]=m();try{t[i]=c(h()),e.$(6),await f}catch{return}finally{b()}}};return{A(o){t=o;let a=!1,h=!1;const m=we(()=>{a?m():(h=!1,e.$(5))},150),f=()=>{h&&(s=!0),e.$(4,c(o[i])),m()},b=xe(e,n,m),S=()=>{a=!0,h=s=!1},H=()=>{a=!1,he()&&(h=!0)};return o.addEventListener("scroll",f),o.addEventListener("wheel",b,{passive:!0}),o.addEventListener("touchstart",S,{passive:!0}),o.addEventListener("touchend",H,{passive:!0}),()=>{o.removeEventListener("scroll",f),o.removeEventListener("wheel",b),o.removeEventListener("touchstart",S),o.removeEventListener("touchend",H),m.t()}},V(o){y(()=>o)},X(o){o+=e.k(),y(()=>o)},Y(o,{align:a,smooth:h}={}){if(o=j(o,0,e.R()-1),a==="nearest"){const m=e.S(o),f=e.k();if(m<f)a="start";else{if(!(m+e.I(o)>f+e.T()))return;a="end"}}y(()=>e.M()+(a==="end"?e.S(o)+e.I(o)-e.T():a==="center"?e.S(o)+(e.I(o)-e.T())/2:e.S(o)),h)},j:o=>{if(t){if(s){s=!1;const a=t.style,h=a[l];a[l]="hidden",Q(()=>{a[l]=h})}t[i]+=c(o,!0)}}}},V="current",Me={},ve=(e,n)=>{if(be(e))for(const t of e)ve(t,n);else G(e)&&typeof e!="boolean"&&n.push(e)},Ce=e=>{const n=g.useRef();return n[V]||(n[V]=e())},le=e=>{const n=g.useRef(e);return W(()=>{n[V]=e},[e]),n},Oe={box:"border-box"},Ve=(e,n)=>{let t;const r=n?"width":"height",s=new WeakMap,i=F(()=>new ResizeObserver(l=>{const c=[];for(const{target:y,contentRect:o}of l)if(y.offsetParent)if(y===t)e.$(2,[o[r],o[n?"left":"top"],Le(ce(t)[n?"paddingRight":"paddingBottom"])]);else{const a=s.get(y);G(a)&&c.push([a,o[r]])}c.length&&e.$(1,c)}));return{D(l){t=l;const c=i();return c.observe(l,Oe),()=>{c.disconnect()}},N(l,c){const y=i();return s.set(l,c),y.observe(l),()=>{s.delete(l),y.unobserve(l)}}}},Ae=g.forwardRef(({children:e,attrs:n,width:t,height:r,scrolling:s},i)=>q("div",{ref:i,...n,children:q("div",{style:g.useMemo(()=>({position:"relative",visibility:"hidden",width:t??"100%",height:r??"100%",pointerEvents:s?"none":"auto"}),[t,r,s]),children:e})})),He=g.memo(({P:e,U:n,F:t,G:r,q:s,K:i,Z:l})=>{const c=g.useRef(null);W(()=>n.N(c[V],t),[t]);const y=g.useMemo(()=>{const o={margin:0,padding:0,position:"absolute",[l?"height":"width"]:"100%",[l?"top":"left"]:0,[l?fe()?"right":"left":"top"]:r,visibility:s?"hidden":"visible"};return l&&(o.display="flex"),o},[r,s]);return q(i,typeof i=="string"?{ref:c,style:y,children:e}:{ref:c,style:y,index:t,children:e})}),$e=e=>g.useReducer(e._,void 0,e._)[1],Ne=(e,n)=>g.useMemo(()=>{if(typeof e=="function")return[e,n||0];const t=(r=>{const s=[];return ve(r,s),s})(e);return[r=>t[r],t.length]},[e,n]),Be=g.forwardRef(({children:e,count:n,overscan:t=4,initialItemSize:r,initialItemCount:s,shift:i,horizontal:l,reverse:c,cache:y,components:{Root:o=Ae,Item:a="div"}=Me,onScroll:h,onScrollStop:m,onRangeChange:f,...b},S)=>{const[H,k]=Ne(e,n),M=le(h),z=le(m),[d,P,C,$]=Ce(()=>{const u=!!l,L=Te(k,r,s,y,!r);return[L,Ve(L,u),_e(L,u),u]});k!==d.R()&&d.$(3,[k,i]);const p=$e(d),[w,O]=d.p(),B=d.C(),x=d.W(),v=d.H(),T=g.useRef(null);W(()=>{const u=T[V],L=d.L(3,U=>{U?ge.flushSync(p):p()}),R=d.L(4,()=>{M[V]&&M[V](d.k())}),_=d.L(8,()=>{z[V]&&z[V]()}),J=P.D(u),K=C.A(u);return()=>{L(),R(),_(),J(),K()}},[]),W(()=>{const u=d.B();u&&C.j(u)},[x]),g.useEffect(()=>{f&&f(w,O)},[w,O]),g.useImperativeHandle(S,()=>({get cache(){return d.g()},get scrollOffset(){return d.k()},get scrollSize(){return d.H()},get viewportSize(){return d.T()},scrollToIndex:C.Y,scrollTo:C.V,scrollBy:C.X}),[]);const E=Ee(w,t,B),D=Se(O,t,B,k),I=[];for(let u=E;u<=D;u++){const L=H(u),R=L.key;let _=d.S(u);c&&(_+=A(0,d.T()-d.J())),I.push(q(He,{U:P,F:u,G:_,q:d.m(u),K:a,P:L,Z:$},G(R)?R:"_"+u))}return q(o,{ref:T,width:$?v:void 0,height:$?void 0:v,scrolling:B!==0,attrs:g.useMemo(()=>({...b,style:{display:$?"inline-block":"block",[$?"overflowX":"overflowY"]:"auto",overflowAnchor:"none",contain:"strict",width:"100%",height:"100%",...b.style}}),ye(b)),children:I})}),ie=g.memo(({count:e,Component:n,handle:t})=>{const r=g.useRef(null);return g.useImperativeHandle(t,()=>({scrollToIndex:s=>{var i;(i=r.current)==null||i.scrollToIndex(s)}})),q(Be,{ref:r,children:Array.from({length:e}).map((s,i)=>q(n,{index:i},i))})});try{ie.displayName="VirtuaList",ie.__docgenInfo={description:"",displayName:"VirtuaList",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},Component:{defaultValue:null,description:"",name:"Component",required:!0,type:{name:"ForwardRefExoticComponent<{ index: number; } & RefAttributes<HTMLDivElement>>"}},handle:{defaultValue:null,description:"",name:"handle",required:!1,type:{name:"Ref<ListHandle>"}}}}}catch{}export{ie as V};
