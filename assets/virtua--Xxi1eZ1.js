import{a as z}from"./jsx-runtime-sgeEVxPu.js";import{r as g}from"./index-yp3VsGQP.js";import{r as ye}from"./index-8dy-jdxy.js";const q=Math.min,O=Math.max,ee=Math.abs,te=Date.now,be=Object.values,we=Array.isArray,Q=setTimeout,j=(e,n,t)=>q(t,O(n,e)),G=e=>e!=null,Le=(e,n)=>{let t;const r=()=>{G(t)&&clearTimeout(t)},s=()=>{r(),t=Q(()=>{t=null,e()},n)};return s.t=r,s},F=e=>{let n,t;return(...r)=>(n||(n=!0,t=e(...r)),t)},ce=e=>getComputedStyle(e),Re=e=>e?parseFloat(e):0,H=-1,J=(e,n)=>{const t=e.o[n];return t===H?e.i:t},Z=(e,n)=>{if(!e.l)return 0;if(e.h>=n)return e.u[n];let t=e.h,r=e.u[t];for(;t<n;)r+=J(e,t),e.u[++t]=r;return e.h=n,r},re=(e,n,t)=>{let r=Z(e,t);for(;t>=0&&t<e.l;)if(r<=n){const s=J(e,t);if(r+s>n)break;r+=s,t++}else r-=J(e,--t);return j(t,0,e.l-1)},ne=(e,n,t,r)=>{const s=re(e,n,q(t,e.l-1));return[s,re(e,n+r,s)]},ue=(e,n,t)=>{const r=t?"unshift":"push";for(let s=e.l;s<n;s++)e.o[r](H),e.u.push(s===0?0:H);e.l=n},oe=(e,n,t)=>{const r=n-e.l,s=r<0;let l;return s?(l=(t?e.o.splice(0,-r):e.o.splice(r)).reduce((i,c)=>i+(c===H?e.i:c),0),e.u.splice(r)):(l=e.i*r,ue(e,e.l+r,t)),e.h=t?0:j(n-1,0,e.h),e.l=n,[l,s]},ae=typeof window<"u",de=()=>document.documentElement,Ee=F(e=>{const n="scrollLeft",t=e[n];e[n]=1;const r=e[n]<1;return e[n]=t,r}),fe=F(()=>!!ae&&ce(de()).direction==="rtl"),he=F(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),ke=F(()=>"scrollBehavior"in de().style),xe=(e,n,t)=>O(e-(t===pe?1:O(1,n)),0),Se=(e,n,t,r)=>q(e+(t===me?1:O(1,n)),r-1),$=(e,n,t)=>n.reduce((r,[s,l])=>{const i=l-J(e,s);return(!t||i>0)&&(r+=i),r},0),pe=1,me=2,Me=(e,n=40,t=0,r=((l,i)=>{const c={i,l:0,h:0,o:[],u:[]};return ue(c,l),c})(e,n),s)=>{let l=n*O(t-1,0),i=0,c=0,a=0,o=0,u=0,m=0,y=0,p=0,w=!1,x=!1,E=null,S=[0,t];const D=new Set,N=()=>(f=>f.l?Z(f,f.l-1)+J(f,f.l-1):0)(r),h=()=>l-i-c,P=()=>N()-h(),V=f=>{he()&&p!==0?m+=f:(u+=f,o++)};return{_:()=>JSON.parse(JSON.stringify(r)),g:()=>E?[q(S[0],E[0]),O(S[1],E[1])]:y?S:S=ne(r,a+m+u,S[0],l),p:f=>r.o[f]===H,m:()=>!!E&&r.o.slice(O(0,E[0]-1),q(r.l-1,E[1]+1)+1).includes(H),v:f=>Z(r,f)-m,S:f=>J(r,f),I:()=>r.l,R:()=>a,k:P,O:()=>p,C:()=>l,T:()=>i,M:()=>O(N(),h()),H:N,J:()=>o,W:()=>h()>N()?u=0:(y=u,u=0,y),B(f,L){const A=[f,L];return D.add(A),()=>{D.delete(A)}},L(f,L){let A,X,k=0;switch(f){case 1:{const b=L.filter(([T,C])=>r.o[T]!==C),M=w;if(w=!1,!b.length)break;let R=0;if(a!==0)if(a>P()-1.5)R=$(r,b,!0);else if(M)R=$(r,b);else{const[T]=S;R=$(r,b.filter(([C])=>C<T))}R&&V(R);let Y=!1;b.forEach(([T,C])=>{((d,v,I)=>{const _=d.o[v]===H;return d.o[v]=I,d.h=q(v,d.h),_})(r,T,C)&&(Y=!0)}),s&&Y&&!a&&(T=>{const C=T.o.filter(v=>v!==H),d=C[0];T.i=C.every(v=>v===d)?d:(v=>{const I=[...v].sort((K,U)=>K-U),_=v.length/2|0;return I.length%2==0?(I[_-1]+I[_])/2:I[_]})(C)})(r),k=2,X=!0;break}case 2:{const b=L[0]+L[1]+L[2];l!==b&&(l=b,i=L[1],c=L[2],k=2);break}case 3:if(L[1]){const b=P()-a,[M,R]=oe(r,L[0],!0);V(R?-q(M,b):M),w=!R,k=1}else oe(r,L[0]);break;case 4:{const b=j(L,0,P()),M=y;if(y=0,b===a)break;const R=b-a,Y=ee(R);M&&Y<ee(M)+1||x||(p=R<0?me:pe),X=Y>l,a=b,k=5;break}case 5:k=8,p!==0&&(A=!0,k+=1),p=0,x=!1,E=null;break;case 6:x=!0;break;case 7:E=ne(r,L,S[0],l),k=1}k&&(A&&m&&(u+=m,m=0,o++),D.forEach(([b,M])=>{k&b&&M(X)}))}}},W=ae?g.useLayoutEffect:g.useEffect,Ce=(e,n,t)=>(()=>{let r=te()-50;return(...s)=>{const l=te();r+50<l&&(r=l,(i=>{if(e.O()!==0&&!i.ctrlKey&&(n?i.deltaX:i.deltaY)){const c=e.R();c>0&&c<e.k()&&t()}})(...s))}})(),Ie=(e,n,t,r)=>Ee(e)||r?-t:n.k()-t,Te=(e,n)=>{let t,r,s=!1;const l=n?"scrollLeft":"scrollTop",i=n?"overflowX":"overflowY",c=(o,u)=>n&&fe()?Ie(t,e,o,u):o,a=async(o,u)=>{if(!t)return;r&&r();const m=()=>j(o(),0,e.k()),y=()=>{let p;return[new Promise((w,x)=>{p=w,Q(r=x,150)}),e.B(2,()=>{p&&p()})]};if(u&&ke()){for(;e.L(7,m()),e.m();){const[p,w]=y();try{await p}catch{return}finally{w()}}t.scrollTo({[n?"left":"top"]:c(m()),behavior:"smooth"})}else for(;;){const[p,w]=y();try{t[l]=c(m()),e.L(6),await p}catch{return}finally{w()}}};return{$(o){t=o;let u=!1,m=!1;const y=Le(()=>{u?y():(m=!1,e.L(5))},150),p=()=>{m&&(s=!0),e.L(4,c(o[l])),y()},w=Ce(e,n,y),x=()=>{u=!0,m=s=!1},E=()=>{u=!1,he()&&(m=!0)};return o.addEventListener("scroll",p),o.addEventListener("wheel",w,{passive:!0}),o.addEventListener("touchstart",x,{passive:!0}),o.addEventListener("touchend",E,{passive:!0}),()=>{o.removeEventListener("scroll",p),o.removeEventListener("wheel",w),o.removeEventListener("touchstart",x),o.removeEventListener("touchend",E),y.t()}},A(o){a(()=>o)},X(o){o+=e.R(),a(()=>o)},Y(o,{align:u,smooth:m}={}){if(o=j(o,0,e.I()-1),u==="nearest"){const y=e.v(o),p=e.R();if(y<p)u="start";else{if(!(y+e.S(o)>p+e.C()))return;u="end"}}a(()=>e.T()+(u==="end"?e.v(o)+e.S(o)-e.C():u==="center"?e.v(o)+(e.S(o)-e.C())/2:e.v(o)),m)},j:o=>{if(t){if(s){s=!1;const u=t.style,m=u[i];u[i]="hidden",Q(()=>{u[i]=m})}t[l]+=c(o,!0)}}}},B="current",_e={},ve=(e,n)=>{if(we(e))for(const t of e)ve(t,n);else G(e)&&typeof e!="boolean"&&n.push(e)},Ae=e=>{const n=g.useRef();return n[B]||(n[B]=e())},se=e=>{const n=g.useRef(e);return W(()=>{n[B]=e},[e]),n},Be={box:"border-box"},Oe=(e,n)=>{let t;const r=n?"width":"height",s=new WeakMap,l=F(()=>new ResizeObserver(i=>{const c=[];for(const{target:a,contentRect:o}of i)if(a.offsetParent)if(a===t)e.L(2,[o[r],o[n?"left":"top"],Re(ce(t)[n?"paddingRight":"paddingBottom"])]);else{const u=s.get(a);G(u)&&c.push([u,o[r]])}c.length&&e.L(1,c)}));return{D(i){t=i;const c=l();return c.observe(i,Be),()=>{c.disconnect()}},N(i,c){const a=l();return s.set(i,c),a.observe(i),()=>{s.delete(i),a.unobserve(i)}}}},Ve=g.forwardRef(({children:e,attrs:n,width:t,height:r,scrolling:s},l)=>z("div",{ref:l,...n,children:z("div",{style:g.useMemo(()=>({position:"relative",visibility:"hidden",width:t??"100%",height:r??"100%",pointerEvents:s?"none":"auto"}),[t,r,s]),children:e})})),He=g.memo(({P:e,U:n,V:t,F:r,G:s,q:l,K:i})=>{const c=g.useRef(null);W(()=>n.N(c[B],t),[t]);const a=g.useMemo(()=>{const o={margin:0,padding:0,position:"absolute",[i?"height":"width"]:"100%",[i?"top":"left"]:0,[i?fe()?"right":"left":"top"]:r,visibility:s?"hidden":"visible"};return i&&(o.display="flex"),o},[r,s]);return z(l,typeof l=="string"?{ref:c,style:a,children:e}:{ref:c,style:a,index:t,children:e})}),le=()=>[],Ne=()=>g.useReducer(le,void 0,le)[1],Pe=(e,n)=>g.useMemo(()=>{if(typeof e=="function")return[e,n||0];const t=(r=>{const s=[];return ve(r,s),s})(e);return[r=>t[r],t.length]},[e,n]),Xe=g.forwardRef(({children:e,count:n,overscan:t=4,initialItemSize:r,initialItemCount:s,shift:l,horizontal:i,reverse:c,cache:a,components:{Root:o=Ve,Item:u="div"}=_e,onScroll:m,onScrollStop:y,onRangeChange:p,...w},x)=>{const[E,S]=Pe(e,n),D=se(m),N=se(y),[h,P,V,f]=Ae(()=>{const d=!!i,v=Me(S,r,s,a,!r);return[v,Oe(v,d),Te(v,d),d]});S!==h.I()&&h.L(3,[S,l]);const L=Ne(),[A,X]=h.g(),k=h.O(),b=h.J(),M=h.M(),R=g.useRef(null);W(()=>{const d=R[B],v=h.B(3,ge=>{ge?ye.flushSync(L):L()}),I=h.B(4,()=>{D[B]&&D[B](h.R())}),_=h.B(8,()=>{N[B]&&N[B]()}),K=P.D(d),U=V.$(d);return()=>{v(),I(),_(),K(),U()}},[]),W(()=>{const d=h.W();d&&V.j(d)},[b]),g.useEffect(()=>{p&&p(A,X)},[A,X]),g.useImperativeHandle(x,()=>({get cache(){return h._()},get scrollOffset(){return h.R()},get scrollSize(){return h.M()},get viewportSize(){return h.C()},scrollToIndex:V.Y,scrollTo:V.A,scrollBy:V.X}),[]);const Y=xe(A,t,k),T=Se(X,t,k,S),C=[];for(let d=Y;d<=T;d++){const v=E(d),I=v.key;let _=h.v(d);c&&(_+=O(0,h.C()-h.H())),C.push(z(He,{U:P,V:d,F:_,G:h.p(d),q:u,P:v,K:f},G(I)?I:"_"+d))}return z(o,{ref:R,width:f?M:void 0,height:f?void 0:M,scrolling:k!==0,attrs:g.useMemo(()=>({...w,style:{display:f?"inline-block":"block",[f?"overflowX":"overflowY"]:"auto",overflowAnchor:"none",contain:"strict",width:"100%",height:"100%",...w.style}}),be(w)),children:C})}),ie=g.memo(({count:e,Component:n,handle:t})=>{const r=g.useRef(null);return g.useImperativeHandle(t,()=>({scrollToIndex:s=>{var l;(l=r.current)==null||l.scrollToIndex(s)}})),z(Xe,{ref:r,children:Array.from({length:e}).map((s,l)=>z(n,{index:l},l))})});try{ie.displayName="VirtuaList",ie.__docgenInfo={description:"",displayName:"VirtuaList",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},Component:{defaultValue:null,description:"",name:"Component",required:!0,type:{name:"ForwardRefExoticComponent<{ index: number; } & RefAttributes<HTMLDivElement>>"}},handle:{defaultValue:null,description:"",name:"handle",required:!1,type:{name:"Ref<ListHandle>"}}}}}catch{}export{ie as V};
