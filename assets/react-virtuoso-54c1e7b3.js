import{j as Be}from"./jsx-runtime-c3d7f245.js";import{R as I,r as qt}from"./index-c6dae603.js";import{R as Bn}from"./index-eb008d06.js";const ne=0,Rt=1,Vt=2,Qe=4;function Xe(t,e){return n=>t(e(n))}function zn(t,e){return e(t)}function tn(t,e){return n=>t(e,n)}function ze(t,e){return()=>t(e)}function oe(t,e){return e(t),t}function K(...t){return t}function Ln(t){t()}function Le(t){return()=>t}function kn(...t){return()=>{t.map(Ln)}}function _t(){}function U(t,e){return t(Rt,e)}function W(t,e){t(ne,e)}function Ie(t){t(Vt)}function gt(t){return t(Qe)}function z(t,e){return U(t,tn(e,ne))}function Ht(t,e){const n=t(Rt,o=>{n(),e(o)});return n}function N(){const t=[];return(e,n)=>{switch(e){case Vt:t.splice(0,t.length);return;case Rt:return t.push(n),()=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)};case ne:t.slice().forEach(o=>{o(n)});return;default:throw new Error(`unrecognized action ${e}`)}}}function E(t){let e=t;const n=N();return(o,r)=>{switch(o){case Rt:r(e);break;case ne:e=r;break;case Qe:return e}return n(o,r)}}function Vn(t){let e,n;const o=()=>e&&e();return function(r,s){switch(r){case Rt:return s?n===s?void 0:(o(),n=s,e=U(t,s),e):(o(),_t);case Vt:o(),n=null;return;default:throw new Error(`unrecognized action ${r}`)}}}function mt(t){return oe(N(),e=>z(t,e))}function st(t,e){return oe(E(e),n=>z(t,n))}function _n(...t){return e=>t.reduceRight(zn,e)}function x(t,...e){const n=_n(...e);return(o,r)=>{switch(o){case Rt:return U(t,n(r));case Vt:Ie(t);return}}}function en(t,e){return t===e}function j(t=en){let e;return n=>o=>{t(e,o)||(e=o,n(o))}}function _(t){return e=>n=>{t(n)&&e(n)}}function R(t){return e=>Xe(e,t)}function Et(t){return e=>()=>e(t)}function Ct(t,e){return n=>o=>n(e=t(e,o))}function Qt(t){return e=>n=>{t>0?t--:e(n)}}function zt(t){let e,n;return o=>r=>{e=r,!n&&(n=setTimeout(()=>{n=void 0,o(e)},t))}}function ke(t){let e,n;return o=>r=>{e=r,n&&clearTimeout(n),n=setTimeout(()=>{o(e)},t)}}function A(...t){const e=new Array(t.length);let n=0,o=null;const r=Math.pow(2,t.length)-1;return t.forEach((s,i)=>{const l=Math.pow(2,i);U(s,u=>{const m=n;n=n|l,e[i]=u,m!==r&&n===r&&o&&(o(),o=null)})}),s=>i=>{const l=()=>s([i].concat(e));n===r?l():o=l}}function Ve(...t){return function(e,n){switch(e){case Rt:return kn(...t.map(o=>U(o,n)));case Vt:return;default:throw new Error(`unrecognized action ${e}`)}}}function P(t,e=en){return x(t,j(e))}function et(...t){const e=N(),n=new Array(t.length);let o=0;const r=Math.pow(2,t.length)-1;return t.forEach((s,i)=>{const l=Math.pow(2,i);U(s,u=>{n[i]=u,o=o|l,o===r&&W(e,n)})}),function(s,i){switch(s){case Rt:return o===r&&i(n),U(e,i);case Vt:return Ie(e);default:throw new Error(`unrecognized action ${s}`)}}}function D(t,e=[],{singleton:n}={singleton:!0}){return{id:Pn(),constructor:t,dependencies:e,singleton:n}}const Pn=()=>Symbol();function Gn(t){const e=new Map,n=({id:o,constructor:r,dependencies:s,singleton:i})=>{if(i&&e.has(o))return e.get(o);const l=r(s.map(u=>n(u)));return i&&e.set(o,l),l};return n(t)}function Mn(t,e){const n={},o={};let r=0;const s=t.length;for(;r<s;)o[t[r]]=1,r+=1;for(const i in e)o.hasOwnProperty(i)||(n[i]=e[i]);return n}const Yt=typeof document<"u"?I.useLayoutEffect:I.useEffect;function nn(t,e,n){const o=Object.keys(e.required||{}),r=Object.keys(e.optional||{}),s=Object.keys(e.methods||{}),i=Object.keys(e.events||{}),l=I.createContext({});function u(f,g){f.propsReady&&W(f.propsReady,!1);for(const d of o){const p=f[e.required[d]];W(p,g[d])}for(const d of r)if(d in g){const p=f[e.optional[d]];W(p,g[d])}f.propsReady&&W(f.propsReady,!0)}function m(f){return s.reduce((g,d)=>(g[d]=p=>{const T=f[e.methods[d]];W(T,p)},g),{})}function a(f){return i.reduce((g,d)=>(g[d]=Vn(f[e.events[d]]),g),{})}return{Component:I.forwardRef((f,g)=>{const{children:d,...p}=f,[T]=I.useState(()=>oe(Gn(t),c=>u(c,p))),[H]=I.useState(ze(a,T));return Yt(()=>{for(const c of i)c in p&&U(H[c],p[c]);return()=>{Object.values(H).map(Ie)}},[p,H,T]),Yt(()=>{u(T,p)}),I.useImperativeHandle(g,Le(m(T))),I.createElement(l.Provider,{value:T},n?I.createElement(n,Mn([...o,...r,...i],p),d):d)}),usePublisher:f=>I.useCallback(tn(W,I.useContext(l)[f]),[f]),useEmitterValue:f=>{const d=I.useContext(l)[f],[p,T]=I.useState(ze(gt,d));return Yt(()=>U(d,H=>{H!==p&&T(Le(H))}),[d,p]),p},useEmitter:(f,g)=>{const p=I.useContext(l)[f];Yt(()=>U(p,g),[g,p])}}}const An=typeof document<"u"?I.useLayoutEffect:I.useEffect,Nn=An;var pt=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(pt||{});const Fn={[0]:"debug",[1]:"log",[2]:"warn",[3]:"error"},Dn=()=>typeof globalThis>"u"?window:globalThis,bt=D(()=>{const t=E(3);return{log:E((n,o,r=1)=>{const s=Dn().VIRTUOSO_LOG_LEVEL??gt(t);r>=s&&console[Fn[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,o)}),logLevel:t}},[],{singleton:!0});function Se(t,e=!0){const n=I.useRef(null);let o=r=>{};if(typeof ResizeObserver<"u"){const r=I.useMemo(()=>new ResizeObserver(s=>{const i=s[0].target;i.offsetParent!==null&&t(i)}),[t]);o=s=>{s&&e?(r.observe(s),n.current=s):(n.current&&r.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function Ot(t,e=!0){return Se(t,e).callbackRef}function Wn(t,e,n,o,r,s,i){const l=I.useCallback(u=>{const m=$n(u.children,e,"offsetHeight",r);let a=u.parentElement;for(;!a.dataset.virtuosoScroller;)a=a.parentElement;const h=a.lastElementChild.dataset.viewportType==="window",w=i?i.scrollTop:h?window.pageYOffset||document.documentElement.scrollTop:a.scrollTop,v=i?i.scrollHeight:h?document.documentElement.scrollHeight:a.scrollHeight,y=i?i.offsetHeight:h?window.innerHeight:a.offsetHeight;o({scrollTop:Math.max(w,0),scrollHeight:v,viewportHeight:y}),s==null||s(Un("row-gap",getComputedStyle(u).rowGap,r)),m!==null&&t(m)},[t,e,r,s,i,o]);return Se(l,n)}function $n(t,e,n,o){const r=t.length;if(r===0)return null;const s=[];for(let i=0;i<r;i++){const l=t.item(i);if(!l||l.dataset.index===void 0)continue;const u=parseInt(l.dataset.index),m=parseFloat(l.dataset.knownSize),a=e(l,n);if(a===0&&o("Zero-sized element, this should not happen",{child:l},pt.ERROR),a===m)continue;const h=s[s.length-1];s.length===0||h.size!==a||h.endIndex!==u-1?s.push({startIndex:u,endIndex:u,size:a}):s[s.length-1].endIndex++}return s}function Un(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,pt.WARN),e==="normal"?0:parseInt(e??"0",10)}function yt(t,e){return Math.round(t.getBoundingClientRect()[e])}function on(t,e){return Math.abs(t-e)<1.01}function rn(t,e,n,o=_t,r){const s=I.useRef(null),i=I.useRef(null),l=I.useRef(null),u=I.useCallback(h=>{const w=h.target,v=w===window||w===document,y=v?window.pageYOffset||document.documentElement.scrollTop:w.scrollTop,f=v?document.documentElement.scrollHeight:w.scrollHeight,g=v?window.innerHeight:w.offsetHeight,d=()=>{t({scrollTop:Math.max(y,0),scrollHeight:f,viewportHeight:g})};h.suppressFlushSync?d():Bn.flushSync(d),i.current!==null&&(y===i.current||y<=0||y===f-g)&&(i.current=null,e(!0),l.current&&(clearTimeout(l.current),l.current=null))},[t,e]);I.useEffect(()=>{const h=r||s.current;return o(r||s.current),u({target:h,suppressFlushSync:!0}),h.addEventListener("scroll",u,{passive:!0}),()=>{o(null),h.removeEventListener("scroll",u)}},[s,u,n,o,r]);function m(h){const w=s.current;if(!w||"offsetHeight"in w&&w.offsetHeight===0)return;const v=h.behavior==="smooth";let y,f,g;w===window?(f=Math.max(yt(document.documentElement,"height"),document.documentElement.scrollHeight),y=window.innerHeight,g=document.documentElement.scrollTop):(f=w.scrollHeight,y=yt(w,"height"),g=w.scrollTop);const d=f-y;if(h.top=Math.ceil(Math.max(Math.min(d,h.top),0)),on(y,f)||h.top===g){t({scrollTop:g,scrollHeight:f,viewportHeight:y}),v&&e(!0);return}v?(i.current=h.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,i.current=null,e(!0)},1e3)):i.current=null,w.scrollTo(h)}function a(h){s.current.scrollBy(h)}return{scrollerRef:s,scrollByCallback:a,scrollToCallback:m}}const ut=D(()=>{const t=N(),e=N(),n=E(0),o=N(),r=E(0),s=N(),i=N(),l=E(0),u=E(0),m=E(0),a=E(0),h=N(),w=N(),v=E(!1);return z(x(t,R(({scrollTop:y})=>y)),e),z(x(t,R(({scrollHeight:y})=>y)),i),z(e,r),{scrollContainerState:t,scrollTop:e,viewportHeight:s,headerHeight:l,fixedHeaderHeight:u,fixedFooterHeight:m,footerHeight:a,scrollHeight:i,smoothScrollTargetReached:o,scrollTo:h,scrollBy:w,statefulScrollTop:r,deviation:n,scrollingInProgress:v}},[],{singleton:!0}),At={lvl:0};function sn(t,e,n,o=At,r=At){return{k:t,v:e,lvl:n,l:o,r}}function $(t){return t===At}function kt(){return At}function de(t,e){if($(t))return At;const{k:n,l:o,r}=t;if(e===n){if($(o))return r;if($(r))return o;{const[s,i]=ln(o);return Zt(Q(t,{k:s,v:i,l:cn(o)}))}}else return e<n?Zt(Q(t,{l:de(o,e)})):Zt(Q(t,{r:de(r,e)}))}function Nt(t,e){if(!$(t))return e===t.k?t.v:e<t.k?Nt(t.l,e):Nt(t.r,e)}function Tt(t,e,n="k"){if($(t))return[-1/0,void 0];if(t[n]===e)return[t.k,t.v];if(t[n]<e){const o=Tt(t.r,e,n);return o[0]===-1/0?[t.k,t.v]:o}return Tt(t.l,e,n)}function dt(t,e,n){return $(t)?sn(e,n,1):e===t.k?Q(t,{k:e,v:n}):e<t.k?_e(Q(t,{l:dt(t.l,e,n)})):_e(Q(t,{r:dt(t.r,e,n)}))}function me(t,e,n){if($(t))return[];const{k:o,v:r,l:s,r:i}=t;let l=[];return o>e&&(l=l.concat(me(s,e,n))),o>=e&&o<=n&&l.push({k:o,v:r}),o<=n&&(l=l.concat(me(i,e,n))),l}function Lt(t){return $(t)?[]:[...Lt(t.l),{k:t.k,v:t.v},...Lt(t.r)]}function ln(t){return $(t.r)?[t.k,t.v]:ln(t.r)}function cn(t){return $(t.r)?t.l:Zt(Q(t,{r:cn(t.r)}))}function Q(t,e){return sn(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function ce(t){return $(t)||t.lvl>t.r.lvl}function _e(t){return pe(an(t))}function Zt(t){const{l:e,r:n,lvl:o}=t;if(n.lvl>=o-1&&e.lvl>=o-1)return t;if(o>n.lvl+1){if(ce(e))return an(Q(t,{lvl:o-1}));if(!$(e)&&!$(e.r))return Q(e.r,{l:Q(e,{r:e.r.l}),r:Q(t,{l:e.r.r,lvl:o-1}),lvl:o});throw new Error("Unexpected empty nodes")}else{if(ce(t))return pe(Q(t,{lvl:o-1}));if(!$(n)&&!$(n.l)){const r=n.l,s=ce(r)?n.lvl-1:n.lvl;return Q(r,{l:Q(t,{r:r.l,lvl:o-1}),r:pe(Q(n,{l:r.r,lvl:s})),lvl:r.lvl+1})}else throw new Error("Unexpected empty nodes")}}function re(t,e,n){if($(t))return[];const o=Tt(t,e)[0];return jn(me(t,o,n))}function un(t,e){const n=t.length;if(n===0)return[];let{index:o,value:r}=e(t[0]);const s=[];for(let i=1;i<n;i++){const{index:l,value:u}=e(t[i]);s.push({start:o,end:l-1,value:r}),o=l,r=u}return s.push({start:o,end:1/0,value:r}),s}function jn(t){return un(t,({k:e,v:n})=>({index:e,value:n}))}function pe(t){const{r:e,lvl:n}=t;return!$(e)&&!$(e.r)&&e.lvl===n&&e.r.lvl===n?Q(e,{l:Q(t,{r:e.l}),lvl:n+1}):t}function an(t){const{l:e}=t;return!$(e)&&e.lvl===t.lvl?Q(e,{r:Q(t,{l:e.r})}):t}function Xt(t,e,n,o=0){let r=t.length-1;for(;o<=r;){const s=Math.floor((o+r)/2),i=t[s],l=n(i,e);if(l===0)return s;if(l===-1){if(r-o<2)return s-1;r=s-1}else{if(r===o)return s;o=s+1}}throw new Error(`Failed binary finding record in array - ${t.join(",")}, searched for ${e}`)}function fn(t,e,n){return t[Xt(t,e,n)]}function Kn(t,e,n,o){const r=Xt(t,e,o),s=Xt(t,n,o,r);return t.slice(r,s+1)}const xe=D(()=>({recalcInProgress:E(!1)}),[],{singleton:!0});function qn(t){const{size:e,startIndex:n,endIndex:o}=t;return r=>r.start===n&&(r.end===o||r.end===1/0)&&r.value===e}function Pe(t,e){let n=0,o=0;for(;n<t;)n+=e[o+1]-e[o]-1,o++;return o-(n===t?0:1)}function Yn(t,e){let n=$(t)?0:1/0;for(const o of e){const{size:r,startIndex:s,endIndex:i}=o;if(n=Math.min(n,s),$(t)){t=dt(t,0,r);continue}const l=re(t,s-1,i+1);if(l.some(qn(o)))continue;let u=!1,m=!1;for(const{start:a,end:h,value:w}of l)u?(i>=a||r===w)&&(t=de(t,a)):(m=w!==r,u=!0),h>i&&i>=a&&w!==r&&(t=dt(t,i+1,w));m&&(t=dt(t,s,r))}return[t,n]}function Zn(){return{offsetTree:[],sizeTree:kt(),groupOffsetTree:kt(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function we({index:t},e){return e===t?0:e<t?-1:1}function Jn({offset:t},e){return e===t?0:e<t?-1:1}function Qn(t){return{index:t.index,value:t}}function Xn(t,e,n,o=0){return o>0&&(e=Math.max(e,fn(t,o,we).offset)),un(Kn(t,e,n,Jn),Qn)}function he(t,e,n,o){let r=t,s=0,i=0,l=0,u=0;if(e!==0){u=Xt(r,e-1,we),l=r[u].offset;const a=Tt(n,e-1);s=a[0],i=a[1],r.length&&r[u].size===Tt(n,e)[1]&&(u-=1),r=r.slice(0,u+1)}else r=[];for(const{start:m,value:a}of re(n,e,1/0)){const h=m-s,w=h*i+l+h*o;r.push({offset:w,size:a,index:m}),s=m,l=w,i=a}return{offsetTree:r,lastIndex:s,lastOffset:l,lastSize:i}}function to(t,[e,n,o,r]){e.length>0&&o("received item sizes",e,pt.DEBUG);const s=t.sizeTree;let i=s,l=0;if(n.length>0&&$(s)&&e.length===2){const w=e[0].size,v=e[1].size;i=n.reduce((y,f)=>dt(dt(y,f,w),f+1,v),i)}else[i,l]=Yn(i,e);if(i===s)return t;const{offsetTree:u,lastIndex:m,lastSize:a,lastOffset:h}=he(t.offsetTree,l,i,r);return{sizeTree:i,offsetTree:u,lastIndex:m,lastOffset:h,lastSize:a,groupOffsetTree:n.reduce((w,v)=>dt(w,v,Ft(v,u,r)),kt()),groupIndices:n}}function Ft(t,e,n){if(e.length===0)return 0;const{offset:o,index:r,size:s}=fn(e,t,we),i=t-r,l=s*i+(i-1)*n+o;return l>0?l+n:l}function eo(t){return typeof t.groupIndex<"u"}function dn(t,e,n){if(eo(t))return e.groupIndices[t.groupIndex]+1;{const o=t.index==="LAST"?n:t.index;let r=mn(o,e);return r=Math.max(0,r,Math.min(n,r)),r}}function mn(t,e){if(!se(e))return t;let n=0;for(;e.groupIndices[n]<=t+n;)n++;return t+n}function se(t){return!$(t.groupOffsetTree)}const no={offsetHeight:"height",offsetWidth:"width"},vt=D(([{log:t},{recalcInProgress:e}])=>{const n=N(),o=N(),r=st(o,0),s=N(),i=N(),l=E(0),u=E([]),m=E(void 0),a=E(void 0),h=E((c,S)=>yt(c,no[S])),w=E(void 0),v=E(0),y=Zn(),f=st(x(n,A(u,t,v),Ct(to,y),j()),y),g=st(x(u,j(),Ct((c,S)=>({prev:c.current,current:S}),{prev:[],current:[]}),R(({prev:c})=>c)),[]);z(x(u,_(c=>c.length>0),A(f,v),R(([c,S,C])=>{const V=c.reduce((B,k,L)=>dt(B,k,Ft(k,S.offsetTree,C)||L),kt());return{...S,groupIndices:c,groupOffsetTree:V}})),f),z(x(o,A(f),_(([c,{lastIndex:S,groupIndices:C}])=>c<S&&C.length===0),R(([c,{lastIndex:S,lastSize:C}])=>[{startIndex:c,endIndex:S,size:C}])),n),z(m,a);const d=st(x(m,R(c=>c===void 0)),!0);z(x(a,_(c=>c!==void 0&&$(gt(f).sizeTree)),R(c=>[{startIndex:0,endIndex:0,size:c}])),n);const p=mt(x(n,A(f),Ct(({sizes:c},[S,C])=>({changed:C!==c,sizes:C}),{changed:!1,sizes:y}),R(c=>c.changed)));U(x(l,Ct((c,S)=>({diff:c.prev-S,prev:S}),{diff:0,prev:0}),R(c=>c.diff)),c=>{const{groupIndices:S}=gt(f);if(c>0)W(e,!0),W(s,c+Pe(c,S));else if(c<0){const C=gt(g);C.length>0&&W(i,c-Pe(-c,C))}}),U(x(l,A(t)),([c,S])=>{c<0&&S("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},pt.ERROR)});const T=mt(s);z(x(s,A(f),R(([c,S])=>{const C=S.groupIndices.length>0,V=[],B=S.lastSize;if(C){const k=Nt(S.sizeTree,0);let L=0,F=0;for(;L<c;){const G=S.groupIndices[F],X=S.groupIndices[F+1]-G-1;V.push({startIndex:G,endIndex:G,size:k}),V.push({startIndex:G+1,endIndex:G+1+X-1,size:B}),F++,L+=X+1}const b=Lt(S.sizeTree);return L!==c&&b.shift(),b.reduce((G,{k:X,v:St})=>{let xt=G.ranges;return G.prevSize!==0&&(xt=[...G.ranges,{startIndex:G.prevIndex,endIndex:X+c-1,size:G.prevSize}]),{ranges:xt,prevIndex:X+c,prevSize:St}},{ranges:V,prevIndex:c,prevSize:0}).ranges}return Lt(S.sizeTree).reduce((k,{k:L,v:F})=>({ranges:[...k.ranges,{startIndex:k.prevIndex,endIndex:L+c-1,size:k.prevSize}],prevIndex:L+c,prevSize:F}),{ranges:[],prevIndex:0,prevSize:B}).ranges})),n);const H=mt(x(i,A(f,v),R(([c,{offsetTree:S},C])=>{const V=-c;return Ft(V,S,C)})));return z(x(i,A(f,v),R(([c,S,C])=>{if(S.groupIndices.length>0){let B=kt();const k=gt(g);let L=0,F=0,b=0;for(;L<-c;){b=k[F];const G=k[F+1]-b-1;F++,L+=G+1}if(B=Lt(S.sizeTree).reduce((G,{k:X,v:St})=>dt(G,Math.max(0,X+c),St),B),L!==-c){const G=Nt(S.sizeTree,b);B=dt(B,0,G);const X=Tt(S.sizeTree,-c+1)[1];B=dt(B,1,X)}return{...S,sizeTree:B,...he(S.offsetTree,0,B,C)}}else{const B=Lt(S.sizeTree).reduce((k,{k:L,v:F})=>dt(k,Math.max(0,L+c),F),kt());return{...S,sizeTree:B,...he(S.offsetTree,0,B,C)}}})),f),{data:w,totalCount:o,sizeRanges:n,groupIndices:u,defaultItemSize:a,fixedItemSize:m,unshiftWith:s,shiftWith:i,shiftWithOffset:H,beforeUnshiftWith:T,firstItemIndex:l,gap:v,sizes:f,listRefresh:p,statefulTotalCount:r,trackItemSizes:d,itemSize:h}},K(bt,xe),{singleton:!0}),oo=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function pn(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!oo)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const $t=D(([{sizes:t,totalCount:e,listRefresh:n,gap:o},{scrollingInProgress:r,viewportHeight:s,scrollTo:i,smoothScrollTargetReached:l,headerHeight:u,footerHeight:m,fixedHeaderHeight:a,fixedFooterHeight:h},{log:w}])=>{const v=N(),y=E(0);let f=null,g=null,d=null;function p(){f&&(f(),f=null),d&&(d(),d=null),g&&(clearTimeout(g),g=null),W(r,!1)}return z(x(v,A(t,s,e,y,u,m,w),A(o,a,h),R(([[T,H,c,S,C,V,B,k],L,F,b])=>{const q=pn(T),{align:G,behavior:X,offset:St}=q,xt=S-1,O=dn(q,H,xt);let Y=Ft(O,H.offsetTree,L)+V;G==="end"?(Y+=F+Tt(H.sizeTree,O)[1]-c+b,O===xt&&(Y+=B)):G==="center"?Y+=(F+Tt(H.sizeTree,O)[1]-c+b)/2:Y-=C,St&&(Y+=St);const ht=nt=>{p(),nt?(k("retrying to scroll to",{location:T},pt.DEBUG),W(v,T)):k("list did not change, scroll successful",{},pt.DEBUG)};if(p(),X==="smooth"){let nt=!1;d=U(n,at=>{nt=nt||at}),f=Ht(l,()=>{ht(nt)})}else f=Ht(x(n,ro(150)),ht);return g=setTimeout(()=>{p()},1200),W(r,!0),k("scrolling from index to",{index:O,top:Y,behavior:X},pt.DEBUG),{top:Y,behavior:X}})),i),{scrollToIndex:v,topListHeight:y}},K(vt,ut,bt),{singleton:!0});function ro(t){return e=>{const n=setTimeout(()=>{e(!1)},t);return o=>{o&&(e(!0),clearTimeout(n))}}}const Dt="up",Gt="down",so="none",io={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},lo=0,Ut=D(([{scrollContainerState:t,scrollTop:e,viewportHeight:n,headerHeight:o,footerHeight:r,scrollBy:s}])=>{const i=E(!1),l=E(!0),u=N(),m=N(),a=E(4),h=E(lo),w=st(x(Ve(x(P(e),Qt(1),Et(!0)),x(P(e),Qt(1),Et(!1),ke(100))),j()),!1),v=st(x(Ve(x(s,Et(!0)),x(s,Et(!1),ke(200))),j()),!1);z(x(et(P(e),P(h)),R(([p,T])=>p<=T),j()),l),z(x(l,zt(50)),m);const y=mt(x(et(t,P(n),P(o),P(r),P(a)),Ct((p,[{scrollTop:T,scrollHeight:H},c,S,C,V])=>{const B=T+c-H>-V,k={viewportHeight:c,scrollTop:T,scrollHeight:H};if(B){let F,b;return T>p.state.scrollTop?(F="SCROLLED_DOWN",b=p.state.scrollTop-T):(F="SIZE_DECREASED",b=p.state.scrollTop-T||p.scrollTopDelta),{atBottom:!0,state:k,atBottomBecause:F,scrollTopDelta:b}}let L;return k.scrollHeight>p.state.scrollHeight?L="SIZE_INCREASED":c<p.state.viewportHeight?L="VIEWPORT_HEIGHT_DECREASING":T<p.state.scrollTop?L="SCROLLING_UPWARDS":L="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:L,state:k}},io),j((p,T)=>p&&p.atBottom===T.atBottom))),f=st(x(t,Ct((p,{scrollTop:T,scrollHeight:H,viewportHeight:c})=>{if(on(p.scrollHeight,H))return{scrollTop:T,scrollHeight:H,jump:0,changed:!1};{const S=H-(T+c)<1;return p.scrollTop!==T&&S?{scrollHeight:H,scrollTop:T,jump:p.scrollTop-T,changed:!0}:{scrollHeight:H,scrollTop:T,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),_(p=>p.changed),R(p=>p.jump)),0);z(x(y,R(p=>p.atBottom)),i),z(x(i,zt(50)),u);const g=E(Gt);z(x(t,R(({scrollTop:p})=>p),j(),Ct((p,T)=>gt(v)?{direction:p.direction,prevScrollTop:T}:{direction:T<p.prevScrollTop?Dt:Gt,prevScrollTop:T},{direction:Gt,prevScrollTop:0}),R(p=>p.direction)),g),z(x(t,zt(50),Et(so)),g);const d=E(0);return z(x(w,_(p=>!p),Et(0)),d),z(x(e,zt(100),A(w),_(([p,T])=>!!T),Ct(([p,T],[H])=>[T,H],[0,0]),R(([p,T])=>T-p)),d),{isScrolling:w,isAtTop:l,isAtBottom:i,atBottomState:y,atTopStateChange:m,atBottomStateChange:u,scrollDirection:g,atBottomThreshold:a,atTopThreshold:h,scrollVelocity:d,lastJumpDueToItemResize:f}},K(ut)),Bt=D(([{log:t}])=>{const e=E(!1),n=mt(x(e,_(o=>o),j()));return U(e,o=>{o&&gt(t)("props updated",{},pt.DEBUG)}),{propsReady:e,didMount:n}},K(bt),{singleton:!0});function co(t,e){const n=e-1;return typeof t=="number"?t:t.index==="LAST"?n:t.index}const Te=D(([{sizes:t,listRefresh:e,defaultItemSize:n},{scrollTop:o},{scrollToIndex:r},{didMount:s}])=>{const i=E(!0),l=E(0);return z(x(s,A(l),_(([u,m])=>!!m),Et(!1)),i),U(x(et(e,s),A(i,t,n),_(([[,u],m,{sizeTree:a},h])=>u&&(!$(a)||h!==void 0)&&!m),A(l)),([,u])=>{setTimeout(()=>{Ht(o,()=>{W(i,!0)}),W(r,u)})}),{scrolledToInitialItem:i,initialTopMostItemIndex:l}},K(vt,ut,$t,Bt),{singleton:!0});function Ge(t){return t?t==="smooth"?"smooth":"auto":!1}const uo=(t,e)=>typeof t=="function"?Ge(t(e)):e&&Ge(t),ao=D(([{totalCount:t,listRefresh:e},{isAtBottom:n,atBottomState:o},{scrollToIndex:r},{scrolledToInitialItem:s},{propsReady:i,didMount:l},{log:u},{scrollingInProgress:m}])=>{const a=E(!1),h=N();let w=null;function v(f){W(r,{index:"LAST",align:"end",behavior:f})}U(x(et(x(P(t),Qt(1)),l),A(P(a),n,s,m),R(([[f,g],d,p,T,H])=>{let c=g&&T,S="auto";return c&&(S=uo(d,p||H),c=c&&!!S),{totalCount:f,shouldFollow:c,followOutputBehavior:S}}),_(({shouldFollow:f})=>f)),({totalCount:f,followOutputBehavior:g})=>{w&&(w(),w=null),w=Ht(e,()=>{gt(u)("following output to ",{totalCount:f},pt.DEBUG),v(g),w=null})});function y(f){const g=Ht(o,d=>{f&&!d.atBottom&&d.notAtBottomBecause==="SIZE_INCREASED"&&!w&&(gt(u)("scrolling to bottom due to increased size",{},pt.DEBUG),v("auto"))});setTimeout(g,100)}return U(x(et(P(a),t,i),_(([f,,g])=>f&&g),Ct(({value:f},[,g])=>({refreshed:f===g,value:g}),{refreshed:!1,value:0}),_(({refreshed:f})=>f),A(a,t)),([,f])=>{y(f!==!1)}),U(h,()=>{y(gt(a)!==!1)}),U(et(P(a),o),([f,g])=>{f&&!g.atBottom&&g.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&v("auto")}),{followOutput:a,autoscrollToBottom:h}},K(vt,Ut,$t,Te,Bt,bt,ut));function fo(t){return t.reduce((e,n)=>(e.groupIndices.push(e.totalCount),e.totalCount+=n+1,e),{totalCount:0,groupIndices:[]})}const hn=D(([{totalCount:t,groupIndices:e,sizes:n},{scrollTop:o,headerHeight:r}])=>{const s=N(),i=N(),l=mt(x(s,R(fo)));return z(x(l,R(u=>u.totalCount)),t),z(x(l,R(u=>u.groupIndices)),e),z(x(et(o,n,r),_(([u,m])=>se(m)),R(([u,m,a])=>Tt(m.groupOffsetTree,Math.max(u-a,0),"v")[0]),j(),R(u=>[u])),i),{groupCounts:s,topItemsIndexes:i}},K(vt,ut));function Wt(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}function gn(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}const te="top",ee="bottom",Me="none";function Ae(t,e,n){return typeof t=="number"?n===Dt&&e===te||n===Gt&&e===ee?t:0:n===Dt?e===te?t.main:t.reverse:e===ee?t.main:t.reverse}function Ne(t,e){return typeof t=="number"?t:t[e]||0}const Ce=D(([{scrollTop:t,viewportHeight:e,deviation:n,headerHeight:o,fixedHeaderHeight:r}])=>{const s=N(),i=E(0),l=E(0),u=E(0),m=st(x(et(P(t),P(e),P(o),P(s,Wt),P(u),P(i),P(r),P(n),P(l)),R(([a,h,w,[v,y],f,g,d,p,T])=>{const H=a-p,c=g+d,S=Math.max(w-H,0);let C=Me;const V=Ne(T,te),B=Ne(T,ee);return v-=p,v+=w+d,y+=w+d,y-=p,v>a+c-V&&(C=Dt),y<a-S+h+B&&(C=Gt),C!==Me?[Math.max(H-w-Ae(f,te,C)-V,0),H-S-d+h+Ae(f,ee,C)+B]:null}),_(a=>a!=null),j(Wt)),[0,0]);return{listBoundary:s,overscan:u,topListHeight:i,increaseViewportBy:l,visibleRange:m}},K(ut),{singleton:!0});function mo(t,e,n){if(se(e)){const o=mn(t,e);return[{index:Tt(e.groupOffsetTree,o)[0],size:0,offset:0},{index:o,size:0,offset:0,data:n&&n[0]}]}return[{index:t,size:0,offset:0,data:n&&n[0]}]}const Fe={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function De(t,e,n){if(t.length===0)return[];if(!se(e))return t.map(m=>({...m,index:m.index+n,originalIndex:m.index}));const o=t[0].index,r=t[t.length-1].index,s=[],i=re(e.groupOffsetTree,o,r);let l,u=0;for(const m of t){(!l||l.end<m.index)&&(l=i.shift(),u=e.groupIndices.indexOf(l.start));let a;m.index===l.start?a={type:"group",index:u}:a={index:m.index-(u+1)+n,groupIndex:u},s.push({...a,size:m.size,offset:m.offset,originalIndex:m.index,data:m.data})}return s}function Jt(t,e,n,o,r,s){const{lastSize:i,lastOffset:l,lastIndex:u}=r;let m=0,a=0;if(t.length>0){m=t[0].offset;const f=t[t.length-1];a=f.offset+f.size}const h=n-u,w=l+h*i+(h-1)*o,v=m,y=w-a;return{items:De(t,r,s),topItems:De(e,r,s),topListHeight:e.reduce((f,g)=>g.size+f,0),offsetTop:m,offsetBottom:y,top:v,bottom:a,totalCount:n,firstItemIndex:s}}const Pt=D(([{sizes:t,totalCount:e,data:n,firstItemIndex:o,gap:r},s,{visibleRange:i,listBoundary:l,topListHeight:u},{scrolledToInitialItem:m,initialTopMostItemIndex:a},{topListHeight:h},w,{didMount:v},{recalcInProgress:y}])=>{const f=E([]),g=N();z(s.topItemsIndexes,f);const d=st(x(et(v,y,P(i,Wt),P(e),P(t),P(a),m,P(f),P(o),P(r),n),_(([c,S,,C,,,,,,,V])=>{const B=V&&V.length!==C;return c&&!S&&!B}),R(([,,[c,S],C,V,B,k,L,F,b,q])=>{const G=V,{sizeTree:X,offsetTree:St}=G;if(C===0||c===0&&S===0)return{...Fe,totalCount:C};if($(X))return Jt(mo(co(B,C),G,q),[],C,b,G,F);const xt=[];if(L.length>0){const at=L[0],ot=L[L.length-1];let ft=0;for(const tt of re(X,at,ot)){const it=tt.value,J=Math.max(tt.start,at),lt=Math.min(tt.end,ot);for(let rt=J;rt<=lt;rt++)xt.push({index:rt,size:it,offset:ft,data:q&&q[rt]}),ft+=it}}if(!k)return Jt([],xt,C,b,G,F);const O=L.length>0?L[L.length-1]+1:0,Y=Xn(St,c,S,O);if(Y.length===0)return null;const ht=C-1,nt=oe([],at=>{for(const ot of Y){const ft=ot.value;let tt=ft.offset,it=ot.start;const J=ft.size;if(ft.offset<c){it+=Math.floor((c-ft.offset+b)/(J+b));const rt=it-ot.start;tt+=rt*J+rt*b}it<O&&(tt+=(O-it)*J,it=O);const lt=Math.min(ot.end,ht);for(let rt=it;rt<=lt&&!(tt>=S);rt++)at.push({index:rt,size:J,offset:tt,data:q&&q[rt]}),tt+=J+b}});return Jt(nt,xt,C,b,G,F)}),_(c=>c!==null),j()),Fe);z(x(n,_(c=>c!==void 0),R(c=>c==null?void 0:c.length)),e),z(x(d,R(c=>c.topListHeight)),h),z(h,u),z(x(d,R(c=>[c.top,c.bottom])),l),z(x(d,R(c=>c.items)),g);const p=mt(x(d,_(({items:c})=>c.length>0),A(e,n),_(([{items:c},S])=>c[c.length-1].originalIndex===S-1),R(([,c,S])=>[c-1,S]),j(Wt),R(([c])=>c))),T=mt(x(d,zt(200),_(({items:c,topItems:S})=>c.length>0&&c[0].originalIndex===S.length),R(({items:c})=>c[0].index),j())),H=mt(x(d,_(({items:c})=>c.length>0),R(({items:c})=>{let S=0,C=c.length-1;for(;c[S].type==="group"&&S<C;)S++;for(;c[C].type==="group"&&C>S;)C--;return{startIndex:c[S].index,endIndex:c[C].index}}),j(gn)));return{listState:d,topItemsIndexes:f,endReached:p,startReached:T,rangeChanged:H,itemsRendered:g,...w}},K(vt,hn,Ce,Te,$t,Ut,Bt,xe),{singleton:!0}),po=D(([{sizes:t,firstItemIndex:e,data:n,gap:o},{listState:r},{didMount:s}])=>{const i=E(0);return z(x(s,A(i),_(([,l])=>l!==0),A(t,e,o,n),R(([[,l],u,m,a,h=[]])=>{let w=0;if(u.groupIndices.length>0)for(const f of u.groupIndices){if(f-w>=l)break;w++}const v=l+w,y=Array.from({length:v}).map((f,g)=>({index:g,size:0,offset:0,data:h[g]}));return Jt(y,[],v,a,u,m)})),r),{initialItemCount:i}},K(vt,Pt,Bt),{singleton:!0}),In=D(([{scrollVelocity:t}])=>{const e=E(!1),n=N(),o=E(!1);return z(x(t,A(o,e,n),_(([r,s])=>!!s),R(([r,s,i,l])=>{const{exit:u,enter:m}=s;if(i){if(u(r,l))return!1}else if(m(r,l))return!0;return i}),j()),e),U(x(et(e,t,n),A(o)),([[r,s,i],l])=>r&&l&&l.change&&l.change(s,i)),{isSeeking:e,scrollSeekConfiguration:o,scrollVelocity:t,scrollSeekRangeChanged:n}},K(Ut),{singleton:!0}),ho=D(([{topItemsIndexes:t}])=>{const e=E(0);return z(x(e,_(n=>n>0),R(n=>Array.from({length:n}).map((o,r)=>r))),t),{topItemCount:e}},K(Pt)),ve=D(([{footerHeight:t,headerHeight:e,fixedHeaderHeight:n,fixedFooterHeight:o},{listState:r}])=>{const s=N(),i=st(x(et(t,o,e,n,r),R(([l,u,m,a,h])=>l+u+m+a+h.offsetBottom+h.bottom)),0);return z(P(i),s),{totalListHeight:i,totalListHeightChanged:s}},K(ut,Pt),{singleton:!0});function Sn(t){let e=!1,n;return()=>(e||(e=!0,n=t()),n)}const go=Sn(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Io=D(([{scrollBy:t,scrollTop:e,deviation:n,scrollingInProgress:o},{isScrolling:r,isAtBottom:s,scrollDirection:i,lastJumpDueToItemResize:l},{listState:u},{beforeUnshiftWith:m,shiftWithOffset:a,sizes:h,gap:w},{log:v},{recalcInProgress:y}])=>{const f=mt(x(u,A(l),Ct(([,d,p,T],[{items:H,totalCount:c,bottom:S,offsetBottom:C},V])=>{const B=S+C;let k=0;return p===c&&d.length>0&&H.length>0&&(H[0].originalIndex===0&&d[0].originalIndex===0||(k=B-T,k!==0&&(k+=V))),[k,H,c,B]},[0,[],0,0]),_(([d])=>d!==0),A(e,i,o,s,v,y),_(([,d,p,T,,,H])=>!H&&!T&&d!==0&&p===Dt),R(([[d],,,,,p])=>(p("Upward scrolling compensation",{amount:d},pt.DEBUG),d))));function g(d){d>0?(W(t,{top:-d,behavior:"auto"}),W(n,0)):(W(n,0),W(t,{top:-d,behavior:"auto"}))}return U(x(f,A(n,r)),([d,p,T])=>{T&&go()?W(n,p-d):g(-d)}),U(x(et(st(r,!1),n,y),_(([d,p,T])=>!d&&!T&&p!==0),R(([d,p])=>p),zt(1)),g),z(x(a,R(d=>({top:-d}))),t),U(x(m,A(h,w),R(([d,{lastSize:p,groupIndices:T,sizeTree:H},c])=>{function S(C){return C*(p+c)}if(T.length===0)return S(d);{let C=0;const V=Nt(H,0);let B=0,k=0;for(;B<d;){B++,C+=V;let L=T[k+1]-T[k]-1;B+L>d&&(C-=V,L=d-B+1),B+=L,C+=S(L),k++}return C}})),d=>{W(n,d),requestAnimationFrame(()=>{W(t,{top:d}),requestAnimationFrame(()=>{W(n,0),W(y,!1)})})}),{deviation:n}},K(ut,Ut,Pt,vt,bt,xe)),So=D(([{totalListHeight:t},{didMount:e},{scrollTo:n}])=>{const o=E(0);return U(x(e,A(o),_(([,r])=>r!==0),R(([,r])=>({top:r}))),r=>{Ht(x(t,_(s=>s!==0)),()=>{setTimeout(()=>{W(n,r)})})}),{initialScrollTop:o}},K(ve,Bt,ut),{singleton:!0}),xo=D(([{viewportHeight:t},{totalListHeight:e}])=>{const n=E(!1),o=st(x(et(n,t,e),_(([r])=>r),R(([,r,s])=>Math.max(0,r-s)),j()),0);return{alignToBottom:n,paddingTopAddition:o}},K(ut,ve),{singleton:!0}),xn=D(([{scrollTo:t,scrollContainerState:e}])=>{const n=N(),o=N(),r=N(),s=E(!1),i=E(void 0);return z(x(et(n,o),R(([{viewportHeight:l,scrollTop:u,scrollHeight:m},{offsetTop:a}])=>({scrollTop:Math.max(0,u-a),scrollHeight:m,viewportHeight:l}))),e),z(x(t,A(o),R(([l,{offsetTop:u}])=>({...l,top:l.top+u}))),r),{useWindowScroll:s,customScrollParent:i,windowScrollContainerState:n,windowViewportRect:o,windowScrollTo:r}},K(ut)),wo=({itemTop:t,itemBottom:e,viewportTop:n,viewportBottom:o,locationParams:{behavior:r,align:s,...i}})=>t<n?{...i,behavior:r,align:s??"start"}:e>o?{...i,behavior:r,align:s??"end"}:null,To=D(([{sizes:t,totalCount:e,gap:n},{scrollTop:o,viewportHeight:r,headerHeight:s,fixedHeaderHeight:i,fixedFooterHeight:l,scrollingInProgress:u},{scrollToIndex:m}])=>{const a=N();return z(x(a,A(t,r,e,s,i,l,o),A(n),R(([[h,w,v,y,f,g,d,p],T])=>{const{done:H,behavior:c,align:S,calculateViewLocation:C=wo,...V}=h,B=dn(h,w,y-1),k=Ft(B,w.offsetTree,T)+f+g,L=k+Tt(w.sizeTree,B)[1],F=p+g,b=p+v-d,q=C({itemTop:k,itemBottom:L,viewportTop:F,viewportBottom:b,locationParams:{behavior:c,align:S,...V}});return q?H&&Ht(x(u,_(G=>G===!1),Qt(gt(u)?1:2)),H):H&&H(),q}),_(h=>h!==null)),m),{scrollIntoView:a}},K(vt,ut,$t,Pt,bt),{singleton:!0}),Co=D(([t,e,n,o,r,s,i,l,u])=>({...t,...e,...n,...o,...r,...s,...i,...l,...u}),K(Ce,po,Bt,In,ve,So,xo,xn,To)),vo=D(([{totalCount:t,sizeRanges:e,fixedItemSize:n,defaultItemSize:o,trackItemSizes:r,itemSize:s,data:i,firstItemIndex:l,groupIndices:u,statefulTotalCount:m,gap:a,sizes:h},{initialTopMostItemIndex:w,scrolledToInitialItem:v},y,f,{listState:g,topItemsIndexes:d,...p},{scrollToIndex:T},H,{topItemCount:c},{groupCounts:S},C,V])=>(z(p.rangeChanged,C.scrollSeekRangeChanged),z(x(C.windowViewportRect,R(B=>B.visibleHeight)),y.viewportHeight),{totalCount:t,data:i,firstItemIndex:l,sizeRanges:e,initialTopMostItemIndex:w,scrolledToInitialItem:v,topItemsIndexes:d,topItemCount:c,groupCounts:S,fixedItemHeight:n,defaultItemHeight:o,gap:a,...f,statefulTotalCount:m,listState:g,scrollToIndex:T,trackItemSizes:r,itemSize:s,groupIndices:u,...p,...C,...y,...V,sizes:h}),K(vt,Te,ut,ao,Pt,$t,Io,ho,hn,Co,bt)),ue="-webkit-sticky",We="sticky",wn=Sn(()=>{if(typeof document>"u")return We;const t=document.createElement("div");return t.style.position=ue,t.style.position===ue?ue:We});function Tn(t,e){const n=I.useRef(null),o=I.useCallback(l=>{if(l===null||!l.offsetParent)return;const u=l.getBoundingClientRect(),m=u.width;let a,h;if(e){const w=e.getBoundingClientRect(),v=u.top-w.top;a=w.height-Math.max(0,v),h=v+e.scrollTop}else a=window.innerHeight-Math.max(0,u.top),h=u.top+window.pageYOffset;n.current={offsetTop:h,visibleHeight:a,visibleWidth:m},t(n.current)},[t,e]),{callbackRef:r,ref:s}=Se(o),i=I.useCallback(()=>{o(s.current)},[o,s]);return I.useEffect(()=>{if(e){e.addEventListener("scroll",i);const l=new ResizeObserver(i);return l.observe(e),()=>{e.removeEventListener("scroll",i),l.unobserve(e)}}else return window.addEventListener("scroll",i),window.addEventListener("resize",i),()=>{window.removeEventListener("scroll",i),window.removeEventListener("resize",i)}},[i,e]),r}const Cn=I.createContext(void 0),vn=I.createContext(void 0);function En(t){return t}const Eo=D(()=>{const t=E(u=>`Item ${u}`),e=E(null),n=E(u=>`Group ${u}`),o=E({}),r=E(En),s=E("div"),i=E(_t),l=(u,m=null)=>st(x(o,R(a=>a[u]),j()),m);return{context:e,itemContent:t,groupContent:n,components:o,computeItemKey:r,headerFooterTag:s,scrollerRef:i,FooterComponent:l("Footer"),HeaderComponent:l("Header"),TopItemListComponent:l("TopItemList"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),GroupComponent:l("Group","div"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder")}}),yo=D(([t,e])=>({...t,...e}),K(vo,Eo)),Ro=({height:t})=>I.createElement("div",{style:{height:t}}),bo={position:wn(),zIndex:1,overflowAnchor:"none"},Ho={overflowAnchor:"none"},$e=I.memo(function({showTopList:e=!1}){const n=M("listState"),o=It("sizeRanges"),r=M("useWindowScroll"),s=M("customScrollParent"),i=It("windowScrollContainerState"),l=It("scrollContainerState"),u=s||r?i:l,m=M("itemContent"),a=M("context"),h=M("groupContent"),w=M("trackItemSizes"),v=M("itemSize"),y=M("log"),f=It("gap"),{callbackRef:g}=Wn(o,v,w,e?_t:u,y,f,s),[d,p]=I.useState(0);Ee("deviation",b=>{d!==b&&p(b)});const T=M("EmptyPlaceholder"),H=M("ScrollSeekPlaceholder")||Ro,c=M("ListComponent"),S=M("ItemComponent"),C=M("GroupComponent"),V=M("computeItemKey"),B=M("isSeeking"),k=M("groupIndices").length>0,L=M("paddingTopAddition"),F=e?{}:{boxSizing:"border-box",paddingTop:n.offsetTop+L,paddingBottom:n.offsetBottom,marginTop:d};return!e&&n.totalCount===0&&T?I.createElement(T,ct(T,a)):I.createElement(c,{...ct(c,a),ref:g,style:F,"data-test-id":e?"virtuoso-top-item-list":"virtuoso-item-list"},(e?n.topItems:n.items).map(b=>{const q=b.originalIndex,G=V(q+n.firstItemIndex,b.data,a);return B?I.createElement(H,{...ct(H,a),key:G,index:b.index,height:b.size,type:b.type||"item",...b.type==="group"?{}:{groupIndex:b.groupIndex}}):b.type==="group"?I.createElement(C,{...ct(C,a),key:G,"data-index":q,"data-known-size":b.size,"data-item-index":b.index,style:bo},h(b.index,a)):I.createElement(S,{...ct(S,a),key:G,"data-index":q,"data-known-size":b.size,"data-item-index":b.index,"data-item-group-index":b.groupIndex,item:b.data,style:Ho},k?m(b.index,b.groupIndex,b.data,a):m(b.index,b.data,a))}))}),Oo={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},ie={width:"100%",height:"100%",position:"absolute",top:0},Bo={width:"100%",position:wn(),top:0,zIndex:1};function ct(t,e){if(typeof t!="string")return{context:e}}const zo=I.memo(function(){const e=M("HeaderComponent"),n=It("headerHeight"),o=M("headerFooterTag"),r=Ot(i=>n(yt(i,"height"))),s=M("context");return e?I.createElement(o,{ref:r},I.createElement(e,ct(e,s))):null}),Lo=I.memo(function(){const e=M("FooterComponent"),n=It("footerHeight"),o=M("headerFooterTag"),r=Ot(i=>n(yt(i,"height"))),s=M("context");return e?I.createElement(o,{ref:r},I.createElement(e,ct(e,s))):null});function yn({usePublisher:t,useEmitter:e,useEmitterValue:n}){return I.memo(function({style:s,children:i,...l}){const u=t("scrollContainerState"),m=n("ScrollerComponent"),a=t("smoothScrollTargetReached"),h=n("scrollerRef"),w=n("context"),{scrollerRef:v,scrollByCallback:y,scrollToCallback:f}=rn(u,a,m,h);return e("scrollTo",f),e("scrollBy",y),I.createElement(m,{ref:v,style:{...Oo,...s},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...l,...ct(m,w)},i)})}function Rn({usePublisher:t,useEmitter:e,useEmitterValue:n}){return I.memo(function({style:s,children:i,...l}){const u=t("windowScrollContainerState"),m=n("ScrollerComponent"),a=t("smoothScrollTargetReached"),h=n("totalListHeight"),w=n("deviation"),v=n("customScrollParent"),y=n("context"),{scrollerRef:f,scrollByCallback:g,scrollToCallback:d}=rn(u,a,m,_t,v);return Nn(()=>(f.current=v||window,()=>{f.current=null}),[f,v]),e("windowScrollTo",d),e("scrollBy",g),I.createElement(m,{style:{position:"relative",...s,...h!==0?{height:h+w}:{}},"data-virtuoso-scroller":!0,...l,...ct(m,y)},i)})}const ko=({children:t})=>{const e=I.useContext(Cn),n=It("viewportHeight"),o=It("fixedItemHeight"),r=Ot(Xe(n,s=>yt(s,"height")));return I.useEffect(()=>{e&&(n(e.viewportHeight),o(e.itemHeight))},[e,n,o]),I.createElement("div",{style:ie,ref:r,"data-viewport-type":"element"},t)},Vo=({children:t})=>{const e=I.useContext(Cn),n=It("windowViewportRect"),o=It("fixedItemHeight"),r=M("customScrollParent"),s=Tn(n,r);return I.useEffect(()=>{e&&(o(e.itemHeight),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,n,o]),I.createElement("div",{ref:s,style:ie,"data-viewport-type":"window"},t)},_o=({children:t})=>{const e=M("TopItemListComponent"),n=M("headerHeight"),o={...Bo,marginTop:`${n}px`},r=M("context");return I.createElement(e||"div",{style:o,context:r},t)},Po=I.memo(function(e){const n=M("useWindowScroll"),o=M("topItemsIndexes").length>0,r=M("customScrollParent"),s=r||n?Ao:Mo,i=r||n?Vo:ko;return I.createElement(s,{...e},o&&I.createElement(_o,null,I.createElement($e,{showTopList:!0})),I.createElement(i,null,I.createElement(zo,null),I.createElement($e,null),I.createElement(Lo,null)))}),{Component:Go,usePublisher:It,useEmitterValue:M,useEmitter:Ee}=nn(yo,{required:{},optional:{context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Po),Mo=yn({usePublisher:It,useEmitterValue:M,useEmitter:Ee}),Ao=Rn({usePublisher:It,useEmitterValue:M,useEmitter:Ee}),No=Go,Ue={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Fo={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:je,ceil:Ke,floor:ye,min:ae,max:Mt}=Math;function Do(t){return{...Fo,items:t}}function fe(t,e,n){return Array.from({length:e-t+1}).map((o,r)=>({index:r+t,data:n==null?void 0:n[r+t]}))}function Wo(t,e){return t&&t.column===e.column&&t.row===e.row}function qe(t,e){return t&&t.width===e.width&&t.height===e.height}const $o=D(([{overscan:t,visibleRange:e,listBoundary:n},{scrollTop:o,viewportHeight:r,scrollBy:s,scrollTo:i,smoothScrollTargetReached:l,scrollContainerState:u,footerHeight:m,headerHeight:a},h,w,{propsReady:v,didMount:y},{windowViewportRect:f,windowScrollTo:g,useWindowScroll:d,customScrollParent:p,windowScrollContainerState:T},H])=>{const c=E(0),S=E(0),C=E(Ue),V=E({height:0,width:0}),B=E({height:0,width:0}),k=N(),L=N(),F=E(0),b=E(void 0),q=E({row:0,column:0});z(x(et(y,S,b),_(([,O])=>O!==0),R(([,O,Y])=>({items:fe(0,O-1,Y),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0}))),C),z(x(et(P(c),e,P(q,Wo),P(B,qe),P(V,qe),b),R(([O,[Y,ht],nt,at,ot,ft])=>{const{row:tt,column:it}=nt,{height:J,width:lt}=at,{width:rt}=ot;if(O===0||rt===0)return Ue;if(lt===0)return Do(fe(0,0,ft));const jt=bn(rt,lt,it);let le=jt*ye((Y+tt)/(J+tt)),Kt=jt*Ke((ht+tt)/(J+tt))-1;Kt=ae(O-1,Mt(Kt,jt-1)),le=ae(Kt,Mt(0,le));const Re=fe(le,Kt,ft),{top:be,bottom:He}=Ye(ot,nt,at,Re),Oe=Ke(O/jt),On=Oe*J+(Oe-1)*tt-He;return{items:Re,offsetTop:be,offsetBottom:On,top:be,bottom:He,itemHeight:J,itemWidth:lt}})),C),z(x(b,_(O=>O!==void 0),R(O=>O.length)),c),z(x(V,R(({height:O})=>O)),r),z(x(et(V,B,C,q),R(([O,Y,{items:ht},nt])=>{const{top:at,bottom:ot}=Ye(O,nt,Y,ht);return[at,ot]}),j(Wt)),n);const G=mt(x(P(C),_(({items:O})=>O.length>0),A(c),_(([{items:O},Y])=>O[O.length-1].index===Y-1),R(([,O])=>O-1),j())),X=mt(x(P(C),_(({items:O})=>O.length>0&&O[0].index===0),Et(0),j())),St=mt(x(P(C),_(({items:O})=>O.length>0),R(({items:O})=>({startIndex:O[0].index,endIndex:O[O.length-1].index})),j(gn)));z(St,w.scrollSeekRangeChanged),z(x(k,A(V,B,c,q),R(([O,Y,ht,nt,at])=>{const ot=pn(O),{align:ft,behavior:tt,offset:it}=ot;let J=ot.index;J==="LAST"&&(J=nt-1),J=Mt(0,J,ae(nt-1,J));let lt=ge(Y,at,ht,J);return ft==="end"?lt=je(lt-Y.height+ht.height):ft==="center"&&(lt=je(lt-Y.height/2+ht.height/2)),it&&(lt+=it),{top:lt,behavior:tt}})),i);const xt=st(x(C,R(O=>O.offsetBottom+O.bottom)),0);return z(x(f,R(O=>({width:O.visibleWidth,height:O.visibleHeight}))),V),{data:b,totalCount:c,viewportDimensions:V,itemDimensions:B,scrollTop:o,scrollHeight:L,overscan:t,scrollBy:s,scrollTo:i,scrollToIndex:k,smoothScrollTargetReached:l,windowViewportRect:f,windowScrollTo:g,useWindowScroll:d,customScrollParent:p,windowScrollContainerState:T,deviation:F,scrollContainerState:u,footerHeight:m,headerHeight:a,initialItemCount:S,gap:q,...w,gridState:C,totalListHeight:xt,...h,startReached:X,endReached:G,rangeChanged:St,propsReady:v,...H}},K(Ce,ut,Ut,In,Bt,xn,bt));function Ye(t,e,n,o){const{height:r}=n;if(r===void 0||o.length===0)return{top:0,bottom:0};const s=ge(t,e,n,o[0].index),i=ge(t,e,n,o[o.length-1].index)+r;return{top:s,bottom:i}}function ge(t,e,n,o){const r=bn(t.width,n.width,e.column),s=ye(o/r),i=s*n.height+Mt(0,s-1)*e.row;return i>0?i+e.row:i}function bn(t,e,n){return Mt(1,ye((t+n)/(e+n)))}const Uo=D(()=>{const t=E(m=>`Item ${m}`),e=E({}),n=E(null),o=E("virtuoso-grid-item"),r=E("virtuoso-grid-list"),s=E(En),i=E("div"),l=E(_t),u=(m,a=null)=>st(x(e,R(h=>h[m]),j()),a);return{context:n,itemContent:t,components:e,computeItemKey:s,itemClassName:o,listClassName:r,headerFooterTag:i,scrollerRef:l,FooterComponent:u("Footer"),HeaderComponent:u("Header"),ListComponent:u("List","div"),ItemComponent:u("Item","div"),ScrollerComponent:u("Scroller","div"),ScrollSeekPlaceholder:u("ScrollSeekPlaceholder","div")}}),jo=D(([t,e])=>({...t,...e}),K($o,Uo)),Ko=I.memo(function(){const e=Z("gridState"),n=Z("listClassName"),o=Z("itemClassName"),r=Z("itemContent"),s=Z("computeItemKey"),i=Z("isSeeking"),l=wt("scrollHeight"),u=Z("ItemComponent"),m=Z("ListComponent"),a=Z("ScrollSeekPlaceholder"),h=Z("context"),w=wt("itemDimensions"),v=wt("gap"),y=Z("log"),f=Ot(g=>{const d=g.parentElement.parentElement.scrollHeight;l(d);const p=g.firstChild;p&&w(p.getBoundingClientRect()),v({row:Ze("row-gap",getComputedStyle(g).rowGap,y),column:Ze("column-gap",getComputedStyle(g).columnGap,y)})});return I.createElement(m,{ref:f,className:n,...ct(m,h),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-test-id":"virtuoso-item-list"},e.items.map(g=>{const d=s(g.index,g.data,h);return i?I.createElement(a,{key:d,...ct(a,h),index:g.index,height:e.itemHeight,width:e.itemWidth}):I.createElement(u,{...ct(u,h),className:o,"data-index":g.index,key:d},r(g.index,g.data,h))}))}),qo=I.memo(function(){const e=Z("HeaderComponent"),n=wt("headerHeight"),o=Z("headerFooterTag"),r=Ot(i=>n(yt(i,"height"))),s=Z("context");return e?I.createElement(o,{ref:r},I.createElement(e,ct(e,s))):null}),Yo=I.memo(function(){const e=Z("FooterComponent"),n=wt("footerHeight"),o=Z("headerFooterTag"),r=Ot(i=>n(yt(i,"height"))),s=Z("context");return e?I.createElement(o,{ref:r},I.createElement(e,ct(e,s))):null}),Zo=({children:t})=>{const e=I.useContext(vn),n=wt("itemDimensions"),o=wt("viewportDimensions"),r=Ot(s=>{o(s.getBoundingClientRect())});return I.useEffect(()=>{e&&(o({height:e.viewportHeight,width:e.viewportWidth}),n({height:e.itemHeight,width:e.itemWidth}))},[e,o,n]),I.createElement("div",{style:ie,ref:r},t)},Jo=({children:t})=>{const e=I.useContext(vn),n=wt("windowViewportRect"),o=wt("itemDimensions"),r=Z("customScrollParent"),s=Tn(n,r);return I.useEffect(()=>{e&&(o({height:e.itemHeight,width:e.itemWidth}),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,n,o]),I.createElement("div",{ref:s,style:ie},t)},Qo=I.memo(function({...e}){const n=Z("useWindowScroll"),o=Z("customScrollParent"),r=o||n?tr:Xo,s=o||n?Jo:Zo;return I.createElement(r,{...e},I.createElement(s,null,I.createElement(qo,null),I.createElement(Ko,null),I.createElement(Yo,null)))}),{Component:ir,usePublisher:wt,useEmitterValue:Z,useEmitter:Hn}=nn(jo,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},Qo),Xo=yn({usePublisher:wt,useEmitterValue:Z,useEmitter:Hn}),tr=Rn({usePublisher:wt,useEmitterValue:Z,useEmitter:Hn});function Ze(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,pt.WARN),e==="normal"?0:parseInt(e??"0",10)}const er={flex:1},Je=qt.memo(({count:t,Component:e,handle:n})=>{const o=qt.useRef(null);return qt.useImperativeHandle(n,()=>({scrollToIndex:r=>{var s;(s=o.current)==null||s.scrollToIndex(r)}})),Be(No,{ref:o,style:er,totalCount:t,itemContent:qt.useMemo(()=>r=>Be(e,{index:r},r),[])})});try{Je.displayName="ReactVirtuosoList",Je.__docgenInfo={description:"",displayName:"ReactVirtuosoList",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},Component:{defaultValue:null,description:"",name:"Component",required:!0,type:{name:"ForwardRefExoticComponent<{ index: number; } & RefAttributes<HTMLDivElement>>"}},handle:{defaultValue:null,description:"",name:"handle",required:!0,type:{name:"Ref<ListHandle>"}}}}}catch{}export{Je as R};
//# sourceMappingURL=react-virtuoso-54c1e7b3.js.map
