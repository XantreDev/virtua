import{j as v,a as L}from"./jsx-runtime-c3d7f245.js";import{I as Q,S as X,V as Y,H as ie,a as le}from"./virtua-cbc9a237.js";import{r as F}from"./index-c6dae603.js";import{a as S,_ as Oe}from"./assertThisInitialized-60dddfb4.js";import{e as D,d as E,_ as d,c as ee,a as te}from"./possibleConstructorReturn-400c5699.js";import{_ as ne}from"./getPrototypeOf-e4242ba0.js";import{c as Me}from"./clsx.m-1229b3e0.js";import{_ as Le}from"./objectWithoutProperties-8e2777d0.js";import{A as He}from"./AutoSizer-8f234528.js";import{r as Fe}from"./index-eb008d06.js";import"./index-778f7dbf.js";import"./objectWithoutPropertiesLoose-4f48578a.js";function re(r){var i=r.cellCount,t=r.cellSize,e=r.computeMetadataCallback,n=r.computeMetadataCallbackProps,l=r.nextCellsCount,o=r.nextCellSize,a=r.nextScrollToIndex,s=r.scrollToIndex,c=r.updateScrollOffsetForScrollToIndex;(i!==l||(typeof t=="number"||typeof o=="number")&&t!==o)&&(e(n),s>=0&&s===a&&c())}var De=function(){function r(i){var t=i.cellCount,e=i.cellSizeGetter,n=i.estimatedCellSize;E(this,r),d(this,"_cellSizeAndPositionData",{}),d(this,"_lastMeasuredIndex",-1),d(this,"_lastBatchedIndex",-1),d(this,"_cellCount",void 0),d(this,"_cellSizeGetter",void 0),d(this,"_estimatedCellSize",void 0),this._cellSizeGetter=e,this._cellCount=t,this._estimatedCellSize=n}return D(r,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(t){var e=t.cellCount,n=t.estimatedCellSize,l=t.cellSizeGetter;this._cellCount=e,this._estimatedCellSize=n,this._cellSizeGetter=l}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(t){if(t<0||t>=this._cellCount)throw Error("Requested index ".concat(t," is outside of range 0..").concat(this._cellCount));if(t>this._lastMeasuredIndex)for(var e=this.getSizeAndPositionOfLastMeasuredCell(),n=e.offset+e.size,l=this._lastMeasuredIndex+1;l<=t;l++){var o=this._cellSizeGetter({index:l});if(o===void 0||isNaN(o))throw Error("Invalid size returned for cell ".concat(l," of value ").concat(o));o===null?(this._cellSizeAndPositionData[l]={offset:n,size:0},this._lastBatchedIndex=t):(this._cellSizeAndPositionData[l]={offset:n,size:o},n+=o,this._lastMeasuredIndex=t)}return this._cellSizeAndPositionData[t]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var t=this.getSizeAndPositionOfLastMeasuredCell(),e=t.offset+t.size,n=this._cellCount-this._lastMeasuredIndex-1,l=n*this._estimatedCellSize;return e+l}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,n=e===void 0?"auto":e,l=t.containerSize,o=t.currentOffset,a=t.targetIndex;if(l<=0)return 0;var s=this.getSizeAndPositionOfCell(a),c=s.offset,h=c-l+s.size,u;switch(n){case"start":u=c;break;case"end":u=h;break;case"center":u=c-(l-s.size)/2;break;default:u=Math.max(h,Math.min(c,o));break}var f=this.getTotalSize();return Math.max(0,Math.min(f-l,u))}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,n=t.offset,l=this.getTotalSize();if(l===0)return{};var o=n+e,a=this._findNearestCell(n),s=this.getSizeAndPositionOfCell(a);n=s.offset+s.size;for(var c=a;n<o&&c<this._cellCount-1;)c++,n+=this.getSizeAndPositionOfCell(c).size;return{start:a,stop:c}}},{key:"resetCell",value:function(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_binarySearch",value:function(t,e,n){for(;e<=t;){var l=e+Math.floor((t-e)/2),o=this.getSizeAndPositionOfCell(l).offset;if(o===n)return l;o<n?e=l+1:o>n&&(t=l-1)}return e>0?e-1:0}},{key:"_exponentialSearch",value:function(t,e){for(var n=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<e;)t+=n,n*=2;return this._binarySearch(Math.min(t,this._cellCount-1),Math.floor(t/2),e)}},{key:"_findNearestCell",value:function(t){if(isNaN(t))throw Error("Invalid offset ".concat(t," specified"));t=Math.max(0,t);var e=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return e.offset>=t?this._binarySearch(n,0,t):this._exponentialSearch(n,t)}}]),r}(),Ee=15e5,Ue=16777100,Ge=function(){return typeof window<"u"},Ne=function(){return!!window.chrome},Ve=function(){return Ge()&&Ne()?Ue:Ee},ae=function(){function r(i){var t=i.maxScrollSize,e=t===void 0?Ve():t,n=Le(i,["maxScrollSize"]);E(this,r),d(this,"_cellSizeAndPositionManager",void 0),d(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new De(n),this._maxScrollSize=e}return D(r,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(t){var e=t.containerSize,n=t.offset,l=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),a=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:o});return Math.round(a*(o-l))}},{key:"getSizeAndPositionOfCell",value:function(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(t){var e=t.align,n=e===void 0?"auto":e,l=t.containerSize,o=t.currentOffset,a=t.targetIndex;o=this._safeOffsetToOffset({containerSize:l,offset:o});var s=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:l,currentOffset:o,targetIndex:a});return this._offsetToSafeOffset({containerSize:l,offset:s})}},{key:"getVisibleCellRange",value:function(t){var e=t.containerSize,n=t.offset;return n=this._safeOffsetToOffset({containerSize:e,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:e,offset:n})}},{key:"resetCell",value:function(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function(t){var e=t.containerSize,n=t.offset,l=t.totalSize;return l<=e?0:n/(l-e)}},{key:"_offsetToSafeOffset",value:function(t){var e=t.containerSize,n=t.offset,l=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(l===o)return n;var a=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:l});return Math.round(a*(o-e))}},{key:"_safeOffsetToOffset",value:function(t){var e=t.containerSize,n=t.offset,l=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(l===o)return n;var a=this._getOffsetPercentage({containerSize:e,offset:n,totalSize:o});return Math.round(a*(l-e))}}]),r}();function se(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i={};return function(t){var e=t.callback,n=t.indices,l=Object.keys(n),o=!r||l.every(function(s){var c=n[s];return Array.isArray(c)?c.length>0:c>=0}),a=l.length!==Object.keys(i).length||l.some(function(s){var c=i[s],h=n[s];return Array.isArray(h)?c.join(",")!==h.join(","):c!==h});i=n,o&&a&&e(n)}}var V=-1,k=1;function je(r){var i=r.cellCount,t=r.overscanCellsCount,e=r.scrollDirection,n=r.startIndex,l=r.stopIndex;return e===k?{overscanStartIndex:Math.max(0,n),overscanStopIndex:Math.min(i-1,l+t)}:{overscanStartIndex:Math.max(0,n-t),overscanStopIndex:Math.min(i-1,l)}}function ce(r){var i=r.cellSize,t=r.cellSizeAndPositionManager,e=r.previousCellsCount,n=r.previousCellSize,l=r.previousScrollToAlignment,o=r.previousScrollToIndex,a=r.previousSize,s=r.scrollOffset,c=r.scrollToAlignment,h=r.scrollToIndex,u=r.size,f=r.sizeJustIncreasedFromZero,m=r.updateScrollIndexCallback,p=t.getCellCount(),g=h>=0&&h<p,z=u!==a||f||!n||typeof i=="number"&&i!==n;g&&(z||c!==l||h!==o)?m(h):!g&&p>0&&(u<a||p<e)&&s>t.getTotalSize()-u&&m(p-1)}function $e(r){for(var i=r.cellCache,t=r.cellRenderer,e=r.columnSizeAndPositionManager,n=r.columnStartIndex,l=r.columnStopIndex,o=r.deferredMeasurementCache,a=r.horizontalOffsetAdjustment,s=r.isScrolling,c=r.isScrollingOptOut,h=r.parent,u=r.rowSizeAndPositionManager,f=r.rowStartIndex,m=r.rowStopIndex,p=r.styleCache,g=r.verticalOffsetAdjustment,z=r.visibleColumnIndices,_=r.visibleRowIndices,T=[],w=e.areOffsetsAdjusted()||u.areOffsetsAdjusted(),R=!s&&!w,y=f;y<=m;y++)for(var x=u.getSizeAndPositionOfCell(y),C=n;C<=l;C++){var A=e.getSizeAndPositionOfCell(C),P=C>=z.start&&C<=z.stop&&y>=_.start&&y<=_.stop,O="".concat(y,"-").concat(C),M=void 0;R&&p[O]?M=p[O]:o&&!o.has(y,C)?M={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(M={height:x.size,left:A.offset+a,position:"absolute",top:x.offset+g,width:A.size},p[O]=M);var W={columnIndex:C,isScrolling:s,isVisible:P,key:O,parent:h,rowIndex:y,style:M},b=void 0;(c||s)&&!a&&!g?(i[O]||(i[O]=t(W)),b=i[O]):b=t(W),!(b==null||b===!1)&&T.push(b)}return T}const Be=!!(typeof window<"u"&&window.document&&window.document.createElement);var j;function qe(r){if((!j&&j!==0||r)&&Be){var i=document.createElement("div");i.style.position="absolute",i.style.top="-9999px",i.style.width="50px",i.style.height="50px",i.style.overflow="scroll",document.body.appendChild(i),j=i.offsetWidth-i.clientWidth,document.body.removeChild(i)}return j}function Ae(){var r=this.constructor.getDerivedStateFromProps(this.props,this.state);r!=null&&this.setState(r)}function be(r){function i(t){var e=this.constructor.getDerivedStateFromProps(r,t);return e??null}this.setState(i.bind(this))}function Pe(r,i){try{var t=this.props,e=this.state;this.props=r,this.state=i,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,e)}finally{this.props=t,this.state=e}}Ae.__suppressDeprecationWarning=!0;be.__suppressDeprecationWarning=!0;Pe.__suppressDeprecationWarning=!0;function Ze(r){var i=r.prototype;if(!i||!i.isReactComponent)throw new Error("Can only polyfill class components");if(typeof r.getDerivedStateFromProps!="function"&&typeof i.getSnapshotBeforeUpdate!="function")return r;var t=null,e=null,n=null;if(typeof i.componentWillMount=="function"?t="componentWillMount":typeof i.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof i.componentWillReceiveProps=="function"?e="componentWillReceiveProps":typeof i.UNSAFE_componentWillReceiveProps=="function"&&(e="UNSAFE_componentWillReceiveProps"),typeof i.componentWillUpdate=="function"?n="componentWillUpdate":typeof i.UNSAFE_componentWillUpdate=="function"&&(n="UNSAFE_componentWillUpdate"),t!==null||e!==null||n!==null){var l=r.displayName||r.name,o=typeof r.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+l+" uses "+o+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(e!==null?`
  `+e:"")+(n!==null?`
  `+n:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof r.getDerivedStateFromProps=="function"&&(i.componentWillMount=Ae,i.componentWillReceiveProps=be),typeof i.getSnapshotBeforeUpdate=="function"){if(typeof i.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");i.componentWillUpdate=Pe;var a=i.componentDidUpdate;i.componentDidUpdate=function(c,h,u){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:u;a.call(this,c,h,f)}}return r}var I;typeof window<"u"?I=window:typeof self<"u"?I=self:I={};var Je=I.requestAnimationFrame||I.webkitRequestAnimationFrame||I.mozRequestAnimationFrame||I.oRequestAnimationFrame||I.msRequestAnimationFrame||function(r){return I.setTimeout(r,1e3/60)},Ke=I.cancelAnimationFrame||I.webkitCancelAnimationFrame||I.mozCancelAnimationFrame||I.oCancelAnimationFrame||I.msCancelAnimationFrame||function(r){I.clearTimeout(r)},de=Je,Qe=Ke,ue=function(i){return Qe(i.id)},Xe=function(i,t){var e;Promise.resolve().then(function(){e=Date.now()});var n=function o(){Date.now()-e>=t?i.call():l.id=de(o)},l={id:de(n)};return l},he,fe;function Se(r,i){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);i&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,e)}return t}function H(r){for(var i=1;i<arguments.length;i++){var t=arguments[i]!=null?arguments[i]:{};i%2?Se(t,!0).forEach(function(e){d(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Se(t).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}var Ye=150,K={OBSERVED:"observed",REQUESTED:"requested"},et=function(){return null},oe=(fe=he=function(r){ee(i,r);function i(t){var e;E(this,i),e=te(this,ne(i).call(this,t)),d(S(e),"_onGridRenderedMemoizer",se()),d(S(e),"_onScrollMemoizer",se(!1)),d(S(e),"_deferredInvalidateColumnIndex",null),d(S(e),"_deferredInvalidateRowIndex",null),d(S(e),"_recomputeScrollLeftFlag",!1),d(S(e),"_recomputeScrollTopFlag",!1),d(S(e),"_horizontalScrollBarSize",0),d(S(e),"_verticalScrollBarSize",0),d(S(e),"_scrollbarPresenceChanged",!1),d(S(e),"_scrollingContainer",void 0),d(S(e),"_childrenToDisplay",void 0),d(S(e),"_columnStartIndex",void 0),d(S(e),"_columnStopIndex",void 0),d(S(e),"_rowStartIndex",void 0),d(S(e),"_rowStopIndex",void 0),d(S(e),"_renderedColumnStartIndex",0),d(S(e),"_renderedColumnStopIndex",0),d(S(e),"_renderedRowStartIndex",0),d(S(e),"_renderedRowStopIndex",0),d(S(e),"_initialScrollTop",void 0),d(S(e),"_initialScrollLeft",void 0),d(S(e),"_disablePointerEventsTimeoutId",void 0),d(S(e),"_styleCache",{}),d(S(e),"_cellCache",{}),d(S(e),"_debounceScrollEndedCallback",function(){e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1,needToResetStyleCache:!1})}),d(S(e),"_invokeOnGridRenderedHelper",function(){var o=e.props.onSectionRendered;e._onGridRenderedMemoizer({callback:o,indices:{columnOverscanStartIndex:e._columnStartIndex,columnOverscanStopIndex:e._columnStopIndex,columnStartIndex:e._renderedColumnStartIndex,columnStopIndex:e._renderedColumnStopIndex,rowOverscanStartIndex:e._rowStartIndex,rowOverscanStopIndex:e._rowStopIndex,rowStartIndex:e._renderedRowStartIndex,rowStopIndex:e._renderedRowStopIndex}})}),d(S(e),"_setScrollingContainerRef",function(o){e._scrollingContainer=o}),d(S(e),"_onScroll",function(o){o.target===e._scrollingContainer&&e.handleScrollEvent(o.target)});var n=new ae({cellCount:t.columnCount,cellSizeGetter:function(a){return i._wrapSizeGetter(t.columnWidth)(a)},estimatedCellSize:i._getEstimatedColumnSize(t)}),l=new ae({cellCount:t.rowCount,cellSizeGetter:function(a){return i._wrapSizeGetter(t.rowHeight)(a)},estimatedCellSize:i._getEstimatedRowSize(t)});return e.state={instanceProps:{columnSizeAndPositionManager:n,rowSizeAndPositionManager:l,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:t.isScrolling===!0,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:k,scrollDirectionVertical:k,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(e._initialScrollTop=e._getCalculatedScrollTop(t,e.state)),t.scrollToColumn>0&&(e._initialScrollLeft=e._getCalculatedScrollLeft(t,e.state)),e}return D(i,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.alignment,l=n===void 0?this.props.scrollToAlignment:n,o=e.columnIndex,a=o===void 0?this.props.scrollToColumn:o,s=e.rowIndex,c=s===void 0?this.props.scrollToRow:s,h=H({},this.props,{scrollToAlignment:l,scrollToColumn:a,scrollToRow:c});return{scrollLeft:this._getCalculatedScrollLeft(h),scrollTop:this._getCalculatedScrollTop(h)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var n=e.scrollLeft,l=n===void 0?0:n,o=e.scrollTop,a=o===void 0?0:o;if(!(a<0)){this._debounceScrollEnded();var s=this.props,c=s.autoHeight,h=s.autoWidth,u=s.height,f=s.width,m=this.state.instanceProps,p=m.scrollbarSize,g=m.rowSizeAndPositionManager.getTotalSize(),z=m.columnSizeAndPositionManager.getTotalSize(),_=Math.min(Math.max(0,z-f+p),l),T=Math.min(Math.max(0,g-u+p),a);if(this.state.scrollLeft!==_||this.state.scrollTop!==T){var w=_!==this.state.scrollLeft?_>this.state.scrollLeft?k:V:this.state.scrollDirectionHorizontal,R=T!==this.state.scrollTop?T>this.state.scrollTop?k:V:this.state.scrollDirectionVertical,y={isScrolling:!0,scrollDirectionHorizontal:w,scrollDirectionVertical:R,scrollPositionChangeReason:K.OBSERVED};c||(y.scrollTop=T),h||(y.scrollLeft=_),y.needToResetStyleCache=!1,this.setState(y)}this._invokeOnScrollMemoizer({scrollLeft:_,scrollTop:T,totalColumnsWidth:z,totalRowsHeight:g})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var n=e.columnIndex,l=e.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,l):l}},{key:"measureAllCells",value:function(){var e=this.props,n=e.columnCount,l=e.rowCount,o=this.state.instanceProps;o.columnSizeAndPositionManager.getSizeAndPositionOfCell(n-1),o.rowSizeAndPositionManager.getSizeAndPositionOfCell(l-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.columnIndex,l=n===void 0?0:n,o=e.rowIndex,a=o===void 0?0:o,s=this.props,c=s.scrollToColumn,h=s.scrollToRow,u=this.state.instanceProps;u.columnSizeAndPositionManager.resetCell(l),u.rowSizeAndPositionManager.resetCell(a),this._recomputeScrollLeftFlag=c>=0&&(this.state.scrollDirectionHorizontal===k?l<=c:l>=c),this._recomputeScrollTopFlag=h>=0&&(this.state.scrollDirectionVertical===k?a<=h:a>=h),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var n=e.columnIndex,l=e.rowIndex,o=this.props.columnCount,a=this.props;o>1&&n!==void 0&&this._updateScrollLeftForScrollToColumn(H({},a,{scrollToColumn:n})),l!==void 0&&this._updateScrollTopForScrollToRow(H({},a,{scrollToRow:l}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,l=e.height,o=e.scrollLeft,a=e.scrollToColumn,s=e.scrollTop,c=e.scrollToRow,h=e.width,u=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),u.scrollbarSizeMeasured||this.setState(function(p){var g=H({},p,{needToResetStyleCache:!1});return g.instanceProps.scrollbarSize=n(),g.instanceProps.scrollbarSizeMeasured=!0,g}),typeof o=="number"&&o>=0||typeof s=="number"&&s>=0){var f=i._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:s});f&&(f.needToResetStyleCache=!1,this.setState(f))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var m=l>0&&h>0;a>=0&&m&&this._updateScrollLeftForScrollToColumn(),c>=0&&m&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:s||0,totalColumnsWidth:u.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:u.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,n){var l=this,o=this.props,a=o.autoHeight,s=o.autoWidth,c=o.columnCount,h=o.height,u=o.rowCount,f=o.scrollToAlignment,m=o.scrollToColumn,p=o.scrollToRow,g=o.width,z=this.state,_=z.scrollLeft,T=z.scrollPositionChangeReason,w=z.scrollTop,R=z.instanceProps;this._handleInvalidatedGridSize();var y=c>0&&e.columnCount===0||u>0&&e.rowCount===0;T===K.REQUESTED&&(!s&&_>=0&&(_!==this._scrollingContainer.scrollLeft||y)&&(this._scrollingContainer.scrollLeft=_),!a&&w>=0&&(w!==this._scrollingContainer.scrollTop||y)&&(this._scrollingContainer.scrollTop=w));var x=(e.width===0||e.height===0)&&h>0&&g>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):ce({cellSizeAndPositionManager:R.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:_,scrollToAlignment:f,scrollToIndex:m,size:g,sizeJustIncreasedFromZero:x,updateScrollIndexCallback:function(){return l._updateScrollLeftForScrollToColumn(l.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):ce({cellSizeAndPositionManager:R.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:w,scrollToAlignment:f,scrollToIndex:p,size:h,sizeJustIncreasedFromZero:x,updateScrollIndexCallback:function(){return l._updateScrollTopForScrollToRow(l.props)}}),this._invokeOnGridRenderedHelper(),_!==n.scrollLeft||w!==n.scrollTop){var C=R.rowSizeAndPositionManager.getTotalSize(),A=R.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:_,scrollTop:w,totalColumnsWidth:A,totalRowsHeight:C})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&ue(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,n=e.autoContainerWidth,l=e.autoHeight,o=e.autoWidth,a=e.className,s=e.containerProps,c=e.containerRole,h=e.containerStyle,u=e.height,f=e.id,m=e.noContentRenderer,p=e.role,g=e.style,z=e.tabIndex,_=e.width,T=this.state,w=T.instanceProps,R=T.needToResetStyleCache,y=this._isScrolling(),x={boxSizing:"border-box",direction:"ltr",height:l?"auto":u,position:"relative",width:o?"auto":_,WebkitOverflowScrolling:"touch",willChange:"transform"};R&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var C=w.columnSizeAndPositionManager.getTotalSize(),A=w.rowSizeAndPositionManager.getTotalSize(),P=A>u?w.scrollbarSize:0,O=C>_?w.scrollbarSize:0;(O!==this._horizontalScrollBarSize||P!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=O,this._verticalScrollBarSize=P,this._scrollbarPresenceChanged=!0),x.overflowX=C+P<=_?"hidden":"auto",x.overflowY=A+O<=u?"hidden":"auto";var M=this._childrenToDisplay,W=M.length===0&&u>0&&_>0;return F.createElement("div",Oe({ref:this._setScrollingContainerRef},s,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Me("ReactVirtualized__Grid",a),id:f,onScroll:this._onScroll,role:p,style:H({},x,{},g),tabIndex:z}),M.length>0&&F.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:c,style:H({width:n?"auto":C,height:A,maxWidth:C,maxHeight:A,overflow:"hidden",pointerEvents:y?"none":"",position:"relative"},h)},M),W&&m())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,l=e.cellRenderer,o=e.cellRangeRenderer,a=e.columnCount,s=e.deferredMeasurementCache,c=e.height,h=e.overscanColumnCount,u=e.overscanIndicesGetter,f=e.overscanRowCount,m=e.rowCount,p=e.width,g=e.isScrollingOptOut,z=n.scrollDirectionHorizontal,_=n.scrollDirectionVertical,T=n.instanceProps,w=this._initialScrollTop>0?this._initialScrollTop:n.scrollTop,R=this._initialScrollLeft>0?this._initialScrollLeft:n.scrollLeft,y=this._isScrolling(e,n);if(this._childrenToDisplay=[],c>0&&p>0){var x=T.columnSizeAndPositionManager.getVisibleCellRange({containerSize:p,offset:R}),C=T.rowSizeAndPositionManager.getVisibleCellRange({containerSize:c,offset:w}),A=T.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:p,offset:R}),P=T.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:c,offset:w});this._renderedColumnStartIndex=x.start,this._renderedColumnStopIndex=x.stop,this._renderedRowStartIndex=C.start,this._renderedRowStopIndex=C.stop;var O=u({direction:"horizontal",cellCount:a,overscanCellsCount:h,scrollDirection:z,startIndex:typeof x.start=="number"?x.start:0,stopIndex:typeof x.stop=="number"?x.stop:-1}),M=u({direction:"vertical",cellCount:m,overscanCellsCount:f,scrollDirection:_,startIndex:typeof C.start=="number"?C.start:0,stopIndex:typeof C.stop=="number"?C.stop:-1}),W=O.overscanStartIndex,b=O.overscanStopIndex,G=M.overscanStartIndex,N=M.overscanStopIndex;if(s){if(!s.hasFixedHeight()){for(var Z=G;Z<=N;Z++)if(!s.has(Z,0)){W=0,b=a-1;break}}if(!s.hasFixedWidth()){for(var J=W;J<=b;J++)if(!s.has(0,J)){G=0,N=m-1;break}}}this._childrenToDisplay=o({cellCache:this._cellCache,cellRenderer:l,columnSizeAndPositionManager:T.columnSizeAndPositionManager,columnStartIndex:W,columnStopIndex:b,deferredMeasurementCache:s,horizontalOffsetAdjustment:A,isScrolling:y,isScrollingOptOut:g,parent:this,rowSizeAndPositionManager:T.rowSizeAndPositionManager,rowStartIndex:G,rowStopIndex:N,scrollLeft:R,scrollTop:w,styleCache:this._styleCache,verticalOffsetAdjustment:P,visibleColumnIndices:x,visibleRowIndices:C}),this._columnStartIndex=W,this._columnStopIndex=b,this._rowStartIndex=G,this._rowStopIndex=N}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&ue(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=Xe(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var e=this._deferredInvalidateColumnIndex,n=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:n})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var n=this,l=e.scrollLeft,o=e.scrollTop,a=e.totalColumnsWidth,s=e.totalRowsHeight;this._onScrollMemoizer({callback:function(h){var u=h.scrollLeft,f=h.scrollTop,m=n.props,p=m.height,g=m.onScroll,z=m.width;g({clientHeight:p,clientWidth:z,scrollHeight:s,scrollLeft:u,scrollTop:f,scrollWidth:a})},indices:{scrollLeft:l,scrollTop:o}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?!!e.isScrolling:!!n.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft,l=e.scrollTop,o=i._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:l});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return i._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,l=i._getScrollLeftForScrollToColumnStateUpdate(e,n);l&&(l.needToResetStyleCache=!1,this.setState(l))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return i._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,n=this._cellCache,l=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var o=this._rowStartIndex;o<=this._rowStopIndex;o++)for(var a=this._columnStartIndex;a<=this._columnStopIndex;a++){var s="".concat(o,"-").concat(a);this._styleCache[s]=e[s],l&&(this._cellCache[s]=n[s])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,l=i._getScrollTopForScrollToRowStateUpdate(e,n);l&&(l.needToResetStyleCache=!1,this.setState(l))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var l={};e.columnCount===0&&n.scrollLeft!==0||e.rowCount===0&&n.scrollTop!==0?(l.scrollLeft=0,l.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==n.scrollTop&&e.scrollToRow<0)&&Object.assign(l,i._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var o=n.instanceProps;l.needToResetStyleCache=!1,(e.columnWidth!==o.prevColumnWidth||e.rowHeight!==o.prevRowHeight)&&(l.needToResetStyleCache=!0),o.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:i._getEstimatedColumnSize(e),cellSizeGetter:i._wrapSizeGetter(e.columnWidth)}),o.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:i._getEstimatedRowSize(e),cellSizeGetter:i._wrapSizeGetter(e.rowHeight)}),(o.prevColumnCount===0||o.prevRowCount===0)&&(o.prevColumnCount=0,o.prevRowCount=0),e.autoHeight&&e.isScrolling===!1&&o.prevIsScrolling===!0&&Object.assign(l,{isScrolling:!1});var a,s;return re({cellCount:o.prevColumnCount,cellSize:typeof o.prevColumnWidth=="number"?o.prevColumnWidth:null,computeMetadataCallback:function(){return o.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:typeof e.columnWidth=="number"?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:o.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){a=i._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),re({cellCount:o.prevRowCount,cellSize:typeof o.prevRowHeight=="number"?o.prevRowHeight:null,computeMetadataCallback:function(){return o.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:typeof e.rowHeight=="number"?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:o.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){s=i._getScrollTopForScrollToRowStateUpdate(e,n)}}),o.prevColumnCount=e.columnCount,o.prevColumnWidth=e.columnWidth,o.prevIsScrolling=e.isScrolling===!0,o.prevRowCount=e.rowCount,o.prevRowHeight=e.rowHeight,o.prevScrollToColumn=e.scrollToColumn,o.prevScrollToRow=e.scrollToRow,o.scrollbarSize=e.getScrollbarSize(),o.scrollbarSize===void 0?(o.scrollbarSizeMeasured=!1,o.scrollbarSize=0):o.scrollbarSizeMeasured=!0,l.instanceProps=o,H({},l,{},a,{},s)}},{key:"_getEstimatedColumnSize",value:function(e){return typeof e.columnWidth=="number"?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return typeof e.rowHeight=="number"?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var n=e.prevState,l=e.scrollLeft,o=e.scrollTop,a={scrollPositionChangeReason:K.REQUESTED};return typeof l=="number"&&l>=0&&(a.scrollDirectionHorizontal=l>n.scrollLeft?k:V,a.scrollLeft=l),typeof o=="number"&&o>=0&&(a.scrollDirectionVertical=o>n.scrollTop?k:V,a.scrollTop=o),typeof l=="number"&&l>=0&&l!==n.scrollLeft||typeof o=="number"&&o>=0&&o!==n.scrollTop?a:{}}},{key:"_wrapSizeGetter",value:function(e){return typeof e=="function"?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,n){var l=e.columnCount,o=e.height,a=e.scrollToAlignment,s=e.scrollToColumn,c=e.width,h=n.scrollLeft,u=n.instanceProps;if(l>0){var f=l-1,m=s<0?f:Math.min(f,s),p=u.rowSizeAndPositionManager.getTotalSize(),g=u.scrollbarSizeMeasured&&p>o?u.scrollbarSize:0;return u.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:c-g,currentOffset:h,targetIndex:m})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var l=n.scrollLeft,o=i._getCalculatedScrollLeft(e,n);return typeof o=="number"&&o>=0&&l!==o?i._getScrollToPositionStateUpdate({prevState:n,scrollLeft:o,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,n){var l=e.height,o=e.rowCount,a=e.scrollToAlignment,s=e.scrollToRow,c=e.width,h=n.scrollTop,u=n.instanceProps;if(o>0){var f=o-1,m=s<0?f:Math.min(f,s),p=u.columnSizeAndPositionManager.getTotalSize(),g=u.scrollbarSizeMeasured&&p>c?u.scrollbarSize:0;return u.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:l-g,currentOffset:h,targetIndex:m})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var l=n.scrollTop,o=i._getCalculatedScrollTop(e,n);return typeof o=="number"&&o>=0&&l!==o?i._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:o}):{}}}]),i}(F.PureComponent),d(he,"propTypes",null),fe);d(oe,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:$e,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:qe,noContentRenderer:et,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:je,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:Ye,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});Ze(oe);var tt=1;function nt(r){var i=r.cellCount,t=r.overscanCellsCount,e=r.scrollDirection,n=r.startIndex,l=r.stopIndex;return t=Math.max(1,t),e===tt?{overscanStartIndex:Math.max(0,n-1),overscanStopIndex:Math.min(i-1,l+t)}:{overscanStartIndex:Math.max(0,n-t),overscanStopIndex:Math.min(i-1,l+1)}}var me,pe,We=(pe=me=function(r){ee(i,r);function i(){var t,e;E(this,i);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return e=te(this,(t=ne(i)).call.apply(t,[this].concat(l))),d(S(e),"Grid",void 0),d(S(e),"_cellRenderer",function(a){var s=a.parent,c=a.rowIndex,h=a.style,u=a.isScrolling,f=a.isVisible,m=a.key,p=e.props.rowRenderer,g=Object.getOwnPropertyDescriptor(h,"width");return g&&g.writable&&(h.width="100%"),p({index:c,style:h,isScrolling:u,isVisible:f,key:m,parent:s})}),d(S(e),"_setRef",function(a){e.Grid=a}),d(S(e),"_onScroll",function(a){var s=a.clientHeight,c=a.scrollHeight,h=a.scrollTop,u=e.props.onScroll;u({clientHeight:s,scrollHeight:c,scrollTop:h})}),d(S(e),"_onSectionRendered",function(a){var s=a.rowOverscanStartIndex,c=a.rowOverscanStopIndex,h=a.rowStartIndex,u=a.rowStopIndex,f=e.props.onRowsRendered;f({overscanStartIndex:s,overscanStopIndex:c,startIndex:h,stopIndex:u})}),e}return D(i,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var n=e.alignment,l=e.index;if(this.Grid){var o=this.Grid.getOffsetForCell({alignment:n,rowIndex:l,columnIndex:0}),a=o.scrollTop;return a}return 0}},{key:"invalidateCellSizeAfterRender",value:function(e){var n=e.columnIndex,l=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:l,columnIndex:n})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.columnIndex,l=n===void 0?0:n,o=e.rowIndex,a=o===void 0?0:o;this.Grid&&this.Grid.recomputeGridSize({rowIndex:a,columnIndex:l})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,n=e.className,l=e.noRowsRenderer,o=e.scrollToIndex,a=e.width,s=Me("ReactVirtualized__List",n);return F.createElement(oe,Oe({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:s,columnWidth:a,columnCount:1,noContentRenderer:l,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:o}))}}]),i}(F.PureComponent),d(me,"propTypes",null),pe);d(We,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:nt,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var ge,ve,ke=(ve=ge=function(r){ee(i,r);function i(){var t,e;E(this,i);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return e=te(this,(t=ne(i)).call.apply(t,[this].concat(l))),d(S(e),"_child",void 0),d(S(e),"_measure",function(){var a=e.props,s=a.cache,c=a.columnIndex,h=c===void 0?0:c,u=a.parent,f=a.rowIndex,m=f===void 0?e.props.index||0:f,p=e._getCellMeasurements(),g=p.height,z=p.width;(g!==s.getHeight(m,h)||z!==s.getWidth(m,h))&&(s.set(m,h,z,g),u&&typeof u.recomputeGridSize=="function"&&u.recomputeGridSize({columnIndex:h,rowIndex:m}))}),d(S(e),"_registerChild",function(a){a&&!(a instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),e._child=a,a&&e._maybeMeasureCell()}),e}return D(i,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return typeof e=="function"?e({measure:this._measure,registerChild:this._registerChild}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,n=this._child||Fe.findDOMNode(this);if(n&&n.ownerDocument&&n.ownerDocument.defaultView&&n instanceof n.ownerDocument.defaultView.HTMLElement){var l=n.style.width,o=n.style.height;e.hasFixedWidth()||(n.style.width="auto"),e.hasFixedHeight()||(n.style.height="auto");var a=Math.ceil(n.offsetHeight),s=Math.ceil(n.offsetWidth);return l&&(n.style.width=l),o&&(n.style.height=o),{height:a,width:s}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,n=e.cache,l=e.columnIndex,o=l===void 0?0:l,a=e.parent,s=e.rowIndex,c=s===void 0?this.props.index||0:s;if(!n.has(c,o)){var h=this._getCellMeasurements(),u=h.height,f=h.width;n.set(c,o,f,u),a&&typeof a.invalidateCellSizeAfterRender=="function"&&a.invalidateCellSizeAfterRender({columnIndex:o,rowIndex:c})}}}]),i}(F.PureComponent),d(ge,"propTypes",null),ve);d(ke,"__internalCellMeasurerFlag",!1);var ot=30,it=100,lt=function(){function r(){var i=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};E(this,r),d(this,"_cellHeightCache",{}),d(this,"_cellWidthCache",{}),d(this,"_columnWidthCache",{}),d(this,"_rowHeightCache",{}),d(this,"_defaultHeight",void 0),d(this,"_defaultWidth",void 0),d(this,"_minHeight",void 0),d(this,"_minWidth",void 0),d(this,"_keyMapper",void 0),d(this,"_hasFixedHeight",void 0),d(this,"_hasFixedWidth",void 0),d(this,"_columnCount",0),d(this,"_rowCount",0),d(this,"columnWidth",function(h){var u=h.index,f=i._keyMapper(0,u);return i._columnWidthCache[f]!==void 0?i._columnWidthCache[f]:i._defaultWidth}),d(this,"rowHeight",function(h){var u=h.index,f=i._keyMapper(u,0);return i._rowHeightCache[f]!==void 0?i._rowHeightCache[f]:i._defaultHeight});var e=t.defaultHeight,n=t.defaultWidth,l=t.fixedHeight,o=t.fixedWidth,a=t.keyMapper,s=t.minHeight,c=t.minWidth;this._hasFixedHeight=l===!0,this._hasFixedWidth=o===!0,this._minHeight=s||0,this._minWidth=c||0,this._keyMapper=a||rt,this._defaultHeight=Math.max(this._minHeight,typeof e=="number"?e:ot),this._defaultWidth=Math.max(this._minWidth,typeof n=="number"?n:it)}return D(r,[{key:"clear",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=this._keyMapper(t,e);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(t,e)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(t,e);return this._cellHeightCache[n]!==void 0?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(t,e);return this._cellWidthCache[n]!==void 0?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=this._keyMapper(t,e);return this._cellHeightCache[n]!==void 0}},{key:"set",value:function(t,e,n,l){var o=this._keyMapper(t,e);e>=this._columnCount&&(this._columnCount=e+1),t>=this._rowCount&&(this._rowCount=t+1),this._cellHeightCache[o]=l,this._cellWidthCache[o]=n,this._updateCachedColumnAndRowSizes(t,e)}},{key:"_updateCachedColumnAndRowSizes",value:function(t,e){if(!this._hasFixedWidth){for(var n=0,l=0;l<this._rowCount;l++)n=Math.max(n,this.getWidth(l,e));var o=this._keyMapper(0,e);this._columnWidthCache[o]=n}if(!this._hasFixedHeight){for(var a=0,s=0;s<this._columnCount;s++)a=Math.max(a,this.getHeight(t,s));var c=this._keyMapper(t,0);this._rowHeightCache[c]=a}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),r}();function rt(r,i){return"".concat(r,"-").concat(i)}const U=({count:r,Component:i})=>{const t=F.useMemo(()=>new lt({fixedWidth:!0,defaultHeight:50}),[]);return v("div",{style:{flex:1},children:v(He,{children:({width:e,height:n})=>v(We,{deferredMeasurementCache:t,width:e,height:n,rowCount:r,rowHeight:t.rowHeight,rowRenderer:({index:l,key:o,style:a,parent:s})=>v(ke,{cache:t,columnIndex:0,rowIndex:l,parent:s,children:({registerChild:c})=>v("div",{ref:c,style:a,children:v(i,{index:l})})},o)})})})};try{U.displayName="ReactVirtualizedList",U.__docgenInfo={description:"",displayName:"ReactVirtualizedList",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},Component:{defaultValue:null,description:"",name:"Component",required:!0,type:{name:"ForwardRefExoticComponent<{ index: number; } & RefAttributes<HTMLDivElement>>"}}}}}catch{}const Ct={component:Q},$={render:()=>L("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[L("div",{style:{display:"flex",flexDirection:"row"},children:[v("div",{style:{flex:1},children:"virtua"}),v("div",{style:{flex:1},children:"react-virtualized"})]}),v("div",{style:{display:"flex",flexDirection:"row"},children:v(X,{count:1e4})}),L("div",{style:{display:"flex",flexDirection:"row",flex:1,gap:8},children:[v(Y,{count:1e4,Component:Q}),v(U,{count:1e4,Component:Q})]})]})},B={render:()=>L("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[L("div",{style:{display:"flex",flexDirection:"row"},children:[v("div",{style:{flex:1},children:"virtua"}),v("div",{style:{flex:1},children:"react-virtualized"})]}),v("div",{style:{display:"flex",flexDirection:"row"},children:v(X,{count:1e4})}),L("div",{style:{display:"flex",flexDirection:"row",flex:1,gap:8},children:[v(Y,{count:1e4,Component:ie}),v(U,{count:1e4,Component:ie})]})]})},q={render:()=>L("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[L("div",{style:{display:"flex",flexDirection:"row"},children:[v("div",{style:{flex:1},children:"virtua"}),v("div",{style:{flex:1},children:"react-virtualized"})]}),v("div",{style:{display:"flex",flexDirection:"row"},children:v(X,{count:1e6})}),L("div",{style:{display:"flex",flexDirection:"row",flex:1,gap:8},children:[v(Y,{count:1e6,Component:le}),v(U,{count:1e6,Component:le})]})]})};var Ce,_e,ze;$.parameters={...$.parameters,docs:{...(Ce=$.parameters)==null?void 0:Ce.docs,source:{originalSource:`{
  render: () => {
    const ROW_COUNT = 10000;
    return <div style={{
      height: "100vh",
      display: "flex",
      flexDirection: "column"
    }}>
        <div style={{
        display: "flex",
        flexDirection: "row"
      }}>
          <div style={{
          flex: 1
        }}>virtua</div>
          <div style={{
          flex: 1
        }}>react-virtualized</div>
        </div>
        <div style={{
        display: "flex",
        flexDirection: "row"
      }}>
          <ScrollInput count={ROW_COUNT} />
        </div>
        <div style={{
        display: "flex",
        flexDirection: "row",
        flex: 1,
        gap: 8
      }}>
          <VirtuaList count={ROW_COUNT} Component={ItemWithRenderCount} />
          <ReactVirtualizedList count={ROW_COUNT} Component={ItemWithRenderCount} />
        </div>
      </div>;
  }
}`,...(ze=(_e=$.parameters)==null?void 0:_e.docs)==null?void 0:ze.source}}};var Te,ye,we;B.parameters={...B.parameters,docs:{...(Te=B.parameters)==null?void 0:Te.docs,source:{originalSource:`{
  render: () => {
    const ROW_COUNT = 10000;
    return <div style={{
      height: "100vh",
      display: "flex",
      flexDirection: "column"
    }}>
        <div style={{
        display: "flex",
        flexDirection: "row"
      }}>
          <div style={{
          flex: 1
        }}>virtua</div>
          <div style={{
          flex: 1
        }}>react-virtualized</div>
        </div>
        <div style={{
        display: "flex",
        flexDirection: "row"
      }}>
          <ScrollInput count={ROW_COUNT} />
        </div>
        <div style={{
        display: "flex",
        flexDirection: "row",
        flex: 1,
        gap: 8
      }}>
          <VirtuaList count={ROW_COUNT} Component={HeavyItem} />
          <ReactVirtualizedList count={ROW_COUNT} Component={HeavyItem} />
        </div>
      </div>;
  }
}`,...(we=(ye=B.parameters)==null?void 0:ye.docs)==null?void 0:we.source}}};var xe,Ie,Re;q.parameters={...q.parameters,docs:{...(xe=q.parameters)==null?void 0:xe.docs,source:{originalSource:`{
  render: () => {
    const ROW_COUNT = 1000000;
    return <div style={{
      height: "100vh",
      display: "flex",
      flexDirection: "column"
    }}>
        <div style={{
        display: "flex",
        flexDirection: "row"
      }}>
          <div style={{
          flex: 1
        }}>virtua</div>
          <div style={{
          flex: 1
        }}>react-virtualized</div>
        </div>
        <div style={{
        display: "flex",
        flexDirection: "row"
      }}>
          <ScrollInput count={ROW_COUNT} />
        </div>
        <div style={{
        display: "flex",
        flexDirection: "row",
        flex: 1,
        gap: 8
      }}>
          <VirtuaList count={ROW_COUNT} Component={SimpleItem} />
          <ReactVirtualizedList count={ROW_COUNT} Component={SimpleItem} />
        </div>
      </div>;
  }
}`,...(Re=(Ie=q.parameters)==null?void 0:Ie.docs)==null?void 0:Re.source}}};const _t=["DynamicHeight","HeavyComponent","OneMillion"];export{$ as DynamicHeight,B as HeavyComponent,q as OneMillion,_t as __namedExportsOrder,Ct as default};
//# sourceMappingURL=react-virtualized.stories-39f5790e.js.map
