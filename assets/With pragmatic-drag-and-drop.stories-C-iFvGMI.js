import{j as C}from"./jsx-runtime-DCrfGL6_.js";import{c as ye,r as M}from"./index-98wxwTcn.js";import{r as et}from"./raf-schd.esm-CmoV45_-.js";import{_ as P}from"./defineProperty-CGxbSGuy.js";import{a as R,j as tt}from"./emotion-react.browser.esm-BHyxizD5.js";import{r as rt}from"./index-SCI4cgSJ.js";import{V as ze}from"./VList-A1F22tPX.js";import"./hoist-non-react-statics.cjs-Chi50N7D.js";import"./Virtualizer-C4BvHmVq.js";import"./useRerender-BFndcX2P.js";import"./useChildren-BgszxwjF.js";function nt(e){if(Array.isArray(e))return e}function at(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,a,i,o,c=[],u=!0,l=!1;try{if(i=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=i.call(t)).done)&&(c.push(n.value),c.length!==r);u=!0);}catch(s){l=!0,a=s}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(l)throw a}}return c}}function ie(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ke(e,r){if(e){if(typeof e=="string")return ie(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ie(e,r)}}function it(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ue(e,r){return nt(e)||at(e,r)||Ke(e,r)||it()}var K={},U={};Object.defineProperty(U,"__esModule",{value:!0});U.bind=void 0;function ot(e,r){var t=r.type,n=r.listener,a=r.options;return e.addEventListener(t,n,a),function(){e.removeEventListener(t,n,a)}}U.bind=ot;var Z={},$=ye&&ye.__assign||function(){return $=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},$.apply(this,arguments)};Object.defineProperty(Z,"__esModule",{value:!0});Z.bindAll=void 0;var lt=U;function be(e){if(!(typeof e>"u"))return typeof e=="boolean"?{capture:e}:e}function ut(e,r){if(r==null)return e;var t=$($({},e),{options:$($({},be(r)),be(e.options))});return t}function ct(e,r,t){var n=r.map(function(a){var i=ut(a,t);return(0,lt.bind)(e,i)});return function(){n.forEach(function(i){return i()})}}Z.bindAll=ct;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bindAll=e.bind=void 0;var r=U;Object.defineProperty(e,"bind",{enumerable:!0,get:function(){return r.bind}});var t=Z;Object.defineProperty(e,"bindAll",{enumerable:!0,get:function(){return t.bindAll}})})(K);function st(e){if(Array.isArray(e))return ie(e)}function dt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Be(e){return st(e)||dt(e)||Ke(e)||ft()}function de(e){var r=null;return function(){if(!r){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=e.apply(this,a);r={result:o}}return r.result}}var gt=de(function(){return navigator.userAgent.includes("Firefox")}),_=de(function(){var r=navigator,t=r.userAgent;return t.includes("AppleWebKit")&&!t.includes("Chrome")}),oe={isLeavingWindow:Symbol("leaving"),isEnteringWindow:Symbol("entering")};function pt(e){var r=e.dragLeave;return _()?r.hasOwnProperty(oe.isLeavingWindow):!1}(function(){if(typeof window>"u"||!_())return;function r(){return{enterCount:0,isOverWindow:!1}}var t=r();function n(){t=r()}K.bindAll(window,[{type:"dragstart",listener:function(){t.enterCount=0,t.isOverWindow=!0}},{type:"drop",listener:n},{type:"dragend",listener:n},{type:"dragenter",listener:function(i){!t.isOverWindow&&t.enterCount===0&&(i[oe.isEnteringWindow]=!0),t.isOverWindow=!0,t.enterCount++}},{type:"dragleave",listener:function(i){t.enterCount--,t.isOverWindow&&t.enterCount===0&&(i[oe.isLeavingWindow]=!0,t.isOverWindow=!1)}}],{capture:!0})})();function vt(e){return"nodeName"in e}function mt(e){return vt(e)&&e.ownerDocument!==document}function yt(e){var r=e.dragLeave,t=r.type,n=r.relatedTarget;return t!=="dragleave"?!1:_()?pt({dragLeave:r}):n==null?!0:gt()?mt(n):n instanceof HTMLIFrameElement}function bt(e){var r=e.onDragEnd;return[{type:"pointermove",listener:function(){var t=0;return function(){if(t<20){t++;return}r()}}()},{type:"pointerdown",listener:r}]}function ht(e,r){var t=r.property,n=r.rule,a=r.priority,i=a===void 0?"":a,o=e.style.getPropertyValue(t),c=e.style.getPropertyPriority(t);return e.style.setProperty(t,n,i),function(){e.style.setProperty(t,o,c)}}function xt(e){var r=e.current,t=document.elementFromPoint(r.input.clientX,r.input.clientY);return t instanceof HTMLElement?ht(t,{property:"pointer-events",rule:"auto",priority:"important"}):null}function St(){var e,r=document.createElement("style");return r.setAttribute("pdnd-post-drag-fix","true"),document.head.appendChild(r),(e=r.sheet)===null||e===void 0||e.insertRule("* { pointer-events: none !important; }"),function(){document.head.removeChild(r)}}function he(e){var r=e.current;queueMicrotask(function(){var t=xt({current:r}),n=St();function a(){i(),t==null||t(),n()}var i=K.bindAll(window,[{type:"pointerdown",listener:a},{type:"pointermove",listener:a},{type:"focusin",listener:a},{type:"focusout",listener:a},{type:"dragstart",listener:a},{type:"dragenter",listener:a},{type:"dragover",listener:a}],{capture:!0})})}function fe(e){return{altKey:e.altKey,button:e.button,buttons:e.buttons,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var te=et(function(e){return e()}),N=function(){var e=null;function r(n){var a=requestAnimationFrame(function(){e=null,n()});e={frameId:a,fn:n}}function t(){e&&(cancelAnimationFrame(e.frameId),e.fn(),e=null)}return{schedule:r,flush:t}}();function Ot(e){var r=e.source,t=e.initial,n=e.dispatchEvent,a={dropTargets:[]};function i(c){n(c),a={dropTargets:c.payload.location.current.dropTargets}}var o={start:function(u){var l=u.nativeSetDragImage,s={current:t,previous:a,initial:t};i({eventName:"onGenerateDragPreview",payload:{source:r,location:s,nativeSetDragImage:l}}),N.schedule(function(){i({eventName:"onDragStart",payload:{source:r,location:s}})})},dragUpdate:function(u){var l=u.current;N.flush(),te.cancel(),i({eventName:"onDropTargetChange",payload:{source:r,location:{initial:t,previous:a,current:l}}})},drag:function(u){var l=u.current;te(function(){N.flush();var s={initial:t,previous:a,current:l};i({eventName:"onDrag",payload:{source:r,location:s}})})},drop:function(u){var l=u.current,s=u.updatedSourcePayload;N.flush(),te.cancel(),i({eventName:"onDrop",payload:{source:s??r,location:{current:l,previous:a,initial:t}}})}};return o}var le={isActive:!1};function Ne(){return!le.isActive}function Dt(e){return e.dataTransfer?e.dataTransfer.setDragImage.bind(e.dataTransfer):null}function Et(e){var r=e.current,t=e.next;if(r.length!==t.length)return!0;for(var n=0;n<r.length;n++)if(r[n].element!==t[n].element)return!0;return!1}function wt(e){var r=e.event,t=e.dragType,n=e.getDropTargetsOver,a=e.dispatchEvent;if(!Ne())return;var i=At({event:r,dragType:t,getDropTargetsOver:n});le.isActive=!0;var o={current:i};re({event:r,current:i.dropTargets});var c=Ot({source:t.payload,dispatchEvent:a,initial:i});function u(d){var g=Et({current:o.current.dropTargets,next:d.dropTargets});o.current=d,g&&c.dragUpdate({current:o.current})}function l(d){var g=fe(d),p=n({target:d.target,input:g,source:t.payload,current:o.current.dropTargets});p.length&&(d.preventDefault(),re({event:d,current:p})),u({dropTargets:p,input:g})}function s(){o.current.dropTargets.length&&u({dropTargets:[],input:o.current.input}),c.drop({current:o.current,updatedSourcePayload:null}),f()}function f(){le.isActive=!1,v()}var v=K.bindAll(window,[{type:"dragover",listener:function(g){l(g),c.drag({current:o.current})}},{type:"dragenter",listener:l},{type:"dragleave",listener:function(g){yt({dragLeave:g})&&(u({input:o.current.input,dropTargets:[]}),t.startedFrom==="external"&&s())}},{type:"drop",listener:function(g){if(!o.current.dropTargets.length){s();return}g.preventDefault(),re({event:g,current:o.current.dropTargets}),c.drop({current:o.current,updatedSourcePayload:t.type==="external"?t.getDropPayload(g):null}),f(),t.startedFrom==="internal"&&he({current:o.current})}},{type:"dragend",listener:function(g){s(),t.startedFrom==="internal"&&he({current:o.current})}}].concat(Be(bt({onDragEnd:s}))),{capture:!0});c.start({nativeSetDragImage:Dt(r)})}function re(e){var r,t=e.event,n=e.current,a=(r=n[0])===null||r===void 0?void 0:r.dropEffect;a!=null&&t.dataTransfer&&(t.dataTransfer.dropEffect=a)}function At(e){var r=e.event,t=e.dragType,n=e.getDropTargetsOver,a=fe(r);if(t.startedFrom==="external")return{input:a,dropTargets:[]};var i=n({input:a,source:t.payload,target:r.target,current:[]});return{input:a,dropTargets:i}}var xe={canStart:Ne,start:wt},ue=new Map;function Tt(e){var r=e.typeKey,t=e.mount,n=ue.get(r);if(n)return n.usageCount++,n;var a={typeKey:r,unmount:t(),usageCount:1};return ue.set(r,a),a}function Pt(e){var r=Tt(e);return function(){r.usageCount--,!(r.usageCount>0)&&(r.unmount(),ue.delete(e.typeKey))}}function B(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(){r.forEach(function(a){return a()})}}function Ge(e,r){var t=r.attribute,n=r.value;return e.setAttribute(t,n),function(){return e.removeAttribute(t)}}function Se(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function F(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Se(Object(t),!0).forEach(function(n){P(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Se(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ne(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=jt(e))||r){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,c;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return i=l.done,l},e:function(l){o=!0,c=l},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(o)throw c}}}}function jt(e,r){if(e){if(typeof e=="string")return Oe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Oe(e,r)}}function Oe(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ae(e){return e.slice(0).reverse()}function It(e){var r=e.typeKey,t=e.defaultDropEffect,n=new WeakMap,a="data-drop-target-for-".concat(r),i="[".concat(a,"]");function o(d){return n.set(d.element,d),function(){return n.delete(d.element)}}function c(d){return B(Ge(d.element,{attribute:a,value:"true"}),o(d))}function u(d){var g,p,m,S,y=d.source,h=d.target,x=d.input,O=d.result,b=O===void 0?[]:O;if(h==null)return b;if(!(h instanceof Element))return h instanceof Node?u({source:y,target:h.parentElement,input:x,result:b}):b;var w=h.closest(i);if(w==null)return b;var D=n.get(w);if(D==null)return b;var A={input:x,source:y,element:D.element};if(D.canDrop&&!D.canDrop(A))return u({source:y,target:D.element.parentElement,input:x,result:b});var T=(g=(p=D.getData)===null||p===void 0?void 0:p.call(D,A))!==null&&g!==void 0?g:{},j=(m=(S=D.getDropEffect)===null||S===void 0?void 0:S.call(D,A))!==null&&m!==void 0?m:t,E={data:T,element:D.element,dropEffect:j,isActiveDueToStickiness:!1};return u({source:y,target:D.element.parentElement,input:x,result:[].concat(Be(b),[E])})}function l(d){var g=d.eventName,p=d.payload,m=ne(p.location.current.dropTargets),S;try{for(m.s();!(S=m.n()).done;){var y,h=S.value,x=n.get(h.element),O=F(F({},p),{},{self:h});x==null||(y=x[g])===null||y===void 0||y.call(x,O)}}catch(b){m.e(b)}finally{m.f()}}var s={onGenerateDragPreview:l,onDrag:l,onDragStart:l,onDrop:l,onDropTargetChange:function(g){var p=g.payload,m=new Set(p.location.current.dropTargets.map(function(W){return W.element})),S=new Set,y=ne(p.location.previous.dropTargets),h;try{for(y.s();!(h=y.n()).done;){var x,O=h.value;S.add(O.element);var b=n.get(O.element),w=m.has(O.element),D=F(F({},p),{},{self:O});if(b==null||(x=b.onDropTargetChange)===null||x===void 0||x.call(b,D),!w){var A;b==null||(A=b.onDragLeave)===null||A===void 0||A.call(b,D)}}}catch(W){y.e(W)}finally{y.f()}var T=ne(p.location.current.dropTargets),j;try{for(T.s();!(j=T.n()).done;){var E,k,ee=j.value;if(!S.has(ee.element)){var me=F(F({},p),{},{self:ee}),I=n.get(ee.element);I==null||(E=I.onDropTargetChange)===null||E===void 0||E.call(I,me),I==null||(k=I.onDragEnter)===null||k===void 0||k.call(I,me)}}}catch(W){T.e(W)}finally{T.f()}}};function f(d){s[d.eventName](d)}function v(d){var g=d.source,p=d.target,m=d.input,S=d.current,y=u({source:g,target:p,input:m});if(y.length>=S.length)return y;for(var h=ae(S),x=ae(y),O=[],b=0;b<h.length;b++){var w,D=h[b],A=x[b];if(A!=null){O.push(A);continue}var T=O[b-1],j=h[b-1];if((T==null?void 0:T.element)!==(j==null?void 0:j.element))break;var E=n.get(D.element);if(!E)break;var k={input:m,source:g,element:E.element};if(E.canDrop&&!E.canDrop(k)||!((w=E.getIsSticky)!==null&&w!==void 0&&w.call(E,k)))break;O.push(F(F({},D),{},{isActiveDueToStickiness:!0}))}return ae(O)}return{dropTargetForConsumers:c,getIsOver:v,dispatchEvent:f}}function Ft(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Ct(e))||r){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,c;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return i=l.done,l},e:function(l){o=!0,c=l},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(o)throw c}}}}function Ct(e,r){if(e){if(typeof e=="string")return De(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return De(e,r)}}function De(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ee(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Rt(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ee(Object(t),!0).forEach(function(n){P(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ee(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Lt(){var e=new Set,r=null;function t(i){r&&(!i.canMonitor||i.canMonitor(r.canMonitorArgs))&&r.active.add(i)}function n(i){var o=Rt({},i);return e.add(o),t(o),function(){e.delete(o),r&&r.active.delete(o)}}function a(i){var o=i.eventName,c=i.payload;if(o==="onGenerateDragPreview"){r={canMonitorArgs:{initial:c.location.initial,source:c.source},active:new Set};var u=Ft(e),l;try{for(u.s();!(l=u.n()).done;){var s=l.value;t(s)}}catch(m){u.e(m)}finally{u.f()}}if(r){for(var f=Array.from(r.active),v=0,d=f;v<d.length;v++){var g=d[v];if(r.active.has(g)){var p;(p=g[o])===null||p===void 0||p.call(g,c)}}o==="onDrop"&&(r.active.clear(),r=null)}}return{dispatchEvent:a,monitorForConsumers:n}}function kt(e){var r=e.typeKey,t=e.mount,n=e.dispatchEventToSource,a=e.defaultDropEffect,i=Lt(),o=It({typeKey:r,defaultDropEffect:a});function c(s){n==null||n(s),o.dispatchEvent(s),i.dispatchEvent(s)}function u(s){var f=s.event,v=s.dragType;xe.start({event:f,dragType:v,getDropTargetsOver:o.getIsOver,dispatchEvent:c})}function l(){function s(){var f={canStart:xe.canStart,start:u};return t(f)}return Pt({typeKey:r,mount:s})}return{registerUsage:l,dropTarget:o.dropTargetForConsumers,monitor:i.monitorForConsumers}}var Mt=de(function(){return navigator.userAgent.toLocaleLowerCase().includes("android")}),$t="pdnd:android-fallback",we="text/plain",Ht="text/uri-list",Wt="application/vnd.pdnd",Q=new WeakMap;function zt(e){return Q.set(e.element,e),function(){Q.delete(e.element)}}var ge=kt({typeKey:"element",defaultDropEffect:"move",mount:function(r){return K.bind(document,{type:"dragstart",listener:function(n){var a,i,o,c,u,l;if(r.canStart(n)&&!n.defaultPrevented&&n.dataTransfer){var s=n.target;if(!(s instanceof HTMLElement))return null;var f=Q.get(s);if(!f)return null;var v=fe(n),d={element:f.element,dragHandle:(a=f.dragHandle)!==null&&a!==void 0?a:null,input:v};if(f.canDrag&&!f.canDrag(d))return n.preventDefault(),null;if(f.dragHandle){var g=document.elementFromPoint(v.clientX,v.clientY);if(!f.dragHandle.contains(g))return n.preventDefault(),null}var p=(i=(o=f.getInitialDataForExternal)===null||o===void 0?void 0:o.call(f,d))!==null&&i!==void 0?i:null;if(p)for(var m=0,S=Object.entries(p);m<S.length;m++){var y=Ue(S[m],2),h=y[0],x=y[1];n.dataTransfer.setData(h,x??"")}var O=n.dataTransfer.types;Mt()&&!O.includes(we)&&!O.includes(Ht)&&n.dataTransfer.setData(we,$t),n.dataTransfer.setData(Wt,"");var b={element:f.element,dragHandle:(c=f.dragHandle)!==null&&c!==void 0?c:null,data:(u=(l=f.getInitialData)===null||l===void 0?void 0:l.call(f,d))!==null&&u!==void 0?u:{}},w={type:"element",payload:b,startedFrom:"internal"};r.start({event:n,dragType:w})}}})},dispatchEventToSource:function(r){var t,n,a=r.eventName,i=r.payload;(t=Q.get(i.source.element))===null||t===void 0||(n=t[a])===null||n===void 0||n.call(t,i)}}),Kt=ge.dropTarget,pe=ge.monitor;function Ut(e){return B(ge.registerUsage(),zt(e),Ge(e.element,{attribute:"draggable",value:"true"}))}function Bt(e){var r=e.list,t=e.startIndex,n=e.finishIndex;if(t===-1||n===-1)return r;var a=Array.from(r),i=a.splice(t,1),o=Ue(i,1),c=o[0];return a.splice(n,0,c),a}function Nt(e){return function(r){var t=r.container;return Object.assign(t.style,{borderLeft:"".concat(e.x," solid transparent"),borderTop:"".concat(e.y," solid transparent")}),{x:0,y:0}}}function Gt(){return{x:0,y:0}}function qt(e){var r=e.render,t=e.nativeSetDragImage,n=e.getOffset,a=n===void 0?Gt:n,i=document.createElement("div");Object.assign(i.style,{position:"fixed",top:0,left:0,zIndex:2147483647,pointerEvents:"none"}),document.body.append(i);var o=r({container:i}),c=a({container:i});_()&&queueMicrotask(function(){var s=i.getBoundingClientRect();s.width!==0&&(i.style.left="-".concat(s.width-1e-4,"px"))}),t==null||t(i,c.x,c.y);function u(){l(),o==null||o(),document.body.removeChild(i)}var l=pe({onDragStart:u,onDrop:u})}function Ae(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Te(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ae(Object(t),!0).forEach(function(n){P(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ae(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Xt={top:function(r,t){return Math.abs(t.y-r.top)},right:function(r,t){return Math.abs(r.right-t.x)},bottom:function(r,t){return Math.abs(r.bottom-t.y)},left:function(r,t){return Math.abs(t.x-r.left)}},qe=Symbol("closestEdge");function Yt(e,r){var t,n,a=r.element,i=r.input,o=r.allowedEdges,c={x:i.clientX,y:i.clientY},u=a.getBoundingClientRect(),l=o.map(function(f){return{edge:f,value:Xt[f](u,c)}}),s=(t=(n=l.sort(function(f,v){return f.value-v.value})[0])===null||n===void 0?void 0:n.edge)!==null&&t!==void 0?t:null;return Te(Te({},e),{},P({},qe,s))}function Xe(e){var r;return(r=e[qe])!==null&&r!==void 0?r:null}function Vt(e){var r=e.startIndex,t=e.closestEdgeOfTarget,n=e.indexOfTarget,a=e.axis;if(r===-1||n===-1||r===n)return r;if(t==null)return n;var i=a==="vertical"&&t==="bottom"||a==="horizontal"&&t==="right",o=r<n;return o?i?n:n-1:i?n+1:n}var z=new Map,J=new Set;function Ye(e){Jt(e);var r=z.get(e);if(r)return r;var t={timeOfEngagementStart:Date.now()};return z.set(e,t),t}function Jt(e){J.add(e)}function Qt(e){J.clear(),e(),z.forEach(function(r,t){J.has(t)||z.delete(t)}),J.clear()}function Zt(){z.clear()}var Pe=new Map;function _t(e){var r=Pe.get(e);if(r)return r;var t=er(e);return Pe.set(e,t),t}function er(e){var r={type:"idle"},t=[];function n(u){if(r.type==="running"){var l=u-r.timeLastFrameFinished,s=r,f=s.latestArgs,v=document.elementFromPoint(f.location.current.input.clientX,f.location.current.input.clientY);Qt(function(){t.forEach(function(d){return d({underUsersPointer:v,latestArgs:f,timeSinceLastFrame:l})})}),r.timeLastFrameFinished=u,r.frameId=requestAnimationFrame(n)}}function a(){r.type!=="idle"&&(cancelAnimationFrame(r.frameId),Zt(),r={type:"idle"})}function i(u){r.type==="idle"&&(r={type:"initializing",latestArgs:u,frameId:requestAnimationFrame(function(l){r.type==="initializing"&&(r={type:"running",timeLastFrameFinished:l,latestArgs:r.latestArgs,frameId:requestAnimationFrame(n)})})})}function o(u){if(r.type==="idle"){i(u);return}r.latestArgs=u}e({onDragStart:i,onDropTargetChange:o,onDrag:o,onDrop:a});var c={onFrame:function(l){t.push(l)}};return c}var ce="data-auto-scrollable",tr="[".concat(ce,'="true"]');function rr(e){return e.setAttribute(ce,"true"),function(){return e.removeAttribute(ce)}}function je(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ie(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?je(Object(t),!0).forEach(function(n){P(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):je(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nr={startHitboxAtPercentageRemainingOfElement:{top:.25,right:.25,bottom:.25,left:.25},maxScrollAtPercentageRemainingOfHitbox:{top:.5,right:.5,bottom:.5,left:.5},timeDampeningDurationMs:300,maxMainAxisHitboxSize:180},ar={standard:15*60,fast:25*60};function Ve(e){var r;return Ie(Ie({},nr),{},{maxPixelScrollPerSecond:ar[(r=e==null?void 0:e.maxScrollSpeed)!==null&&r!==void 0?r:"standard"]})}var ir={top:function(r){return r.scrollTop>0},right:function(r){return Math.ceil(r.scrollLeft)+r.clientWidth<r.scrollWidth},bottom:function(r){return Math.ceil(r.scrollTop)+r.clientHeight<r.scrollHeight},left:function(r){return r.scrollLeft>0}},or=["top","right","bottom","left"],lr={top:"vertical",right:"horizontal",bottom:"vertical",left:"horizontal"},Fe={start:"top",end:"bottom",point:"y",size:"height"},Ce={start:"left",end:"right",point:"x",size:"width"},Je={vertical:{mainAxis:Fe,crossAxis:Ce},horizontal:{mainAxis:Ce,crossAxis:Fe}},ve={top:"start",right:"end",bottom:"end",left:"start"};function G(e){var r=e.edge,t=e.axis;return function(a){var i,o=a.clientRect,c=a.config,u=Je[t],l=u.mainAxis,s=u.crossAxis,f=ve[r],v=Math.min(c.startHitboxAtPercentageRemainingOfElement[r]*o[l.size],c.maxMainAxisHitboxSize);return DOMRect.fromRect((i={},P(i,l.point,f==="start"?o[l.point]:o[l.point]+o[l.size]-v),P(i,s.point,o[s.point]),P(i,l.size,v),P(i,s.size,o[s.size]),i))}}var ur={top:G({axis:"vertical",edge:"top"}),right:G({axis:"horizontal",edge:"right"}),bottom:G({axis:"vertical",edge:"bottom"}),left:G({axis:"horizontal",edge:"left"})};function se(e){var r=e.startOfRange,t=e.endOfRange,n=e.value,a=r<t;if(!a||n<r)return 0;if(n>t)return 1;var i=t-r;return(n-r)/i}function cr(e){var r=e.timeSinceLastFrame,t=e.config,n=t.maxPixelScrollPerSecond/1e3,a=Math.ceil(n*r),i=t.maxPixelScrollPerSecond/60;return Math.min(a,i)}function sr(e){var r=e.client,t=e.axis,n=e.edge,a=e.hitbox,i=e.config,o=Je[t].mainAxis,c=ve[n],u=a[o.size]*i.maxScrollAtPercentageRemainingOfHitbox[n];if(c==="end")return se({startOfRange:a[o.start],endOfRange:a[o.end]-u,value:r[o.point]});var l=se({startOfRange:a[o.start]+u,endOfRange:a[o.end],value:r[o.point]});return 1-l}function q(e){var r=e.client,t=e.timeSinceLastFrame,n=e.engagement,a=e.axis,i=e.hitbox,o=e.edge,c=e.isDistanceDampeningEnabled,u=e.config,l=cr({timeSinceLastFrame:t,config:u}),s=c?sr({client:r,edge:o,hitbox:i,axis:a,config:u}):1,f=se({startOfRange:n.timeOfEngagementStart,endOfRange:n.timeOfEngagementStart+u.timeDampeningDurationMs,value:Date.now()}),v=s*f,d=Math.max(l*v,1),g=ve[o];return g==="end"?d:-1*d}function dr(e,r){return r==="all"||e===r}function fr(e){var r=e.client,t=e.clientRect;return r.x>=t.x&&r.x<=t.x+t.width&&r.y>=t.y&&r.y<=t.y+t.height}function gr(e){return e.getBoundingClientRect()}function Qe(e){var r=e.element,t=e.input,n=e.timeSinceLastFrame,a=e.engagement,i=e.config,o=e.allowedAxis,c=e.getRect,u=c===void 0?gr:c,l={x:t.clientX,y:t.clientY},s=u(r),f=or.reduce(function(g,p){var m=ur[p]({clientRect:s,config:i}),S=lr[p];return!dr(S,o)||!fr({client:l,clientRect:m})||!ir[p](r)||g.set(p,{edge:p,hitbox:m}),g},new Map),v=function(){var g="horizontal",p=f.get("left");if(p)return q({client:l,edge:p.edge,hitbox:p.hitbox,axis:g,timeSinceLastFrame:n,engagement:a,isDistanceDampeningEnabled:!0,config:i});var m=f.get("right");return m?q({client:l,edge:m.edge,hitbox:m.hitbox,axis:g,timeSinceLastFrame:n,engagement:a,isDistanceDampeningEnabled:!0,config:i}):0}(),d=function(){var g="vertical",p=f.get("bottom");if(p)return q({client:l,edge:p.edge,hitbox:p.hitbox,axis:g,timeSinceLastFrame:n,engagement:a,isDistanceDampeningEnabled:!0,config:i});var m=f.get("top");return m?q({client:l,edge:m.edge,hitbox:m.hitbox,axis:g,timeSinceLastFrame:n,engagement:a,isDistanceDampeningEnabled:!0,config:i}):0}();return{left:v,top:d}}function pr(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=vr(e))||r){t&&(e=t);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,c;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return i=l.done,l},e:function(l){o=!0,c=l},f:function(){try{!i&&t.return!=null&&t.return()}finally{if(o)throw c}}}}function vr(e,r){if(e){if(typeof e=="string")return Re(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Re(e,r)}}function Re(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ze(e){return!!(e.top||e.left)}function _e(e){var r,t,n,a=e.target,i=e.input,o=e.source,c=e.findEntry,u=e.timeSinceLastFrame,l=e.available,s=l===void 0?{top:!0,left:!0}:l;if(!Ze(s)||!a)return s;var f=a.closest(tr);if(!f)return s;var v=c(f);if(!v)return s;function d(){var x;return _e({target:(x=f==null?void 0:f.parentElement)!==null&&x!==void 0?x:null,findEntry:c,source:o,timeSinceLastFrame:u,input:i,available:s})}var g={input:i,source:o,element:f};if(v.canScroll&&!v.canScroll(g))return d();var p=Ye(f),m=Ve((r=v.getConfiguration)===null||r===void 0?void 0:r.call(v,g)),S=(t=(n=v.getAllowedAxis)===null||n===void 0?void 0:n.call(v,g))!==null&&t!==void 0?t:"all",y=Qe({element:f,engagement:p,input:i,timeSinceLastFrame:u,allowedAxis:S,config:m}),h={top:0,left:0};return s.top&&y.top!==0&&(h.top=y.top,s.top=!1),s.left&&y.left!==0&&(h.left=y.left,s.left=!1),(h.top!==0||h.left!==0)&&f.scrollBy(h),d()}function mr(e){var r=e.input,t=e.timeSinceLastFrame,n=e.available,a=e.source,i=e.entries,o=document.documentElement,c={input:r,source:a,element:o},u=pr(i),l;try{for(u.s();!(l=u.n()).done;){var s,f,v,d=l.value;if(!(d.canScroll&&!d.canScroll(c))){var g=Ye(o),p=Ve((s=d.getConfiguration)===null||s===void 0?void 0:s.call(d,c)),m=(f=(v=d.getAllowedAxis)===null||v===void 0?void 0:v.call(d,c))!==null&&f!==void 0?f:"all",S=Qe({element:o,engagement:g,input:r,config:p,allowedAxis:m,getRect:function(x){return DOMRect.fromRect({y:0,x:0,width:x.clientWidth,height:x.clientHeight})},timeSinceLastFrame:t}),y={top:n.top?S.top:0,left:n.left?S.left:0};(y.top!==0||y.left!==0)&&o.scrollBy(y);break}}}catch(h){u.e(h)}finally{u.f()}}function yr(e){var r=e.input,t=e.findEntry,n=e.timeSinceLastFrame,a=e.source,i=e.getWindowScrollEntries,o=e.underUsersPointer,c=_e({target:o,timeSinceLastFrame:n,input:r,source:a,findEntry:t});Ze(c)&&mr({input:r,source:a,entries:i(),timeSinceLastFrame:n,available:c})}function Le(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function br(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Le(Object(t),!0).forEach(function(n){P(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Le(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function hr(e){var r=e.monitor,t=new Map,n=new Set;function a(l){return t.set(l.element,l),B(rr(l.element),function(){return t.delete(l.element)})}function i(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=br({},l);return n.add(s),function(){return n.delete(s)}}function o(l){var s;return(s=t.get(l))!==null&&s!==void 0?s:null}function c(){return Array.from(n)}function u(l){var s=l.latestArgs,f=l.underUsersPointer,v=l.timeSinceLastFrame;yr({input:s.location.current.input,source:s.source,findEntry:o,underUsersPointer:f,timeSinceLastFrame:v,getWindowScrollEntries:c})}return _t(r).onFrame(u),{autoScroll:a,autoScrollWindow:i}}var xr=hr({monitor:pe}),Sr=xr.autoScroll,L={borderRadius:0,thickness:2,backgroundColor:"var(--ds-border-selected, #0C66E4)"},H=8,Or=R({display:"block",position:"absolute",zIndex:1,pointerEvents:"none",background:L.backgroundColor,"::before":{content:'""',width:H,height:H,boxSizing:"border-box",position:"absolute",border:"".concat(L.thickness,"px solid ").concat(L.backgroundColor),borderRadius:"50%"}}),X=(L.thickness-H)/2,ke=H/2,Dr={horizontal:R({height:L.thickness,left:ke,right:0,"::before":{left:-H}}),vertical:R({width:L.thickness,top:ke,bottom:0,"::before":{top:-H}})},Er={top:"horizontal",bottom:"horizontal",left:"vertical",right:"vertical"},wr={top:R({top:"var(--local-line-offset)","::before":{top:X}}),right:R({right:"var(--local-line-offset)","::before":{right:X}}),bottom:R({bottom:"var(--local-line-offset)","::before":{bottom:X}}),left:R({left:"var(--local-line-offset)","::before":{left:X}})};function Ar(e){var r=e.edge,t=e.gap,n=t===void 0?"0px":t,a="calc(-0.5 * (".concat(n," + ").concat(L.thickness,"px))"),i=Er[r];return tt("div",{css:[Or,Dr[i],wr[r]],style:{"--local-line-offset":a}})}const Wr={component:ze},Y={type:"idle"},Me={type:"dragging"},Tr=({id:e})=>{const r=M.useRef(null),t=M.useRef(null),[n,a]=M.useState(Y);return M.useEffect(()=>{const i=r.current,o={id:e};return B(Ut({element:i,dragHandle:t.current,getInitialData:()=>o,onGenerateDragPreview({nativeSetDragImage:c}){qt({nativeSetDragImage:c,getOffset:Nt({x:"16px",y:"8px"}),render({container:u}){return a({type:"preview",container:u}),()=>a(Me)}})},onDragStart(){a(Me)},onDrop(){a(Y)}}),Kt({element:i,canDrop({source:c}){return c.data.id!==e},getIsSticky:()=>!0,getData({input:c}){return Yt(o,{element:i,input:c,allowedEdges:["top","bottom"]})},onDrag({self:c}){const u=Xe(c.data);a(l=>l.type==="is-over"&&l.closestEdge===u?l:{type:"is-over",closestEdge:u})},onDragLeave(){a(Y)},onDrop(){a(Y)}}))},[e]),C.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",columnGap:16,padding:"8px 16px",height:40,borderBottom:"solid 1px #ccc",background:"#fff",opacity:n.type==="dragging"?.4:void 0,zIndex:n.type==="is-over"&&n.closestEdge?1:void 0,pointerEvents:"auto"},ref:r,children:[C.jsx("div",{ref:t,style:{cursor:"grab"},children:"⠿"}),C.jsx("div",{children:e}),n.type==="is-over"&&n.closestEdge&&C.jsx(Ar,{edge:n.closestEdge}),n.type==="preview"&&rt.createPortal(C.jsx("div",{style:{padding:"8px 16px",background:"#fff"},children:e}),n.container)]})},V={name:"With pragmatic-drag-and-drop",render:()=>{const[e,r]=M.useState(()=>Array.from({length:1e3},(t,n)=>({id:n+1})));return M.useEffect(()=>{const t=document.getElementById("vlist");return B(pe({onDrop({location:n,source:a}){const i=n.current.dropTargets[0];if(!i)return;const o=e.findIndex(l=>l.id===a.data.id);if(o<0)return;const c=e.findIndex(l=>l.id===i.data.id);if(c<0)return;const u=Vt({startIndex:o,closestEdgeOfTarget:Xe(i.data),indexOfTarget:c,axis:"vertical"});u!==o&&r(l=>Bt({list:l,startIndex:o,finishIndex:u}))}}),Sr({canScroll:()=>!0,element:t}))},[e]),C.jsx(ze,{id:"vlist",style:{width:400,height:600},children:e.map(t=>C.jsx(Tr,{id:t.id},t.id))})}};var $e,He,We;V.parameters={...V.parameters,docs:{...($e=V.parameters)==null?void 0:$e.docs,source:{originalSource:`{
  name: "With pragmatic-drag-and-drop",
  render: () => {
    const [items, setItems] = useState(() => Array.from({
      length: 1000
    }, (_, i) => ({
      id: i + 1
    })));
    useEffect(() => {
      // get scrollable element of VList
      const scrollContainer = document.getElementById("vlist")!;
      return combine(monitorForElements({
        onDrop({
          location,
          source
        }) {
          const target = location.current.dropTargets[0];
          if (!target) {
            return;
          }
          const startIndex = items.findIndex(item => item.id === source.data.id);
          if (startIndex < 0) {
            return;
          }
          const indexOfTarget = items.findIndex(item => item.id === target.data.id);
          if (indexOfTarget < 0) {
            return;
          }
          const finishIndex = getReorderDestinationIndex({
            startIndex,
            closestEdgeOfTarget: extractClosestEdge(target.data),
            indexOfTarget,
            axis: "vertical"
          });
          if (finishIndex !== startIndex) {
            setItems(prev => {
              return reorder({
                list: prev,
                startIndex,
                finishIndex
              });
            });
          }
        }
      }), autoScrollForElements({
        canScroll: () => true,
        element: scrollContainer
      }));
    }, [items]);
    return <VList id="vlist" style={{
      width: 400,
      height: 600
    }}>
        {items.map(item => <SortableItem key={item.id} id={item.id} />)}
      </VList>;
  }
}`,...(We=(He=V.parameters)==null?void 0:He.docs)==null?void 0:We.source}}};const zr=["Default"];export{V as Default,zr as __namedExportsOrder,Wr as default};
