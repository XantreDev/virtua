import{r as B}from"./index-obz6jkze.js";const y=Math.min,v=Math.max,le=Math.abs,ve=Array.isArray,Z=setTimeout,Q=(e,t,s)=>y(s,v(t,e)),K=e=>e!=null,Re=e=>{const t=[...e].sort((n,o)=>n-o),s=e.length/2|0;return t.length%2===0?(t[s-1]+t[s])/2:t[s]},Le=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},Te=(e,t)=>{let s;const n=()=>{K(s)&&clearTimeout(s)},o=()=>{n(),s=Z(()=>{s=null,e()},t)};return o._cancel=n,o},H=e=>{let t,s;return(...n)=>(t||(t=!0,s=e(...n)),s)},A=-1,F=(e,t,s)=>{const n=s?"unshift":"push";for(let o=0;o<t;o++)e[n](A);return e},Y=(e,t)=>{const s=e._sizes[t];return s===A?e._defaultItemSize:s},we=(e,t,s)=>{const n=e._sizes[t]===A;return e._sizes[t]=s,e._computedOffsetIndex=y(t,e._computedOffsetIndex),n},ee=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,n=e._offsets[s];for(;s<t;)n+=Y(e,s),e._offsets[++s]=n;return e._computedOffsetIndex=t,n},Ce=e=>e._length?ee(e,e._length-1)+Y(e,e._length-1):0,ie=(e,t,s)=>{for(;s>=0&&s<e._length;){const n=ee(e,s);if(n<=t){if(n+Y(e,s)>t)break;s++}else s--}return Q(s,0,e._length-1)},ye=(e,t,s,n)=>{const o=ie(e,t,y(s,e._length-1));return[o,ie(e,t+n,o)]},Ae=(e,t)=>{let s=0;const n=e._sizes.filter((l,_)=>{const u=l!==A;return u&&_<t&&s++,u}),o=e._defaultItemSize;return e._computedOffsetIndex=-1,((e._defaultItemSize=Re(n))-o)*v(t-s,0)},ke=(e,t,s)=>({_defaultItemSize:s?s[1]:t,_sizes:s?s[0]:F([],e),_length:e,_computedOffsetIndex:-1,_offsets:F([],e)}),Me=e=>[[...e._sizes],e._defaultItemSize],ue=(e,t,s)=>{const n=t-e._length;return e._computedOffsetIndex=s?-1:y(t-1,e._computedOffsetIndex),e._length=t,n>0?(F(e._offsets,n),F(e._sizes,n,s),e._defaultItemSize*n):(e._offsets.splice(n),(s?e._sizes.splice(0,-n):e._sizes.splice(n)).reduce((o,l)=>o-(l===A?e._defaultItemSize:l),0))},de=typeof window<"u",ae=()=>document.documentElement,te=e=>e.ownerDocument,se=e=>e.defaultView,me=H(()=>de?getComputedStyle(ae()).direction==="rtl":!1),Se=H(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),Ne=H(()=>"scrollBehavior"in ae().style),x=0,pe=1,ge=2,U=0,xe=1,X=2,$=1,Ie=2,V=3,W=4,Je=5,be=6,Oe=7,ze=8,N=1,j=2,De=4,Ve=8,Ke=e=>v(e._getTotalSize(),e._getViewportSize()),Pe=(e,t,s,n,o)=>(n!==pe&&(e-=v(0,s)),n!==ge&&(t+=v(0,s)),[v(e,0),y(t,o-1)]),Ue=(e,t=40,s=0,n,o=!1,l=0,_=0)=>{let u=!!s,r=[],c=0,d=0,i=0,f=0,a=0,I=0,S=x,p=U,m=u?[0,v(s-1,0)]:null,g=[0,0],k=0;const b=ke(e,t,n),T=new Set,w=()=>d-l,C=O=>ye(b,O,g[0],c),re=()=>Ce(b),oe=O=>ee(b,O)-a,P=O=>Y(b,O),G=O=>{O&&(Se()&&S!==x?a+=O:(f+=O,i++))};return{_getStateVersion(){return r},_getCacheSnapshot(){return Me(b)},_getRange(){return I?g:(g=C(w()+a+f),m?[y(g[0],m[0]),v(g[1],m[1])]:g)},_isUnmeasuredItem(O){return b._sizes[O]===A},_hasUnmeasuredItemsInFrozenRange(){return m?b._sizes.slice(v(0,m[0]-1),y(b._length-1,m[1]+1)+1).includes(A):!1},_getItemOffset:oe,_getItemSize:P,_getItemsLength(){return b._length},_getScrollOffset(){return d},_getScrollDirection(){return S},_getViewportSize(){return c},_getStartSpacerSize(){return l},_getTotalSize:re,_getJumpCount(){return i},_flushJump(){return I=f,f=0,[I,p===X]},_subscribe(O,E){const J=[O,E];return T.add(J),()=>{T.delete(J)}},_update(O,E){let J,q,R=0;switch(O){case $:{const L=Q(E,0,re()+l+_),z=I;if(I=0,L===d)break;const h=L-d,M=le(h);!(z&&M<le(z)+1)&&p===U&&(S=h<0?ge:pe),u&&(m=null,u=!1),q=M>c,d=L,R=N+De;break}case Ie:{R=Ve,S!==x&&(J=!0,R+=N),S=x,p=U,m=null;break}case V:{const L=E.filter(([z,h])=>b._sizes[z]!==h);if(!L.length)break;G(L.reduce((z,[h,M])=>((p===X||(m?h<m[0]:oe(h)+(S===x&&p===U?P(h):0)<w()))&&(z+=M-P(h)),z),0));for(const[z,h]of L){const M=P(z),ce=we(b,z,h);o&&(k+=h,ce||(k-=M))}o&&c&&k>c&&(G(Ae(b,g[0])),o=!1),R=N+j,q=!0;break}case W:{c!==E&&(c=E,R=N+j);break}case Je:{E[1]?(G(ue(b,E[0],!0)),p=X,R=N):ue(b,E[0]);break}case be:{l=E;break}case Oe:{p=xe;break}case ze:{m=C(E),R=N;break}}R&&(r=[],J&&a&&(f+=a,a=0,i++),T.forEach(([L,z])=>{R&L&&z(q)}))}}},Be=de?B.useLayoutEffect:B.useEffect,D=(e,t)=>t&&me()?-e:e,he=(e,t,s,n,o,l)=>{const _=Date.now;let u=0,r=!1,c=!1,d=!1,i=!1;const f=Te(()=>{if(r||c){r=!1,f();return}d=!1,e._update(Ie)},150),a=()=>{u=_(),d&&(i=!0),l&&e._update(be,l()),e._update($,n()),f()},I=m=>{if(r||e._getScrollDirection()===x||m.ctrlKey)return;const g=_()-u;150>g&&50<g&&(s?m.deltaX:m.deltaY)&&(r=!0)},S=()=>{c=!0,d=i=!1},p=()=>{c=!1,Se()&&(d=!0)};return t.addEventListener("scroll",a),t.addEventListener("wheel",I,{passive:!0}),t.addEventListener("touchstart",S,{passive:!0}),t.addEventListener("touchend",p,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",a),t.removeEventListener("wheel",I),t.removeEventListener("touchstart",S),t.removeEventListener("touchend",p),f._cancel()},_fixScrollJump:()=>{const[m,g]=e._flushJump();m&&(o(D(m,s),g,i),i=!1,g&&e._getViewportSize()>e._getTotalSize()&&e._update($,n()))}}},fe=(e,t)=>{let s,n,o;const l=t?"scrollLeft":"scrollTop",_=t?"overflowX":"overflowY",u=async(r,c)=>{if(!s){Le(()=>u(r,c));return}o&&o();const d=()=>{let i;return[new Promise((f,a)=>{i=f,Z(o=a,150)}),e._subscribe(j,()=>{i&&i()})]};if(c&&Ne()){for(;e._update(ze,r()),!!e._hasUnmeasuredItemsInFrozenRange();){const[i,f]=d();try{await i}catch{return}finally{f()}}s.scrollTo({[t?"left":"top"]:D(r(),t),behavior:"smooth"})}else for(;;){const[i,f]=d();try{s[l]=D(r(),t),e._update(Oe),await i}catch{return}finally{f()}}};return{_observe(r){s=r,n=he(e,r,t,()=>D(r[l],t),(c,d,i)=>{if(i){const f=r.style,a=f[_];f[_]="hidden",Z(()=>{f[_]=a})}d?(r[l]=e._getScrollOffset()+c,o&&o()):r[l]+=c})},_dispose(){n&&n._dispose()},_scrollTo(r){u(()=>r)},_scrollBy(r){r+=e._getScrollOffset(),u(()=>r)},_scrollToIndex(r,{align:c,smooth:d,offset:i=0}={}){if(r=Q(r,0,e._getItemsLength()-1),c==="nearest"){const f=e._getItemOffset(r),a=e._getScrollOffset();if(f<a)c="start";else if(f+e._getItemSize(r)>a+e._getViewportSize())c="end";else return}u(()=>i+e._getStartSpacerSize()+e._getItemOffset(r)+(c==="end"?e._getItemSize(r)-e._getViewportSize():c==="center"?(e._getItemSize(r)-e._getViewportSize())/2:0),d)},_fixScrollJump:()=>{n&&n._fixScrollJump()}}},Fe=(e,t)=>{let s;return{_observe(n){const o=t?"scrollX":"scrollY",l=te(n),_=se(l),u=l.body,r=(c,d,i,f=0)=>{const a=i?"offsetLeft":"offsetTop",I=f+(i&&me()?_.innerWidth-c[a]-c.offsetWidth:c[a]),S=c.offsetParent;return c===d||!S?I:r(S,d,i,I)};s=he(e,_,t,()=>D(_[o],t),(c,d)=>{d?_.scroll({[t?"left":"top"]:e._getScrollOffset()+c}):_.scrollBy(t?c:0,t?0:c)},()=>r(n,u,t))},_dispose(){s&&s._dispose()},_fixScrollJump:()=>{s&&s._fixScrollJump()}}},Ye=(e,t)=>{const s=fe(e,!1),n=fe(t,!0);return{_observe(o){s._observe(o),n._observe(o)},_dispose(){s._dispose(),n._dispose()},_scrollTo(o,l){s._scrollTo(l),n._scrollTo(o)},_scrollBy(o,l){s._scrollBy(l),n._scrollBy(o)},_scrollToIndex(o,l){s._scrollToIndex(l),n._scrollToIndex(o)},_fixScrollJump(){s._fixScrollJump(),n._fixScrollJump()}}},_e="current",Ee=(e,t)=>{if(ve(e))for(const s of e)Ee(s,t);else!K(e)||typeof e=="boolean"||t.push(e)},Ge=e=>{const t=[];return Ee(e,t),t},qe=(e,t)=>{const s=e.key;return K(s)?s:"_"+t},Xe=e=>{const t=B.useRef();return t[_e]||(t[_e]=e())},ne=e=>{let t;return{_observe(s){(t||(t=new(se(te(s))).ResizeObserver(e))).observe(s)},_unobserve(s){t.unobserve(s)},_dispose(){t&&t.disconnect()}}},Ze=(e,t)=>{let s;const n=t?"width":"height",o=new WeakMap,l=ne(_=>{const u=[];for(const{target:r,contentRect:c}of _)if(r.offsetParent)if(r===s)e._update(W,c[n]);else{const d=o.get(r);K(d)&&u.push([d,c[n]])}u.length&&e._update(V,u)});return{_observeRoot(_){l._observe(s=_)},_observeItem:(_,u)=>(o.set(_,u),l._observe(_),()=>{o.delete(_),l._unobserve(_)}),_dispose:l._dispose}},$e=(e,t)=>{const s=t?"width":"height",n=t?"innerWidth":"innerHeight",o=new WeakMap,l=ne(u=>{const r=[];for(const{target:c,contentRect:d}of u){if(!c.offsetParent)continue;const i=o.get(c);K(i)&&r.push([i,d[s]])}r.length&&e._update(V,r)});let _;return{_observeRoot(u){const r=se(te(u)),c=()=>{e._update(W,r[n])};r.addEventListener("resize",c),c(),_=()=>{r.removeEventListener("resize",c)}},_observeItem:(u,r)=>(o.set(u,r),l._observe(u),()=>{o.delete(u),l._unobserve(u)}),_dispose(){_&&_(),l._dispose()}}},je=(e,t)=>{let s;const n="height",o="width",l=new WeakMap,_=new Set,u=new Set,r=new Map,c=(i,f)=>`${i}-${f}`,d=ne(i=>{const f=new Set,a=new Set;for(const{target:I,contentRect:S}of i)if(I.offsetParent)if(I===s)e._update(W,S[n]),t._update(W,S[o]);else{const p=l.get(I);if(p){const[m,g]=p,k=c(m,g),b=r.get(k),T=[S[n],S[o]];let w,C;b?(b[0]!==T[0]&&(w=!0),b[1]!==T[1]&&(C=!0)):w=C=!0,w&&f.add(m),C&&a.add(g),(w||C)&&r.set(k,T)}}if(f.size){const I=[];f.forEach(S=>{let p=0;u.forEach(m=>{const g=r.get(c(S,m));g&&(p=v(p,g[0]))}),p&&I.push([S,p])}),e._update(V,I)}if(a.size){const I=[];a.forEach(S=>{let p=0;_.forEach(m=>{const g=r.get(c(m,S));g&&(p=v(p,g[1]))}),p&&I.push([S,p])}),t._update(V,I)}});return{_observeRoot(i){d._observe(s=i)},_observeItem(i,f,a){return l.set(i,[f,a]),_.add(f),u.add(a),d._observe(i),()=>{l.delete(i),d._unobserve(i)}},_dispose:d._dispose}},Qe=e=>B.useReducer(e._getStateVersion,void 0,e._getStateVersion)[1];export{Je as A,x as S,N as U,Xe as a,Qe as b,Pe as c,Ue as d,je as e,Ye as f,Ke as g,De as h,me as i,Ve as j,qe as k,Ze as l,Le as m,fe as n,$e as o,Fe as p,Ge as q,_e as r,Be as u};
