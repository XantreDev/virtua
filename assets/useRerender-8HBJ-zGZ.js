import{r as F}from"./index-yp3VsGQP.js";const T=Math.min,w=Math.max,te=Math.abs,ke=Object.values,ze=Array.isArray,q=setTimeout,Y=(e,t,s)=>T(s,w(t,e)),K=e=>e!=null,Ie=e=>{const t=[...e].sort((n,i)=>n-i),s=e.length/2|0;return t.length%2===0?(t[s-1]+t[s])/2:t[s]},Ee=(e,t)=>{let s;const n=()=>{K(s)&&clearTimeout(s)},i=()=>{n(),s=q(()=>{s=null,e()},t)};return i._cancel=n,i},x=e=>{let t,s;return(...n)=>(t||(t=!0,s=e(...n)),s)},he=e=>getComputedStyle(e),A=-1,G=(e,t,s)=>{const n=s?"unshift":"push";for(let i=0;i<t;i++)e[n](A);return e},J=(e,t)=>{const s=e._sizes[t];return s===A?e._defaultItemSize:s},we=(e,t,s)=>{const n=e._sizes[t]===A;return e._sizes[t]=s,e._computedOffsetIndex=T(t,e._computedOffsetIndex),n},H=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,n=e._offsets[s];for(;s<t;)n+=J(e,s),e._offsets[++s]=n;return e._computedOffsetIndex=t,n},be=e=>e._length?H(e,e._length-1)+J(e,e._length-1):0,se=(e,t,s)=>{let n=H(e,s);for(;s>=0&&s<e._length;)if(n<=t){const i=J(e,s);if(n+i>t)break;n+=i,s++}else n-=J(e,--s);return Y(s,0,e._length-1)},ne=(e,t,s,n)=>{const i=se(e,t,T(s,e._length-1));return[i,se(e,t+n,i)]},Le=e=>{const t=e._sizes.filter(n=>n!==A),s=t[0];e._defaultItemSize=t.every(n=>n===s)?s:Ie(t)},Re=(e,t)=>({_defaultItemSize:t,_length:e,_computedOffsetIndex:-1,_sizes:G([],e),_offsets:G([],e)}),re=(e,t,s)=>{const n=t-e._length,i=n>0;let l;return i?(l=e._defaultItemSize*n,G(e._sizes,n,s),G(e._offsets,n)):(l=(s?e._sizes.splice(0,-n):e._sizes.splice(n)).reduce((f,u)=>f+(u===A?e._defaultItemSize:u),0),e._offsets.splice(n)),e._computedOffsetIndex=s?-1:T(t-1,e._computedOffsetIndex),e._length=t,[l,i]},ce=typeof window<"u",fe=()=>document.documentElement,ve=x(e=>{const t="scrollLeft",s=e[t];e[t]=1;const n=e[t]<1;return e[t]=s,n}),$=x(()=>ce?he(fe()).direction==="rtl":!1),ue=x(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),Te=x(()=>"scrollBehavior"in fe().style),ye=1.5,P=0,le=1,_e=2,j=0,Ce=1,oe=2,V=1,W=2,Ae=3,ae=4,de=5,me=6,Se=7,B=1,Q=2,xe=4,Ne=8,Je=e=>w(e._getTotalSize(),e._getViewportSize()),De=e=>w(e._getTotalSize(),e._getViewportSize()-e._getStartSpacerSize()-e._getEndSpacerSize()),Pe=(e,t,s)=>w(e-(s===le?1:w(1,t)),0),Ve=(e,t,s,n)=>T(e+(s===_e?1:w(1,t)),n-1),Z=(e,t,s)=>t.reduce((n,[i,l])=>{const f=l-J(e,i);return(!s||f>0)&&(n+=f),n},0),We=(e,t=40,s=0,n,i,l=0,f=0)=>{let u=!!s,o=[],r=0,c=0,_=0,d=0,a=0,m=0,S=P,g=j,O=u?[0,w(s-1,0)]:null,z=[0,0];const p=n||Re(e,t),y=new Set,N=()=>be(p),C=()=>N()+l+f,M=()=>c-l,U=()=>w(0,C()-r),ee=h=>{ue()&&S!==P?a+=h:(d+=h,_++)};return{_getStateVersion(){return o},_getCache(){return JSON.parse(JSON.stringify(p))},_getRange(){return O?[T(z[0],O[0]),w(z[1],O[1])]:m?z:z=ne(p,M()+a+d,z[0],r)},_isUnmeasuredItem(h){return p._sizes[h]===A},_hasUnmeasuredItemsInFrozenRange(){return O?p._sizes.slice(w(0,O[0]-1),T(p._length-1,O[1]+1)+1).includes(A):!1},_getItemOffset(h){return H(p,h)-a},_getItemSize(h){return J(p,h)},_getItemsLength(){return p._length},_getScrollOffset(){return c},_getMaxScrollOffset:U,_getScrollDirection(){return S},_getViewportSize(){return r},_getStartSpacerSize(){return l},_getEndSpacerSize(){return f},_getTotalSize:N,_getJumpCount(){return _},_flushJump(){return r>C()?d=0:(m=d,d=0,m)},_subscribe(h,b){const D=[h,b];return y.add(D),()=>{y.delete(D)}},_update(h,b){let D,X,L=0;switch(h){case V:{const I=b.filter(([v,k])=>p._sizes[v]!==k);if(!I.length)break;let E=0;if(c!==0)if(c>U()-ye)E=Z(p,I,!0);else if(g===oe)E=Z(p,I);else{const[v]=z;E=Z(p,I.filter(([k])=>k<v))}E&&ee(E);let R=!1;I.forEach(([v,k])=>{we(p,v,k)&&(R=!0)}),i&&R&&!c&&Le(p),L=Q,X=!0;break}case W:{r!==b&&(r=b,L=Q);break}case Ae:{if(b[1]){const I=U()-c,[E,R]=re(p,b[0],!0);ee(R?E:-T(E,I)),R&&(g=oe),L=B}else re(p,b[0]);break}case ae:{const I=Y(b,0,U()),E=m;if(m=0,I===c)break;const R=I-c,v=te(R);!(E&&v<te(E)+1)&&g===j&&(S=R<0?_e:le),u&&(O=null,u=!1),X=v>r,c=I,L=B+xe;break}case de:{L=Ne,S!==P&&(D=!0,L+=B),S=P,g=j,O=null;break}case me:{g=Ce;break}case Se:{O=ne(p,b,z[0],r),L=B;break}}L&&(o=[],D&&a&&(d+=a,a=0,_++),y.forEach(([I,E])=>{L&I&&E(X)}))}}},Ke=ce?F.useLayoutEffect:F.useEffect,ge=(e,t,s,n)=>ve(e)||n?-s:t._getMaxScrollOffset()-s,pe=(e,t,s,n,i)=>{let l=!1,f=!1,u=!1;const o=Ee(()=>{if(l){o();return}f=!1,e._update(de)},150),r=()=>{f&&(u=!0),e._update(ae,n()),o()},c=(()=>{const a=Date.now,m=50;let S=a()-m;return g=>{const O=a();if(S+m<O){if(S=O,e._getScrollDirection()===P||g.ctrlKey)return;if(s?g.deltaX:g.deltaY){const z=e._getScrollOffset();z>0&&z<e._getMaxScrollOffset()&&o()}}}})(),_=()=>{l=!0,f=u=!1},d=()=>{l=!1,ue()&&(f=!0)};return t.addEventListener("scroll",r),t.addEventListener("wheel",c,{passive:!0}),t.addEventListener("touchstart",_,{passive:!0}),t.addEventListener("touchend",d,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",r),t.removeEventListener("wheel",c),t.removeEventListener("touchstart",_),t.removeEventListener("touchend",d),o._cancel()},_fixScrollJump:a=>{i(a,u),u=!1}}},Ue=(e,t)=>{let s,n,i;const l=t?"scrollLeft":"scrollTop",f=t?"overflowX":"overflowY",u=(r,c)=>t&&$()?ge(s,e,r,c):r,o=async(r,c)=>{if(!s)return;i&&i();const _=()=>Y(r(),0,e._getMaxScrollOffset()),d=()=>{let a;return[new Promise((m,S)=>{a=m,q(i=S,150)}),e._subscribe(Q,()=>{a&&a()})]};if(c&&Te()){for(;e._update(Se,_()),!!e._hasUnmeasuredItemsInFrozenRange();){const[a,m]=d();try{await a}catch{return}finally{m()}}s.scrollTo({[t?"left":"top"]:u(_()),behavior:"smooth"})}else for(;;){const[a,m]=d();try{s[l]=u(_()),e._update(me),await a}catch{return}finally{m()}}};return{_observe(r){s=r,n=pe(e,r,t,()=>u(r[l]),(c,_)=>{if(_){const d=r.style,a=d[f];d[f]="hidden",q(()=>{d[f]=a})}r[l]+=u(c,!0)})},_dispose(){n&&n._dispose()},_scrollTo(r){o(()=>r)},_scrollBy(r){r+=e._getScrollOffset(),o(()=>r)},_scrollToIndex(r,{align:c,smooth:_}={}){if(r=Y(r,0,e._getItemsLength()-1),c==="nearest"){const d=e._getItemOffset(r),a=e._getScrollOffset();if(d<a)c="start";else if(d+e._getItemSize(r)>a+e._getViewportSize())c="end";else return}o(()=>e._getStartSpacerSize()+(c==="end"?e._getItemOffset(r)+e._getItemSize(r)-e._getViewportSize():c==="center"?e._getItemOffset(r)+(e._getItemSize(r)-e._getViewportSize())/2:e._getItemOffset(r)),_)},_fixScrollJump:r=>{n&&n._fixScrollJump(r)}}},Be=(e,t)=>{let s;return{_observe(n){const i=t?"scrollX":"scrollY",l=t?"offsetLeft":"offsetTop",f=(o,r)=>t&&$()?ge(n,e,o,r):o,u=(o,r)=>{const c=r+(t&&$()?window.innerWidth-o[l]-o.offsetWidth:o[l]),_=o.offsetParent;return o===document.body||!_?c:u(_,c)};s=pe(e,window,t,()=>f(window[i])-u(n,0),o=>{window.scrollBy(t?f(o,!0):0,t?0:o)})},_dispose(){s&&s._dispose()},_fixScrollJump:n=>{s&&s._fixScrollJump(n)}}},ie="current",Oe=(e,t)=>{if(ze(e))for(const s of e)Oe(s,t);else!K(e)||typeof e=="boolean"||t.push(e)},Fe=e=>{const t=[];return Oe(e,t),t},Ye=(e,t)=>{const s=e.key;return K(s)?s:"_"+t},Ge=e=>{const t=F.useRef();return t[ie]||(t[ie]=e())},Xe=(e,t)=>{let s;const n=t?"width":"height",i=new WeakMap,l=x(()=>new ResizeObserver(f=>{const u=[];for(const{target:o,contentRect:r}of f)if(o.offsetParent)if(o===s)e._update(W,r[n]);else{const c=i.get(o);K(c)&&u.push([c,r[n]])}u.length&&e._update(V,u)}));return{_observeRoot(f){l().observe(s=f)},_observeItem:(f,u)=>{const o=l();return i.set(f,u),o.observe(f),()=>{i.delete(f),o.unobserve(f)}},_dispose(){l().disconnect()}}},je=(e,t)=>{const s=t?"width":"height",n=t?"innerWidth":"innerHeight",i=new WeakMap,l=x(()=>new ResizeObserver(u=>{const o=[];for(const{target:r,contentRect:c}of u){if(!r.offsetParent)continue;const _=i.get(r);K(_)&&o.push([_,c[s]])}o.length&&e._update(V,o)})),f=()=>{e._update(W,window[n])};return{_observeRoot(){window.addEventListener("resize",f),f()},_observeItem:(u,o)=>{const r=l();return i.set(u,o),r.observe(u),()=>{i.delete(u),r.unobserve(u)}},_dispose(){window.removeEventListener("resize",f),l().disconnect()}}},Ze=(e,t)=>{let s;const n="height",i="width",l=new WeakMap,f=new Set,u=new Set,o=new Map,r=(_,d)=>`${_}-${d}`,c=x(()=>new ResizeObserver(_=>{const d=new Set,a=new Set;for(const{target:m,contentRect:S}of _)if(m.offsetParent)if(m===s)e._update(W,S[n]),t._update(W,S[i]);else{const g=l.get(m);if(g){const[O,z]=g,p=r(O,z),y=o.get(p),N=[S[n],S[i]];let C,M;y?(y[0]!==N[0]&&(C=!0),y[1]!==N[1]&&(M=!0)):C=M=!0,C&&d.add(O),M&&a.add(z),(C||M)&&o.set(p,N)}}if(d.size){const m=[];d.forEach(S=>{let g=0;u.forEach(O=>{const z=o.get(r(S,O));z&&(g=w(g,z[0]))}),g&&m.push([S,g])}),e._update(V,m)}if(a.size){const m=[];a.forEach(S=>{let g=0;f.forEach(O=>{const z=o.get(r(O,S));z&&(g=w(g,z[1]))}),g&&m.push([S,g])}),t._update(V,m)}}));return{_observeRoot(_){c().observe(s=_)},_observeItem(_,d,a){const m=c();return l.set(_,[d,a]),f.add(d),u.add(a),m.observe(_),()=>{l.delete(_),m.unobserve(_)}},_dispose(){c().disconnect()}}},qe=e=>F.useReducer(e._getStateVersion,void 0,e._getStateVersion)[1];export{Ae as A,P as S,B as U,Ge as a,qe as b,Q as c,Ve as d,We as e,Ze as f,Je as g,Ue as h,$ as i,De as j,xe as k,Ne as l,Ye as m,Xe as n,Pe as o,w as p,je as q,ie as r,Be as s,Fe as t,Ke as u,ke as v};
