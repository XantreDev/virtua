import{r as x}from"./index-c6dae603.js";import{j as ne}from"./jsx-runtime-c3d7f245.js";const A=Math.min,I=Math.max,Ie=Math.abs,se=Date.now,We=Object.values,Ee=Array.isArray,F=setTimeout,D=(e,t,n)=>A(n,I(t,e)),q=e=>e!=null,Re=e=>{const t=[...e].sort((s,i)=>s-i),n=e.length/2|0;return t.length%2===0?(t[n-1]+t[n])/2:t[n]},de=(e,t)=>{let n;const s=()=>{q(n)&&clearTimeout(n)},i=()=>{s(),n=F(()=>{n=null,e()},t)};return i._cancel=s,i},ze=(e,t)=>{let n=se()-t;return(...s)=>{const i=se();n+t<i&&(n=i,e(...s))}},M=e=>{let t,n;return(...s)=>(t||(t=!0,n=e(...s)),n)},$=e=>getComputedStyle(e),G=e=>e?parseFloat(e):0,L=-1,V=(e,t)=>{const n=e._sizes[t];return n===L?e._defaultItemSize:n},Le=(e,t,n)=>{const s=e._sizes[t]===L;return e._sizes[t]=n,e._computedOffsetIndex=A(t,e._computedOffsetIndex),s},Q=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];let n=e._computedOffsetIndex,s=e._offsets[n];for(;n<t;)s+=V(e,n),e._offsets[++n]=s;return e._computedOffsetIndex=t,s},ye=e=>e._length?Q(e,e._length-1)+V(e,e._length-1):0,re=(e,t,n)=>{let s=Q(e,n);for(;n>=0&&n<e._length;)if(s<=t){const i=V(e,n);if(s+i>t)break;s+=i,n++}else s-=V(e,--n);return D(n,0,e._length-1)},oe=(e,t,n,s)=>{const i=re(e,t,A(n,e._length-1));return[i,re(e,t+s,i)]},Te=e=>{const t=e._sizes.filter(s=>s!==L),n=t[0];e._defaultItemSize=t.every(s=>s===n)?n:Re(t)},ae=(e,t,n)=>{const s=n?"unshift":"push";for(let i=e._length;i<t;i++)e._sizes[s](L),e._offsets.push(i===0?0:L);e._length=t},Ce=(e,t)=>{const n={_defaultItemSize:t,_length:0,_computedOffsetIndex:0,_sizes:[],_offsets:[]};return ae(n,e),n},ie=(e,t,n)=>{const s=t-e._length,i=s<0;let a;return i?(a=(n?e._sizes.splice(0,-s):e._sizes.splice(s)).reduce((o,c)=>o+(c===L?e._defaultItemSize:c),0),e._offsets.splice(s)):(a=e._defaultItemSize*s,ae(e,e._length+s,n)),e._computedOffsetIndex=n?0:D(t-1,0,e._computedOffsetIndex),e._length=t,[a,i]},_e=typeof window<"u",me=()=>document.documentElement,Ae=M(e=>{const t="scrollLeft",n=e[t];e[t]=1;const s=e[t]<1;return e[t]=n,s}),X=M(()=>_e?$(me()).direction==="rtl":!1),Z=M(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),Me=M(()=>"scrollBehavior"in me().style),le=(e,t,n)=>t.reduce((s,[i,a])=>{const o=a-V(e,i);return(!n||o>0)&&(s+=o),s},0),Ne=1.5,W=0,pe=1,ge=2,J=1,K=2,xe=3,H=4,ee=5,Se=6,we=7,B=1,Y=2,Ve=4,De=(e,t=40,n=0,s=Ce(e,t),i,a)=>{let o=t*I(n-1,0),c=0,r=0,l=0,d=0,f=0,u=0,m=W,_=!1,p=null,g=!1,v=[0,n],b=!0;const N=new Set,y=()=>ye(s),R=()=>y()-o+c+r,T=w=>D(w,0,R()),C=w=>{Z()&&m!==W?u+=w:(f+=w,d++)},te=w=>{const S=m;return m=w,m!==S};return{_getCache(){return JSON.parse(JSON.stringify(s))},_getRange(){return p?[A(v[0],p[0]),I(v[1],p[1])]:v=oe(s,l+u,v[0],o)},_isUnmeasuredItem(w){return s._sizes[w]===L},_hasUnmeasuredItemsInSmoothScrollRange(){return p?s._sizes.slice(I(0,p[0]-1),A(s._length-1,p[1]+1)+1).includes(L):!1},_getItemOffset(w){const S=Q(s,w)-u;return i?S+I(0,o-y()):S},_getItemSize(w){return V(s,w)},_getItemsLength(){return s._length},_getScrollOffset(){return l},_getScrollOffsetMax:R,_getScrollDirection(){return m},_getViewportSize(){return o},_getViewportPaddingStart(){return c},_getCorrectedScrollSize(){return I(y(),o)},_getJumpCount(){return d},_flushJump(){const w=f;return f=0,w},_subscribe(w,S){const k=[w,S];return N.add(k),()=>{N.delete(k)}},_update(w,S){let k,j,E=0;switch(w){case J:{const h=S.filter(([z,P])=>s._sizes[z]!==P);if(!h.length&&!b)break;b=!1;let O=0;if(l!==0)if(l>R()-Ne)O=le(s,h,!0);else{const[z]=v;O=le(s,h.filter(([P])=>P<z))}O&&C(O);let U=!1;h.forEach(([z,P])=>{Le(s,z,P)&&(U=!0)}),a&&U&&!l&&Te(s),E+=Y,g=j=!0;break}case K:{const h=S[0]+S[1]+S[2];o!==h&&(o=h,c=S[1],r=S[2],E=Y);break}case xe:{if(S[1]){const h=R()-l,[O,U]=ie(s,S[0],!0),z=U?-A(O,h):O;C(z),Z()||(l=T(l+z)),E=B}else ie(s,S[0]);break}case H:{if(S===l)break;const h=S-l,O=g;g=!1,(m===W||!O)&&!_&&te(h<0?ge:pe),j=Ie(h)>o,E+=Ve,l=T(S),E+=B;break}case ee:{te(W)&&(k=!0,E=B),_=!1,p=null;break}case Se:{_=!0;break}case we:{p=oe(s,S,v[0],o),E=B;break}}E&&(k&&u&&(g=!0,f+=u,u=0,d++),N.forEach(([h,O])=>{E&h&&O(j)}))}}},Je=_e?x.useLayoutEffect:x.useEffect,he=(e,t,n)=>ze(s=>{if(e._getScrollDirection()!==W&&!s.ctrlKey&&(t?s.deltaX:s.deltaY)){const i=e._getScrollOffset();i>0&&i<e._getScrollOffsetMax()&&n()}},50),ve=(e,t,n,s)=>Ae(e)||s?-n:t._getScrollOffsetMax()-n,Ke=(e,t)=>{let n,s,i=!1;const a=t?"scrollLeft":"scrollTop",o=(r,l)=>t&&X()?ve(n,e,r,l):r,c=async(r,l)=>{if(!n)return;s&&s();const d=()=>D(r(),0,e._getScrollOffsetMax()),f=()=>{let u;return[new Promise((m,_)=>{u=m,F(s=_,150)}),e._subscribe(Y,()=>{u&&u()})]};if(l&&Me()){for(;e._update(we,d()),!!e._hasUnmeasuredItemsInSmoothScrollRange();){const[u,m]=f();try{await u}catch{return}finally{m()}}n.scrollTo({[t?"left":"top"]:o(d()),behavior:"smooth"})}else for(;;){const[u,m]=f();try{n[a]=o(d()),e._update(Se),await u}catch{return}finally{m()}}};return{_initRoot(r){n=r;let l=!1,d=!1;const f=de(()=>{if(l){f();return}d=!1,e._update(ee)},150),u=()=>{d&&(i=!0),e._update(H,o(r[a])),f()},m=he(e,t,f),_=()=>{l=!0,d=i=!1},p=()=>{l=!1,Z()&&(d=!0)};return r.addEventListener("scroll",u),r.addEventListener("wheel",m,{passive:!0}),r.addEventListener("touchstart",_,{passive:!0}),r.addEventListener("touchend",p,{passive:!0}),()=>{r.removeEventListener("scroll",u),r.removeEventListener("wheel",m),r.removeEventListener("touchstart",_),r.removeEventListener("touchend",p),f._cancel()}},_scrollTo(r){c(()=>r)},_scrollBy(r){r+=e._getScrollOffset(),c(()=>r)},_scrollToIndex(r,{align:l,smooth:d}={}){if(r=D(r,0,e._getItemsLength()-1),l==="nearest"){const f=e._getItemOffset(r),u=e._getScrollOffset();if(f<u)l="start";else if(f+e._getItemSize(r)>u+e._getViewportSize())l="end";else return}c(()=>l==="end"?e._getViewportPaddingStart()+e._getItemOffset(r)+e._getItemSize(r)-e._getViewportSize():l==="center"?e._getViewportPaddingStart()+e._getItemOffset(r)+(e._getItemSize(r)-e._getViewportSize())/2:e._getViewportPaddingStart()+e._getItemOffset(r),d)},_fixScrollJump:r=>{if(n){if(i){i=!1;const l=n.style,d=l.overflow;l.overflow="hidden",F(()=>{l.overflow=d})}n[a]+=o(r,!0)}}}},Ue=(e,t)=>{let n;const s=t?"scrollX":"scrollY",i=t?"offsetLeft":"offsetTop",a=(o,c)=>t&&X()?ve(n,e,o,c):o;return{_initRoot(o){n=o;const c=(f,u)=>{const m=u+(t&&X()?window.innerWidth-f[i]-f.offsetWidth:f[i]),_=f.offsetParent;return f===document.body||!_?m:c(_,m)},r=de(()=>{e._update(ee)},150),l=()=>{e._update(H,a(window[s])-c(o,0)),r()},d=he(e,t,r);return window.addEventListener("scroll",l),window.addEventListener("wheel",d,{passive:!0}),()=>{window.removeEventListener("scroll",l),window.removeEventListener("wheel",d),r._cancel()}},_fixScrollJump:o=>{window.scrollBy(t?a(o,!0):0,t?0:o)}}},ue="current",Be={},be=(e,t)=>{if(Ee(e))for(const n of e)be(n,t);else!q(e)||typeof e=="boolean"||t.push(e)},qe=e=>{const t=[];return be(e,t),t},je=(e,t,n)=>I(e-(n===pe?1:I(1,t)),0),Fe=(e,t,n,s)=>A(e+(n===ge?1:I(1,t)),s-1),Ge=e=>{const t=x.useRef();return t[ue]||(t[ue]=e())},Oe={box:"border-box"},Xe=(e,t)=>{let n;const s=t?"width":"height",i=new WeakMap,a=M(()=>new ResizeObserver(o=>{const c=[];for(const{target:r,contentRect:l}of o)if(r.offsetParent)if(r===n)e._update(K,[l[s],l[t?"left":"top"],G($(n)[t?"paddingRight":"paddingBottom"])]);else{const d=i.get(r);q(d)&&c.push([d,l[s]])}c.length&&e._update(J,c)}));return{_observeRoot(o){n=o;const c=a();return c.observe(o,Oe),()=>{c.disconnect()}},_observeItem(o,c){const r=a();return i.set(o,c),r.observe(o),()=>{i.delete(o),r.unobserve(o)}}}},Ze=(e,t)=>{const n=t?"width":"height",s=t?"innerWidth":"innerHeight",i=new WeakMap,a=M(()=>new ResizeObserver(o=>{const c=[];for(const{target:r,contentRect:l}of o){if(!r.offsetParent)continue;const d=i.get(r);q(d)&&c.push([d,l[n]])}c.length&&e._update(J,c)}));return{_observeRoot(){const o=()=>{e._update(K,[window[s],0,0])};return window.addEventListener("resize",o),o(),()=>{window.removeEventListener("resize",o),a().disconnect()}},_observeItem(o,c){const r=a();return i.set(o,c),r.observe(o),()=>{i.delete(o),r.unobserve(o)}}}},Ye=(e,t)=>{let n;const s="height",i="width",a=new WeakMap,o=new Set,c=new Set,r=new Map,l=(f,u)=>`${f}-${u}`,d=M(()=>new ResizeObserver(f=>{const u=new Set,m=new Set;for(const{target:_,contentRect:p}of f)if(_.offsetParent)if(_===n){const g=$(n);e._update(K,[p[s],p.top,G(g.paddingBottom)]),t._update(K,[p[i],p.left,G(g.paddingRight)])}else{const g=a.get(_);if(g){const[v,b]=g,N=l(v,b),y=r.get(N),R=[p[s],p[i]];let T,C;y?(y[0]!==R[0]&&(T=!0),y[1]!==R[1]&&(C=!0)):T=C=!0,T&&u.add(v),C&&m.add(b),(T||C)&&r.set(N,R)}}if(u.size){const _=[];u.forEach(p=>{let g=0;c.forEach(v=>{const b=r.get(l(p,v));b&&(g=I(g,b[0]))}),g&&_.push([p,g])}),e._update(J,_)}if(m.size){const _=[];m.forEach(p=>{let g=0;o.forEach(v=>{const b=r.get(l(v,p));b&&(g=I(g,b[1]))}),g&&_.push([p,g])}),t._update(J,_)}}));return{_observeRoot(f){n=f;const u=d();return u.observe(f,Oe),()=>{u.disconnect()}},_observeItem(f,u,m){const _=d();return a.set(f,[u,m]),o.add(u),c.add(m),_.observe(f),()=>{a.delete(f),_.unobserve(f)}}}},ce=x.forwardRef(({children:e,attrs:t,width:n,height:s,scrolling:i},a)=>ne("div",{ref:a,...t,children:ne("div",{style:x.useMemo(()=>({position:"relative",visibility:"hidden",width:n??"100%",height:s??"100%",pointerEvents:i?"none":"auto"}),[n,s,i]),children:e})}));try{ce.displayName="Viewport",ce.__docgenInfo={description:"",displayName:"Viewport",props:{children:{defaultValue:null,description:"Renderable item elements.",name:"children",required:!0,type:{name:"ReactNode"}},attrs:{defaultValue:null,description:"Attributes that should be passed to the scrollable element.",name:"attrs",required:!0,type:{name:"ViewportComponentAttributes"}},height:{defaultValue:null,description:"Total height of items. It's undefined if component is not vertically scrollable.",name:"height",required:!0,type:{name:"number | undefined"}},width:{defaultValue:null,description:"Total width of items. It's undefined if component is not horizontally scrollable.",name:"width",required:!0,type:{name:"number | undefined"}},scrolling:{defaultValue:null,description:"Currently component is scrolling or not.",name:"scrolling",required:!0,type:{name:"boolean"}}}}}catch{}const fe=()=>[],$e=()=>x.useReducer(fe,void 0,fe)[1];export{xe as A,W as S,B as U,ce as V,$e as a,Je as b,Y as c,Be as d,q as e,qe as f,De as g,Ze as h,Ue as i,Fe as j,je as k,X as l,Ye as m,Ke as n,Ve as o,Xe as p,ue as r,Ge as u,We as v};
//# sourceMappingURL=useRerender-1374d540.js.map
