import{j as De}from"./jsx-runtime-c3d7f245.js";import{R as x,r as re}from"./index-c6dae603.js";import{R as Un}from"./index-eb008d06.js";const me=0,Bt=1,Wt=2,dn=4;function mn(t,e){return n=>t(e(n))}function jn(t,e){return e(t)}function pn(t,e){return n=>t(e,n)}function $e(t,e){return()=>t(e)}function pe(t,e){return e(t),t}function J(...t){return t}function Kn(t){t()}function Ue(t){return()=>t}function qn(...t){return()=>{t.map(Kn)}}function He(t){return t!==void 0}function Dt(){}function j(t,e){return t(Bt,e)}function M(t,e){t(me,e)}function Oe(t){t(Wt)}function pt(t){return t(dn)}function O(t,e){return j(t,pn(e,me))}function Et(t,e){const n=t(Bt,o=>{n(),e(o)});return n}function W(){const t=[];return(e,n)=>{switch(e){case Wt:t.splice(0,t.length);return;case Bt:return t.push(n),()=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)};case me:t.slice().forEach(o=>{o(n)});return;default:throw new Error(`unrecognized action ${e}`)}}}function C(t){let e=t;const n=W();return(o,r)=>{switch(o){case Bt:r(e);break;case me:e=r;break;case dn:return e}return n(o,r)}}function Yn(t){let e,n;const o=()=>e&&e();return function(r,s){switch(r){case Bt:return s?n===s?void 0:(o(),n=s,e=j(t,s),e):(o(),Dt);case Wt:o(),n=null;return;default:throw new Error(`unrecognized action ${r}`)}}}function ft(t){return pe(W(),e=>O(t,e))}function rt(t,e){return pe(C(e),n=>O(t,n))}function Zn(...t){return e=>t.reduceRight(jn,e)}function h(t,...e){const n=Zn(...e);return(o,r)=>{switch(o){case Bt:return j(t,n(r));case Wt:Oe(t);return}}}function hn(t,e){return t===e}function Z(t=hn){let e;return n=>o=>{t(e,o)||(e=o,n(o))}}function z(t){return e=>n=>{t(n)&&e(n)}}function b(t){return e=>mn(e,t)}function Ct(t){return e=>()=>e(t)}function xt(t,e){return n=>o=>n(e=t(e,o))}function Nt(t){return e=>n=>{t>0?t--:e(n)}}function Ht(t){let e=null,n;return o=>r=>{e=r,!n&&(n=setTimeout(()=>{n=void 0,o(e)},t))}}function je(t){let e,n;return o=>r=>{e=r,n&&clearTimeout(n),n=setTimeout(()=>{o(e)},t)}}function F(...t){const e=new Array(t.length);let n=0,o=null;const r=Math.pow(2,t.length)-1;return t.forEach((s,i)=>{const l=Math.pow(2,i);j(s,u=>{const m=n;n=n|l,e[i]=u,m!==r&&n===r&&o&&(o(),o=null)})}),s=>i=>{const l=()=>s([i].concat(e));n===r?l():o=l}}function Ke(...t){return function(e,n){switch(e){case Bt:return qn(...t.map(o=>j(o,n)));case Wt:return;default:throw new Error(`unrecognized action ${e}`)}}}function L(t,e=hn){return h(t,Z(e))}function et(...t){const e=W(),n=new Array(t.length);let o=0;const r=Math.pow(2,t.length)-1;return t.forEach((s,i)=>{const l=Math.pow(2,i);j(s,u=>{n[i]=u,o=o|l,o===r&&M(e,n)})}),function(s,i){switch(s){case Bt:return o===r&&i(n),j(e,i);case Wt:return Oe(e);default:throw new Error(`unrecognized action ${s}`)}}}function U(t,e=[],{singleton:n}={singleton:!0}){return{id:Jn(),constructor:t,dependencies:e,singleton:n}}const Jn=()=>Symbol();function Qn(t){const e=new Map,n=({id:o,constructor:r,dependencies:s,singleton:i})=>{if(i&&e.has(o))return e.get(o);const l=r(s.map(u=>n(u)));return i&&e.set(o,l),l};return n(t)}function Xn(t,e){const n={},o={};let r=0;const s=t.length;for(;r<s;)o[t[r]]=1,r+=1;for(const i in e)o.hasOwnProperty(i)||(n[i]=e[i]);return n}const se=typeof document<"u"?x.useLayoutEffect:x.useEffect;function gn(t,e,n){const o=Object.keys(e.required||{}),r=Object.keys(e.optional||{}),s=Object.keys(e.methods||{}),i=Object.keys(e.events||{}),l=x.createContext({});function u(d,w){d.propsReady&&M(d.propsReady,!1);for(const f of o){const p=d[e.required[f]];M(p,w[f])}for(const f of r)if(f in w){const p=d[e.optional[f]];M(p,w[f])}d.propsReady&&M(d.propsReady,!0)}function m(d){return s.reduce((w,f)=>(w[f]=p=>{const T=d[e.methods[f]];M(T,p)},w),{})}function a(d){return i.reduce((w,f)=>(w[f]=Yn(d[e.events[f]]),w),{})}return{Component:x.forwardRef((d,w)=>{const{children:f,...p}=d,[T]=x.useState(()=>pe(Qn(t),c=>u(c,p))),[H]=x.useState($e(a,T));return se(()=>{for(const c of i)c in p&&j(H[c],p[c]);return()=>{Object.values(H).map(Oe)}},[p,H,T]),se(()=>{u(T,p)}),x.useImperativeHandle(w,Ue(m(T))),x.createElement(l.Provider,{value:T},n?x.createElement(n,Xn([...o,...r,...i],p),f):f)}),usePublisher:d=>x.useCallback(pn(M,x.useContext(l)[d]),[d]),useEmitterValue:d=>{const f=x.useContext(l)[d],[p,T]=x.useState($e(pt,f));return se(()=>j(f,H=>{H!==p&&T(Ue(H))}),[f,p]),p},useEmitter:(d,w)=>{const p=x.useContext(l)[d];se(()=>j(p,w),[w,p])}}}const to=typeof document<"u"?x.useLayoutEffect:x.useEffect,eo=to;var dt=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(dt||{});const no={0:"debug",1:"log",2:"warn",3:"error"},oo=()=>typeof globalThis>"u"?window:globalThis,Lt=U(()=>{const t=C(3);return{log:C((n,o,r=1)=>{var s;const i=(s=oo().VIRTUOSO_LOG_LEVEL)!=null?s:pt(t);r>=i&&console[no[r]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,o)}),logLevel:t}},[],{singleton:!0});function Be(t,e=!0){const n=x.useRef(null);let o=r=>{};if(typeof ResizeObserver<"u"){const r=x.useMemo(()=>new ResizeObserver(s=>{const i=s[0].target;i.offsetParent!==null&&t(i)}),[t]);o=s=>{s&&e?(r.observe(s),n.current=s):(n.current&&r.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:o}}function Pt(t,e=!0){return Be(t,e).callbackRef}function ro(t,e,n,o,r,s,i){const l=x.useCallback(u=>{const m=so(u.children,e,"offsetHeight",r);let a=u.parentElement;for(;!a.dataset.virtuosoScroller;)a=a.parentElement;const g=a.lastElementChild.dataset.viewportType==="window",S=i?i.scrollTop:g?window.pageYOffset||document.documentElement.scrollTop:a.scrollTop,y=i?i.scrollHeight:g?document.documentElement.scrollHeight:a.scrollHeight,E=i?i.offsetHeight:g?window.innerHeight:a.offsetHeight;o({scrollTop:Math.max(S,0),scrollHeight:y,viewportHeight:E}),s==null||s(io("row-gap",getComputedStyle(u).rowGap,r)),m!==null&&t(m)},[t,e,r,s,i,o]);return Be(l,n)}function so(t,e,n,o){const r=t.length;if(r===0)return null;const s=[];for(let i=0;i<r;i++){const l=t.item(i);if(!l||l.dataset.index===void 0)continue;const u=parseInt(l.dataset.index),m=parseFloat(l.dataset.knownSize),a=e(l,n);if(a===0&&o("Zero-sized element, this should not happen",{child:l},dt.ERROR),a===m)continue;const g=s[s.length-1];s.length===0||g.size!==a||g.endIndex!==u-1?s.push({startIndex:u,endIndex:u,size:a}):s[s.length-1].endIndex++}return s}function io(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,dt.WARN),e==="normal"?0:parseInt(e??"0",10)}function Ot(t,e){return Math.round(t.getBoundingClientRect()[e])}function In(t,e){return Math.abs(t-e)<1.01}function Sn(t,e,n,o=Dt,r){const s=x.useRef(null),i=x.useRef(null),l=x.useRef(null),u=x.useCallback(g=>{const S=g.target,y=S===window||S===document,E=y?window.pageYOffset||document.documentElement.scrollTop:S.scrollTop,d=y?document.documentElement.scrollHeight:S.scrollHeight,w=y?window.innerHeight:S.offsetHeight,f=()=>{t({scrollTop:Math.max(E,0),scrollHeight:d,viewportHeight:w})};g.suppressFlushSync?f():Un.flushSync(f),i.current!==null&&(E===i.current||E<=0||E===d-w)&&(i.current=null,e(!0),l.current&&(clearTimeout(l.current),l.current=null))},[t,e]);x.useEffect(()=>{const g=r||s.current;return o(r||s.current),u({target:g,suppressFlushSync:!0}),g.addEventListener("scroll",u,{passive:!0}),()=>{o(null),g.removeEventListener("scroll",u)}},[s,u,n,o,r]);function m(g){const S=s.current;if(!S||"offsetHeight"in S&&S.offsetHeight===0)return;const y=g.behavior==="smooth";let E,d,w;S===window?(d=Math.max(Ot(document.documentElement,"height"),document.documentElement.scrollHeight),E=window.innerHeight,w=document.documentElement.scrollTop):(d=S.scrollHeight,E=Ot(S,"height"),w=S.scrollTop);const f=d-E;if(g.top=Math.ceil(Math.max(Math.min(f,g.top),0)),In(E,d)||g.top===w){t({scrollTop:w,scrollHeight:d,viewportHeight:E}),y&&e(!0);return}y?(i.current=g.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,i.current=null,e(!0)},1e3)):i.current=null,S.scrollTo(g)}function a(g){s.current.scrollBy(g)}return{scrollerRef:s,scrollByCallback:a,scrollToCallback:m}}const st=U(()=>{const t=W(),e=W(),n=C(0),o=W(),r=C(0),s=W(),i=W(),l=C(0),u=C(0),m=C(0),a=C(0),g=W(),S=W(),y=C(!1);return O(h(t,b(({scrollTop:E})=>E)),e),O(h(t,b(({scrollHeight:E})=>E)),i),O(e,r),{scrollContainerState:t,scrollTop:e,viewportHeight:s,headerHeight:l,fixedHeaderHeight:u,fixedFooterHeight:m,footerHeight:a,scrollHeight:i,smoothScrollTargetReached:o,scrollTo:g,scrollBy:S,statefulScrollTop:r,deviation:n,scrollingInProgress:y}},[],{singleton:!0}),Kt={lvl:0};function xn(t,e,n,o=Kt,r=Kt){return{k:t,v:e,lvl:n,l:o,r}}function K(t){return t===Kt}function At(){return Kt}function Ce(t,e){if(K(t))return Kt;const{k:n,l:o,r}=t;if(e===n){if(K(o))return r;if(K(r))return o;{const[s,i]=Tn(o);return le(tt(t,{k:s,v:i,l:wn(o)}))}}else return e<n?le(tt(t,{l:Ce(o,e)})):le(tt(t,{r:Ce(r,e)}))}function qt(t,e){if(!K(t))return e===t.k?t.v:e<t.k?qt(t.l,e):qt(t.r,e)}function It(t,e,n="k"){if(K(t))return[-1/0,void 0];if(Number(t[n])===e)return[t.k,t.v];if(Number(t[n])<e){const o=It(t.r,e,n);return o[0]===-1/0?[t.k,t.v]:o}return It(t.l,e,n)}function at(t,e,n){return K(t)?xn(e,n,1):e===t.k?tt(t,{k:e,v:n}):e<t.k?qe(tt(t,{l:at(t.l,e,n)})):qe(tt(t,{r:at(t.r,e,n)}))}function Ee(t,e,n){if(K(t))return[];const{k:o,v:r,l:s,r:i}=t;let l=[];return o>e&&(l=l.concat(Ee(s,e,n))),o>=e&&o<=n&&l.push({k:o,v:r}),o<=n&&(l=l.concat(Ee(i,e,n))),l}function Vt(t){return K(t)?[]:[...Vt(t.l),{k:t.k,v:t.v},...Vt(t.r)]}function Tn(t){return K(t.r)?[t.k,t.v]:Tn(t.r)}function wn(t){return K(t.r)?t.l:le(tt(t,{r:wn(t.r)}))}function tt(t,e){return xn(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function Te(t){return K(t)||t.lvl>t.r.lvl}function qe(t){return ye(Cn(t))}function le(t){const{l:e,r:n,lvl:o}=t;if(n.lvl>=o-1&&e.lvl>=o-1)return t;if(o>n.lvl+1){if(Te(e))return Cn(tt(t,{lvl:o-1}));if(!K(e)&&!K(e.r))return tt(e.r,{l:tt(e,{r:e.r.l}),r:tt(t,{l:e.r.r,lvl:o-1}),lvl:o});throw new Error("Unexpected empty nodes")}else{if(Te(t))return ye(tt(t,{lvl:o-1}));if(!K(n)&&!K(n.l)){const r=n.l,s=Te(r)?n.lvl-1:n.lvl;return tt(r,{l:tt(t,{r:r.l,lvl:o-1}),r:ye(tt(n,{l:r.r,lvl:s})),lvl:r.lvl+1})}else throw new Error("Unexpected empty nodes")}}function he(t,e,n){if(K(t))return[];const o=It(t,e)[0];return lo(Ee(t,o,n))}function vn(t,e){const n=t.length;if(n===0)return[];let{index:o,value:r}=e(t[0]);const s=[];for(let i=1;i<n;i++){const{index:l,value:u}=e(t[i]);s.push({start:o,end:l-1,value:r}),o=l,r=u}return s.push({start:o,end:1/0,value:r}),s}function lo(t){return vn(t,({k:e,v:n})=>({index:e,value:n}))}function ye(t){const{r:e,lvl:n}=t;return!K(e)&&!K(e.r)&&e.lvl===n&&e.r.lvl===n?tt(e,{l:tt(t,{r:e.l}),lvl:n+1}):t}function Cn(t){const{l:e}=t;return!K(e)&&e.lvl===t.lvl?tt(e,{r:tt(t,{l:e.r})}):t}function ue(t,e,n,o=0){let r=t.length-1;for(;o<=r;){const s=Math.floor((o+r)/2),i=t[s],l=n(i,e);if(l===0)return s;if(l===-1){if(r-o<2)return s-1;r=s-1}else{if(r===o)return s;o=s+1}}throw new Error(`Failed binary finding record in array - ${t.join(",")}, searched for ${e}`)}function En(t,e,n){return t[ue(t,e,n)]}function co(t,e,n,o){const r=ue(t,e,o),s=ue(t,n,o,r);return t.slice(r,s+1)}const Le=U(()=>({recalcInProgress:C(!1)}),[],{singleton:!0});function uo(t){const{size:e,startIndex:n,endIndex:o}=t;return r=>r.start===n&&(r.end===o||r.end===1/0)&&r.value===e}function Ye(t,e){let n=0,o=0;for(;n<t;)n+=e[o+1]-e[o]-1,o++;return o-(n===t?0:1)}function ao(t,e){let n=K(t)?0:1/0;for(const o of e){const{size:r,startIndex:s,endIndex:i}=o;if(n=Math.min(n,s),K(t)){t=at(t,0,r);continue}const l=he(t,s-1,i+1);if(l.some(uo(o)))continue;let u=!1,m=!1;for(const{start:a,end:g,value:S}of l)u?(i>=a||r===S)&&(t=Ce(t,a)):(m=S!==r,u=!0),g>i&&i>=a&&S!==r&&(t=at(t,i+1,S));m&&(t=at(t,s,r))}return[t,n]}function fo(){return{offsetTree:[],sizeTree:At(),groupOffsetTree:At(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function ze({index:t},e){return e===t?0:e<t?-1:1}function mo({offset:t},e){return e===t?0:e<t?-1:1}function po(t){return{index:t.index,value:t}}function ho(t,e,n,o=0){return o>0&&(e=Math.max(e,En(t,o,ze).offset)),vn(co(t,e,n,mo),po)}function Re(t,e,n,o){let r=t,s=0,i=0,l=0,u=0;if(e!==0){u=ue(r,e-1,ze),l=r[u].offset;const a=It(n,e-1);s=a[0],i=a[1],r.length&&r[u].size===It(n,e)[1]&&(u-=1),r=r.slice(0,u+1)}else r=[];for(const{start:m,value:a}of he(n,e,1/0)){const g=m-s,S=g*i+l+g*o;r.push({offset:S,size:a,index:m}),s=m,l=S,i=a}return{offsetTree:r,lastIndex:s,lastOffset:l,lastSize:i}}function go(t,[e,n,o,r]){e.length>0&&o("received item sizes",e,dt.DEBUG);const s=t.sizeTree;let i=s,l=0;if(n.length>0&&K(s)&&e.length===2){const S=e[0].size,y=e[1].size;i=n.reduce((E,d)=>at(at(E,d,S),d+1,y),i)}else[i,l]=ao(i,e);if(i===s)return t;const{offsetTree:u,lastIndex:m,lastSize:a,lastOffset:g}=Re(t.offsetTree,l,i,r);return{sizeTree:i,offsetTree:u,lastIndex:m,lastOffset:g,lastSize:a,groupOffsetTree:n.reduce((S,y)=>at(S,y,Yt(y,u,r)),At()),groupIndices:n}}function Yt(t,e,n){if(e.length===0)return 0;const{offset:o,index:r,size:s}=En(e,t,ze),i=t-r,l=s*i+(i-1)*n+o;return l>0?l+n:l}function Io(t){return typeof t.groupIndex<"u"}function yn(t,e,n){if(Io(t))return e.groupIndices[t.groupIndex]+1;{const o=t.index==="LAST"?n:t.index;let r=Rn(o,e);return r=Math.max(0,r,Math.min(n,r)),r}}function Rn(t,e){if(!ge(e))return t;let n=0;for(;e.groupIndices[n]<=t+n;)n++;return t+n}function ge(t){return!K(t.groupOffsetTree)}function So(t){return Vt(t).map(({k:e,v:n},o,r)=>{const s=r[o+1],i=s?s.k-1:1/0;return{startIndex:e,endIndex:i,size:n}})}const xo={offsetHeight:"height",offsetWidth:"width"},Tt=U(([{log:t},{recalcInProgress:e}])=>{const n=W(),o=W(),r=rt(o,0),s=W(),i=W(),l=C(0),u=C([]),m=C(void 0),a=C(void 0),g=C((c,I)=>Ot(c,xo[I])),S=C(void 0),y=C(0),E=fo(),d=rt(h(n,F(u,t,y),xt(go,E),Z()),E),w=rt(h(u,Z(),xt((c,I)=>({prev:c.current,current:I}),{prev:[],current:[]}),b(({prev:c})=>c)),[]);O(h(u,z(c=>c.length>0),F(d,y),b(([c,I,R])=>{const _=c.reduce((B,V,P)=>at(B,V,Yt(V,I.offsetTree,R)||P),At());return{...I,groupIndices:c,groupOffsetTree:_}})),d),O(h(o,F(d),z(([c,{lastIndex:I}])=>c<I),b(([c,{lastIndex:I,lastSize:R}])=>[{startIndex:c,endIndex:I,size:R}])),n),O(m,a);const f=rt(h(m,b(c=>c===void 0)),!0);O(h(a,z(c=>c!==void 0&&K(pt(d).sizeTree)),b(c=>[{startIndex:0,endIndex:0,size:c}])),n);const p=ft(h(n,F(d),xt(({sizes:c},[I,R])=>({changed:R!==c,sizes:R}),{changed:!1,sizes:E}),b(c=>c.changed)));j(h(l,xt((c,I)=>({diff:c.prev-I,prev:I}),{diff:0,prev:0}),b(c=>c.diff)),c=>{const{groupIndices:I}=pt(d);if(c>0)M(e,!0),M(s,c+Ye(c,I));else if(c<0){const R=pt(w);R.length>0&&(c-=Ye(-c,R)),M(i,c)}}),j(h(l,F(t)),([c,I])=>{c<0&&I("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},dt.ERROR)});const T=ft(s);O(h(s,F(d),b(([c,I])=>{const R=I.groupIndices.length>0,_=[],B=I.lastSize;if(R){const V=qt(I.sizeTree,0);let P=0,D=0;for(;P<c;){const A=I.groupIndices[D],q=I.groupIndices.length===D+1?1/0:I.groupIndices[D+1]-A-1;_.push({startIndex:A,endIndex:A,size:V}),_.push({startIndex:A+1,endIndex:A+1+q-1,size:B}),D++,P+=q+1}const $=Vt(I.sizeTree);return P!==c&&$.shift(),$.reduce((A,{k:q,v:it})=>{let lt=A.ranges;return A.prevSize!==0&&(lt=[...A.ranges,{startIndex:A.prevIndex,endIndex:q+c-1,size:A.prevSize}]),{ranges:lt,prevIndex:q+c,prevSize:it}},{ranges:_,prevIndex:c,prevSize:0}).ranges}return Vt(I.sizeTree).reduce((V,{k:P,v:D})=>({ranges:[...V.ranges,{startIndex:V.prevIndex,endIndex:P+c-1,size:V.prevSize}],prevIndex:P+c,prevSize:D}),{ranges:[],prevIndex:0,prevSize:B}).ranges})),n);const H=ft(h(i,F(d,y),b(([c,{offsetTree:I},R])=>{const _=-c;return Yt(_,I,R)})));return O(h(i,F(d,y),b(([c,I,R])=>{if(I.groupIndices.length>0){if(K(I.sizeTree))return I;let B=At();const V=pt(w);let P=0,D=0,$=0;for(;P<-c;){$=V[D];const A=V[D+1]-$-1;D++,P+=A+1}if(B=Vt(I.sizeTree).reduce((A,{k:q,v:it})=>at(A,Math.max(0,q+c),it),B),P!==-c){const A=qt(I.sizeTree,$);B=at(B,0,A);const q=It(I.sizeTree,-c+1)[1];B=at(B,1,q)}return{...I,sizeTree:B,...Re(I.offsetTree,0,B,R)}}else{const B=Vt(I.sizeTree).reduce((V,{k:P,v:D})=>at(V,Math.max(0,P+c),D),At());return{...I,sizeTree:B,...Re(I.offsetTree,0,B,R)}}})),d),{data:S,totalCount:o,sizeRanges:n,groupIndices:u,defaultItemSize:a,fixedItemSize:m,unshiftWith:s,shiftWith:i,shiftWithOffset:H,beforeUnshiftWith:T,firstItemIndex:l,gap:y,sizes:d,listRefresh:p,statefulTotalCount:r,trackItemSizes:f,itemSize:g}},J(Lt,Le),{singleton:!0}),To=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function bn(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!To)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const Qt=U(([{sizes:t,totalCount:e,listRefresh:n,gap:o},{scrollingInProgress:r,viewportHeight:s,scrollTo:i,smoothScrollTargetReached:l,headerHeight:u,footerHeight:m,fixedHeaderHeight:a,fixedFooterHeight:g},{log:S}])=>{const y=W(),E=C(0);let d=null,w=null,f=null;function p(){d&&(d(),d=null),f&&(f(),f=null),w&&(clearTimeout(w),w=null),M(r,!1)}return O(h(y,F(t,s,e,E,u,m,S),F(o,a,g),b(([[T,H,c,I,R,_,B,V],P,D,$])=>{const k=bn(T),{align:A,behavior:q,offset:it}=k,lt=I-1,nt=yn(k,H,lt);let ut=Yt(nt,H.offsetTree,P)+_;A==="end"?(ut+=D+It(H.sizeTree,nt)[1]-c+$,nt===lt&&(ut+=B)):A==="center"?ut+=(D+It(H.sizeTree,nt)[1]-c+$)/2:ut-=R,it&&(ut+=it);const yt=wt=>{p(),wt?(V("retrying to scroll to",{location:T},dt.DEBUG),M(y,T)):V("list did not change, scroll successful",{},dt.DEBUG)};if(p(),q==="smooth"){let wt=!1;f=j(n,Rt=>{wt=wt||Rt}),d=Et(l,()=>{yt(wt)})}else d=Et(h(n,wo(150)),yt);return w=setTimeout(()=>{p()},1200),M(r,!0),V("scrolling from index to",{index:nt,top:ut,behavior:q},dt.DEBUG),{top:ut,behavior:q}})),i),{scrollToIndex:y,topListHeight:E}},J(Tt,st,Lt),{singleton:!0});function wo(t){return e=>{const n=setTimeout(()=>{e(!1)},t);return o=>{o&&(e(!0),clearTimeout(n))}}}const Zt="up",Ut="down",vo="none",Co={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},Eo=0,Xt=U(([{scrollContainerState:t,scrollTop:e,viewportHeight:n,headerHeight:o,footerHeight:r,scrollBy:s}])=>{const i=C(!1),l=C(!0),u=W(),m=W(),a=C(4),g=C(Eo),S=rt(h(Ke(h(L(e),Nt(1),Ct(!0)),h(L(e),Nt(1),Ct(!1),je(100))),Z()),!1),y=rt(h(Ke(h(s,Ct(!0)),h(s,Ct(!1),je(200))),Z()),!1);O(h(et(L(e),L(g)),b(([p,T])=>p<=T),Z()),l),O(h(l,Ht(50)),m);const E=ft(h(et(t,L(n),L(o),L(r),L(a)),xt((p,[{scrollTop:T,scrollHeight:H},c,I,R,_])=>{const B=T+c-H>-_,V={viewportHeight:c,scrollTop:T,scrollHeight:H};if(B){let D,$;return T>p.state.scrollTop?(D="SCROLLED_DOWN",$=p.state.scrollTop-T):(D="SIZE_DECREASED",$=p.state.scrollTop-T||p.scrollTopDelta),{atBottom:!0,state:V,atBottomBecause:D,scrollTopDelta:$}}let P;return V.scrollHeight>p.state.scrollHeight?P="SIZE_INCREASED":c<p.state.viewportHeight?P="VIEWPORT_HEIGHT_DECREASING":T<p.state.scrollTop?P="SCROLLING_UPWARDS":P="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:P,state:V}},Co),Z((p,T)=>p&&p.atBottom===T.atBottom))),d=rt(h(t,xt((p,{scrollTop:T,scrollHeight:H,viewportHeight:c})=>{if(In(p.scrollHeight,H))return{scrollTop:T,scrollHeight:H,jump:0,changed:!1};{const I=H-(T+c)<1;return p.scrollTop!==T&&I?{scrollHeight:H,scrollTop:T,jump:p.scrollTop-T,changed:!0}:{scrollHeight:H,scrollTop:T,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),z(p=>p.changed),b(p=>p.jump)),0);O(h(E,b(p=>p.atBottom)),i),O(h(i,Ht(50)),u);const w=C(Ut);O(h(t,b(({scrollTop:p})=>p),Z(),xt((p,T)=>pt(y)?{direction:p.direction,prevScrollTop:T}:{direction:T<p.prevScrollTop?Zt:Ut,prevScrollTop:T},{direction:Ut,prevScrollTop:0}),b(p=>p.direction)),w),O(h(t,Ht(50),Ct(vo)),w);const f=C(0);return O(h(S,z(p=>!p),Ct(0)),f),O(h(e,Ht(100),F(S),z(([p,T])=>!!T),xt(([p,T],[H])=>[T,H],[0,0]),b(([p,T])=>T-p)),f),{isScrolling:S,isAtTop:l,isAtBottom:i,atBottomState:E,atTopStateChange:m,atBottomStateChange:u,scrollDirection:w,atBottomThreshold:a,atTopThreshold:g,scrollVelocity:f,lastJumpDueToItemResize:d}},J(st)),zt=U(([{log:t}])=>{const e=C(!1),n=ft(h(e,z(o=>o),Z()));return j(e,o=>{o&&pt(t)("props updated",{},dt.DEBUG)}),{propsReady:e,didMount:n}},J(Lt),{singleton:!0});function ke(t,e){t==0?e():requestAnimationFrame(()=>ke(t-1,e))}function _e(t,e){const n=e-1;return typeof t=="number"?t:t.index==="LAST"?n:t.index}const te=U(([{sizes:t,listRefresh:e,defaultItemSize:n},{scrollTop:o},{scrollToIndex:r},{didMount:s}])=>{const i=C(!0),l=C(0),u=C(!1);return O(h(s,F(l),z(([m,a])=>!!a),Ct(!1)),i),j(h(et(e,s),F(i,t,n,u),z(([[,m],a,{sizeTree:g},S,y])=>m&&(!K(g)||He(S))&&!a&&!y),F(l)),([,m])=>{M(u,!0),ke(3,()=>{Et(o,()=>M(i,!0)),M(r,m)})}),{scrolledToInitialItem:i,initialTopMostItemIndex:l}},J(Tt,st,Qt,zt),{singleton:!0});function Ze(t){return t?t==="smooth"?"smooth":"auto":!1}const yo=(t,e)=>typeof t=="function"?Ze(t(e)):e&&Ze(t),Ro=U(([{totalCount:t,listRefresh:e},{isAtBottom:n,atBottomState:o},{scrollToIndex:r},{scrolledToInitialItem:s},{propsReady:i,didMount:l},{log:u},{scrollingInProgress:m}])=>{const a=C(!1),g=W();let S=null;function y(d){M(r,{index:"LAST",align:"end",behavior:d})}j(h(et(h(L(t),Nt(1)),l),F(L(a),n,s,m),b(([[d,w],f,p,T,H])=>{let c=w&&T,I="auto";return c&&(I=yo(f,p||H),c=c&&!!I),{totalCount:d,shouldFollow:c,followOutputBehavior:I}}),z(({shouldFollow:d})=>d)),({totalCount:d,followOutputBehavior:w})=>{S&&(S(),S=null),S=Et(e,()=>{pt(u)("following output to ",{totalCount:d},dt.DEBUG),y(w),S=null})});function E(d){const w=Et(o,f=>{d&&!f.atBottom&&f.notAtBottomBecause==="SIZE_INCREASED"&&!S&&(pt(u)("scrolling to bottom due to increased size",{},dt.DEBUG),y("auto"))});setTimeout(w,100)}return j(h(et(L(a),t,i),z(([d,,w])=>d&&w),xt(({value:d},[,w])=>({refreshed:d===w,value:w}),{refreshed:!1,value:0}),z(({refreshed:d})=>d),F(a,t)),([,d])=>{E(d!==!1)}),j(g,()=>{E(pt(a)!==!1)}),j(et(L(a),o),([d,w])=>{d&&!w.atBottom&&w.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&y("auto")}),{followOutput:a,autoscrollToBottom:g}},J(Tt,Xt,Qt,te,zt,Lt,st));function bo(t){return t.reduce((e,n)=>(e.groupIndices.push(e.totalCount),e.totalCount+=n+1,e),{totalCount:0,groupIndices:[]})}const Hn=U(([{totalCount:t,groupIndices:e,sizes:n},{scrollTop:o,headerHeight:r}])=>{const s=W(),i=W(),l=ft(h(s,b(bo)));return O(h(l,b(u=>u.totalCount)),t),O(h(l,b(u=>u.groupIndices)),e),O(h(et(o,n,r),z(([u,m])=>ge(m)),b(([u,m,a])=>It(m.groupOffsetTree,Math.max(u-a,0),"v")[0]),Z(),b(u=>[u])),i),{groupCounts:s,topItemsIndexes:i}},J(Tt,st));function Jt(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}function On(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}const ae="top",fe="bottom",Je="none";function Qe(t,e,n){return typeof t=="number"?n===Zt&&e===ae||n===Ut&&e===fe?t:0:n===Zt?e===ae?t.main:t.reverse:e===fe?t.main:t.reverse}function Xe(t,e){return typeof t=="number"?t:t[e]||0}const Ve=U(([{scrollTop:t,viewportHeight:e,deviation:n,headerHeight:o,fixedHeaderHeight:r}])=>{const s=W(),i=C(0),l=C(0),u=C(0),m=rt(h(et(L(t),L(e),L(o),L(s,Jt),L(u),L(i),L(r),L(n),L(l)),b(([a,g,S,[y,E],d,w,f,p,T])=>{const H=a-p,c=w+f,I=Math.max(S-H,0);let R=Je;const _=Xe(T,ae),B=Xe(T,fe);return y-=p,y+=S+f,E+=S+f,E-=p,y>a+c-_&&(R=Zt),E<a-I+g+B&&(R=Ut),R!==Je?[Math.max(H-S-Qe(d,ae,R)-_,0),H-I-f+g+Qe(d,fe,R)+B]:null}),z(a=>a!=null),Z(Jt)),[0,0]);return{listBoundary:s,overscan:u,topListHeight:i,increaseViewportBy:l,visibleRange:m}},J(st),{singleton:!0});function Ho(t,e,n){if(ge(e)){const o=Rn(t,e);return[{index:It(e.groupOffsetTree,o)[0],size:0,offset:0},{index:o,size:0,offset:0,data:n&&n[0]}]}return[{index:t,size:0,offset:0,data:n&&n[0]}]}const tn={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function en(t,e,n){if(t.length===0)return[];if(!ge(e))return t.map(m=>({...m,index:m.index+n,originalIndex:m.index}));const o=t[0].index,r=t[t.length-1].index,s=[],i=he(e.groupOffsetTree,o,r);let l,u=0;for(const m of t){(!l||l.end<m.index)&&(l=i.shift(),u=e.groupIndices.indexOf(l.start));let a;m.index===l.start?a={type:"group",index:u}:a={index:m.index-(u+1)+n,groupIndex:u},s.push({...a,size:m.size,offset:m.offset,originalIndex:m.index,data:m.data})}return s}function ce(t,e,n,o,r,s){const{lastSize:i,lastOffset:l,lastIndex:u}=r;let m=0,a=0;if(t.length>0){m=t[0].offset;const d=t[t.length-1];a=d.offset+d.size}const g=n-u,S=l+g*i+(g-1)*o,y=m,E=S-a;return{items:en(t,r,s),topItems:en(e,r,s),topListHeight:e.reduce((d,w)=>w.size+d,0),offsetTop:m,offsetBottom:E,top:y,bottom:a,totalCount:n,firstItemIndex:s}}const Mt=U(([{sizes:t,totalCount:e,data:n,firstItemIndex:o,gap:r},s,{visibleRange:i,listBoundary:l,topListHeight:u},{scrolledToInitialItem:m,initialTopMostItemIndex:a},{topListHeight:g},S,{didMount:y},{recalcInProgress:E}])=>{const d=C([]),w=W();O(s.topItemsIndexes,d);const f=rt(h(et(y,E,L(i,Jt),L(e),L(t),L(a),m,L(d),L(o),L(r),n),z(([c,I,,R,,,,,,,_])=>{const B=_&&_.length!==R;return c&&!I&&!B}),b(([,,[c,I],R,_,B,V,P,D,$,k])=>{const A=_,{sizeTree:q,offsetTree:it}=A;if(R===0||c===0&&I===0)return{...tn,totalCount:R};if(K(q))return ce(Ho(_e(B,R),A,k),[],R,$,A,D);const lt=[];if(P.length>0){const Rt=P[0],St=P[P.length-1];let vt=0;for(const v of he(q,Rt,St)){const G=v.value,Y=Math.max(v.start,Rt),ot=Math.min(v.end,St);for(let X=Y;X<=ot;X++)lt.push({index:X,size:G,offset:vt,data:k&&k[X]}),vt+=G}}if(!V)return ce([],lt,R,$,A,D);const nt=P.length>0?P[P.length-1]+1:0,ut=ho(it,c,I,nt);if(ut.length===0)return null;const yt=R-1,wt=pe([],Rt=>{for(const St of ut){const vt=St.value;let v=vt.offset,G=St.start;const Y=vt.size;if(vt.offset<c){G+=Math.floor((c-vt.offset+$)/(Y+$));const X=G-St.start;v+=X*Y+X*$}G<nt&&(v+=(nt-G)*Y,G=nt);const ot=Math.min(St.end,yt);for(let X=G;X<=ot&&!(v>=I);X++)Rt.push({index:X,size:Y,offset:v,data:k&&k[X]}),v+=Y+$}});return ce(wt,lt,R,$,A,D)}),z(c=>c!==null),Z()),tn);O(h(n,z(He),b(c=>c==null?void 0:c.length)),e),O(h(f,b(c=>c.topListHeight)),g),O(g,u),O(h(f,b(c=>[c.top,c.bottom])),l),O(h(f,b(c=>c.items)),w);const p=ft(h(f,z(({items:c})=>c.length>0),F(e,n),z(([{items:c},I])=>c[c.length-1].originalIndex===I-1),b(([,c,I])=>[c-1,I]),Z(Jt),b(([c])=>c))),T=ft(h(f,Ht(200),z(({items:c,topItems:I})=>c.length>0&&c[0].originalIndex===I.length),b(({items:c})=>c[0].index),Z())),H=ft(h(f,z(({items:c})=>c.length>0),b(({items:c})=>{let I=0,R=c.length-1;for(;c[I].type==="group"&&I<R;)I++;for(;c[R].type==="group"&&R>I;)R--;return{startIndex:c[I].index,endIndex:c[R].index}}),Z(On)));return{listState:f,topItemsIndexes:d,endReached:p,startReached:T,rangeChanged:H,itemsRendered:w,...S}},J(Tt,Hn,Ve,te,Qt,Xt,zt,Le),{singleton:!0}),Oo=U(([{sizes:t,firstItemIndex:e,data:n,gap:o},{initialTopMostItemIndex:r},{listState:s},{didMount:i}])=>{const l=C(0);return O(h(i,F(l),z(([,u])=>u!==0),F(r,t,e,o,n),b(([[,u],m,a,g,S,y=[]])=>{let E=0;if(a.groupIndices.length>0)for(const p of a.groupIndices){if(p-E>=u)break;E++}const d=u+E,w=_e(m,d),f=Array.from({length:d}).map((p,T)=>({index:T+w,size:0,offset:0,data:y[T+w]}));return ce(f,[],d,S,a,g)})),s),{initialItemCount:l}},J(Tt,te,Mt,zt),{singleton:!0}),Bn=U(([{scrollVelocity:t}])=>{const e=C(!1),n=W(),o=C(!1);return O(h(t,F(o,e,n),z(([r,s])=>!!s),b(([r,s,i,l])=>{const{exit:u,enter:m}=s;if(i){if(u(r,l))return!1}else if(m(r,l))return!0;return i}),Z()),e),j(h(et(e,t,n),F(o)),([[r,s,i],l])=>r&&l&&l.change&&l.change(s,i)),{isSeeking:e,scrollSeekConfiguration:o,scrollVelocity:t,scrollSeekRangeChanged:n}},J(Xt),{singleton:!0}),Bo=U(([{topItemsIndexes:t}])=>{const e=C(0);return O(h(e,z(n=>n>0),b(n=>Array.from({length:n}).map((o,r)=>r))),t),{topItemCount:e}},J(Mt)),Ln=U(([{footerHeight:t,headerHeight:e,fixedHeaderHeight:n,fixedFooterHeight:o},{listState:r}])=>{const s=W(),i=rt(h(et(t,o,e,n,r),b(([l,u,m,a,g])=>l+u+m+a+g.offsetBottom+g.bottom)),0);return O(L(i),s),{totalListHeight:i,totalListHeightChanged:s}},J(st,Mt),{singleton:!0});function zn(t){let e=!1,n;return()=>(e||(e=!0,n=t()),n)}const Lo=zn(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),zo=U(([{scrollBy:t,scrollTop:e,deviation:n,scrollingInProgress:o},{isScrolling:r,isAtBottom:s,scrollDirection:i,lastJumpDueToItemResize:l},{listState:u},{beforeUnshiftWith:m,shiftWithOffset:a,sizes:g,gap:S},{log:y},{recalcInProgress:E}])=>{const d=ft(h(u,F(l),xt(([,f,p,T],[{items:H,totalCount:c,bottom:I,offsetBottom:R},_])=>{const B=I+R;let V=0;return p===c&&f.length>0&&H.length>0&&(H[0].originalIndex===0&&f[0].originalIndex===0||(V=B-T,V!==0&&(V+=_))),[V,H,c,B]},[0,[],0,0]),z(([f])=>f!==0),F(e,i,o,s,y,E),z(([,f,p,T,,,H])=>!H&&!T&&f!==0&&p===Zt),b(([[f],,,,,p])=>(p("Upward scrolling compensation",{amount:f},dt.DEBUG),f))));function w(f){f>0?(M(t,{top:-f,behavior:"auto"}),M(n,0)):(M(n,0),M(t,{top:-f,behavior:"auto"}))}return j(h(d,F(n,r)),([f,p,T])=>{T&&Lo()?M(n,p-f):w(-f)}),j(h(et(rt(r,!1),n,E),z(([f,p,T])=>!f&&!T&&p!==0),b(([f,p])=>p),Ht(1)),w),O(h(a,b(f=>({top:-f}))),t),j(h(m,F(g,S),b(([f,{lastSize:p,groupIndices:T,sizeTree:H},c])=>{function I(R){return R*(p+c)}if(T.length===0)return I(f);{let R=0;const _=qt(H,0);let B=0,V=0;for(;B<f;){B++,R+=_;let P=T.length===V+1?1/0:T[V+1]-T[V]-1;B+P>f&&(R-=_,P=f-B+1),B+=P,R+=I(P),V++}return R}})),f=>{M(n,f),requestAnimationFrame(()=>{M(t,{top:f}),requestAnimationFrame(()=>{M(n,0),M(E,!1)})})}),{deviation:n}},J(st,Xt,Mt,Tt,Lt,Le)),ko=U(([{didMount:t},{scrollTo:e},{listState:n}])=>{const o=C(0);return j(h(t,F(o),z(([,r])=>r!==0),b(([,r])=>({top:r}))),r=>{Et(h(n,Nt(1),z(s=>s.items.length>1)),()=>{requestAnimationFrame(()=>{M(e,r)})})}),{initialScrollTop:o}},J(zt,st,Mt),{singleton:!0}),_o=U(([{viewportHeight:t},{totalListHeight:e}])=>{const n=C(!1),o=rt(h(et(n,t,e),z(([r])=>r),b(([,r,s])=>Math.max(0,r-s)),Ht(0),Z()),0);return{alignToBottom:n,paddingTopAddition:o}},J(st,Ln),{singleton:!0}),Pe=U(([{scrollTo:t,scrollContainerState:e}])=>{const n=W(),o=W(),r=W(),s=C(!1),i=C(void 0);return O(h(et(n,o),b(([{viewportHeight:l,scrollTop:u,scrollHeight:m},{offsetTop:a}])=>({scrollTop:Math.max(0,u-a),scrollHeight:m,viewportHeight:l}))),e),O(h(t,F(o),b(([l,{offsetTop:u}])=>({...l,top:l.top+u}))),r),{useWindowScroll:s,customScrollParent:i,windowScrollContainerState:n,windowViewportRect:o,windowScrollTo:r}},J(st)),Vo=({itemTop:t,itemBottom:e,viewportTop:n,viewportBottom:o,locationParams:{behavior:r,align:s,...i}})=>t<n?{...i,behavior:r,align:s??"start"}:e>o?{...i,behavior:r,align:s??"end"}:null,Po=U(([{sizes:t,totalCount:e,gap:n},{scrollTop:o,viewportHeight:r,headerHeight:s,fixedHeaderHeight:i,fixedFooterHeight:l,scrollingInProgress:u},{scrollToIndex:m}])=>{const a=W();return O(h(a,F(t,r,e,s,i,l,o),F(n),b(([[g,S,y,E,d,w,f,p],T])=>{const{done:H,behavior:c,align:I,calculateViewLocation:R=Vo,..._}=g,B=yn(g,S,E-1),V=Yt(B,S.offsetTree,T)+d+w,P=V+It(S.sizeTree,B)[1],D=p+w,$=p+y-f,k=R({itemTop:V,itemBottom:P,viewportTop:D,viewportBottom:$,locationParams:{behavior:c,align:I,..._}});return k?H&&Et(h(u,z(A=>A===!1),Nt(pt(u)?1:2)),H):H&&H(),k}),z(g=>g!==null)),m),{scrollIntoView:a}},J(Tt,st,Qt,Mt,Lt),{singleton:!0}),Mo=U(([{sizes:t,sizeRanges:e},{scrollTop:n},{initialTopMostItemIndex:o},{didMount:r},{useWindowScroll:s,windowScrollContainerState:i,windowViewportRect:l}])=>{const u=W(),m=C(void 0),a=C(null),g=C(null);return O(i,a),O(l,g),j(h(u,F(t,n,s,a,g)),([S,y,E,d,w,f])=>{const p=So(y.sizeTree);d&&w!==null&&f!==null&&(E=w.scrollTop-f.offsetTop),S({ranges:p,scrollTop:E})}),O(h(m,z(He),b(Fo)),o),O(h(r,F(m),z(([,S])=>S!==void 0),Z(),b(([,S])=>S.ranges)),e),{getState:u,restoreStateFrom:m}},J(Tt,st,te,zt,Pe));function Fo(t){return{offset:t.scrollTop,index:0,align:"start"}}const Go=U(([t,e,n,o,r,s,i,l,u,m])=>({...t,...e,...n,...o,...r,...s,...i,...l,...u,...m}),J(Ve,Oo,zt,Bn,Ln,ko,_o,Pe,Po,Lt)),Ao=U(([{totalCount:t,sizeRanges:e,fixedItemSize:n,defaultItemSize:o,trackItemSizes:r,itemSize:s,data:i,firstItemIndex:l,groupIndices:u,statefulTotalCount:m,gap:a,sizes:g},{initialTopMostItemIndex:S,scrolledToInitialItem:y},E,d,w,{listState:f,topItemsIndexes:p,...T},{scrollToIndex:H},c,{topItemCount:I},{groupCounts:R},_])=>(O(T.rangeChanged,_.scrollSeekRangeChanged),O(h(_.windowViewportRect,b(B=>B.visibleHeight)),E.viewportHeight),{totalCount:t,data:i,firstItemIndex:l,sizeRanges:e,initialTopMostItemIndex:S,scrolledToInitialItem:y,topItemsIndexes:p,topItemCount:I,groupCounts:R,fixedItemHeight:n,defaultItemHeight:o,gap:a,...w,statefulTotalCount:m,listState:f,scrollToIndex:H,trackItemSizes:r,itemSize:s,groupIndices:u,...T,..._,...E,sizes:g,...d}),J(Tt,te,st,Mo,Ro,Mt,Qt,zo,Bo,Hn,Go)),we="-webkit-sticky",nn="sticky",kn=zn(()=>{if(typeof document>"u")return nn;const t=document.createElement("div");return t.style.position=we,t.style.position===we?we:nn});function _n(t,e){const n=x.useRef(null),o=x.useCallback(l=>{if(l===null||!l.offsetParent)return;const u=l.getBoundingClientRect(),m=u.width;let a,g;if(e){const S=e.getBoundingClientRect(),y=u.top-S.top;a=S.height-Math.max(0,y),g=y+e.scrollTop}else a=window.innerHeight-Math.max(0,u.top),g=u.top+window.pageYOffset;n.current={offsetTop:g,visibleHeight:a,visibleWidth:m},t(n.current)},[t,e]),{callbackRef:r,ref:s}=Be(o),i=x.useCallback(()=>{o(s.current)},[o,s]);return x.useEffect(()=>{if(e){e.addEventListener("scroll",i);const l=new ResizeObserver(i);return l.observe(e),()=>{e.removeEventListener("scroll",i),l.unobserve(e)}}else return window.addEventListener("scroll",i),window.addEventListener("resize",i),()=>{window.removeEventListener("scroll",i),window.removeEventListener("resize",i)}},[i,e]),r}const Vn=x.createContext(void 0),Pn=x.createContext(void 0);function Mn(t){return t}const No=U(()=>{const t=C(u=>`Item ${u}`),e=C(null),n=C(u=>`Group ${u}`),o=C({}),r=C(Mn),s=C("div"),i=C(Dt),l=(u,m=null)=>rt(h(o,b(a=>a[u]),Z()),m);return{context:e,itemContent:t,groupContent:n,components:o,computeItemKey:r,headerFooterTag:s,scrollerRef:i,FooterComponent:l("Footer"),HeaderComponent:l("Header"),TopItemListComponent:l("TopItemList"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),GroupComponent:l("Group","div"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder")}}),Wo=U(([t,e])=>({...t,...e}),J(Ao,No)),Do=({height:t})=>x.createElement("div",{style:{height:t}}),$o={position:kn(),zIndex:1,overflowAnchor:"none"},Uo={overflowAnchor:"none"},on=x.memo(function({showTopList:e=!1}){const n=N("listState"),o=ht("sizeRanges"),r=N("useWindowScroll"),s=N("customScrollParent"),i=ht("windowScrollContainerState"),l=ht("scrollContainerState"),u=s||r?i:l,m=N("itemContent"),a=N("context"),g=N("groupContent"),S=N("trackItemSizes"),y=N("itemSize"),E=N("log"),d=ht("gap"),{callbackRef:w}=ro(o,y,S,e?Dt:u,E,d,s),[f,p]=x.useState(0);Me("deviation",k=>{f!==k&&p(k)});const T=N("EmptyPlaceholder"),H=N("ScrollSeekPlaceholder")||Do,c=N("ListComponent"),I=N("ItemComponent"),R=N("GroupComponent"),_=N("computeItemKey"),B=N("isSeeking"),V=N("groupIndices").length>0,P=N("paddingTopAddition"),D=N("scrolledToInitialItem"),$=e?{}:{boxSizing:"border-box",paddingTop:n.offsetTop+P,paddingBottom:n.offsetBottom,marginTop:f,...D?{}:{visibility:"hidden"}};return!e&&n.totalCount===0&&T?x.createElement(T,ct(T,a)):x.createElement(c,{...ct(c,a),ref:w,style:$,"data-test-id":e?"virtuoso-top-item-list":"virtuoso-item-list"},(e?n.topItems:n.items).map(k=>{const A=k.originalIndex,q=_(A+n.firstItemIndex,k.data,a);return B?x.createElement(H,{...ct(H,a),key:q,index:k.index,height:k.size,type:k.type||"item",...k.type==="group"?{}:{groupIndex:k.groupIndex}}):k.type==="group"?x.createElement(R,{...ct(R,a),key:q,"data-index":A,"data-known-size":k.size,"data-item-index":k.index,style:$o},g(k.index,a)):x.createElement(I,{...ct(I,a),key:q,"data-index":A,"data-known-size":k.size,"data-item-index":k.index,"data-item-group-index":k.groupIndex,item:k.data,style:Uo},V?m(k.index,k.groupIndex,k.data,a):m(k.index,k.data,a))}))}),jo={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Ie={width:"100%",height:"100%",position:"absolute",top:0},Ko={width:"100%",position:kn(),top:0,zIndex:1};function ct(t,e){if(typeof t!="string")return{context:e}}const qo=x.memo(function(){const e=N("HeaderComponent"),n=ht("headerHeight"),o=N("headerFooterTag"),r=Pt(i=>n(Ot(i,"height"))),s=N("context");return e?x.createElement(o,{ref:r},x.createElement(e,ct(e,s))):null}),Yo=x.memo(function(){const e=N("FooterComponent"),n=ht("footerHeight"),o=N("headerFooterTag"),r=Pt(i=>n(Ot(i,"height"))),s=N("context");return e?x.createElement(o,{ref:r},x.createElement(e,ct(e,s))):null});function Fn({usePublisher:t,useEmitter:e,useEmitterValue:n}){return x.memo(function({style:s,children:i,...l}){const u=t("scrollContainerState"),m=n("ScrollerComponent"),a=t("smoothScrollTargetReached"),g=n("scrollerRef"),S=n("context"),{scrollerRef:y,scrollByCallback:E,scrollToCallback:d}=Sn(u,a,m,g);return e("scrollTo",d),e("scrollBy",E),x.createElement(m,{ref:y,style:{...jo,...s},"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...l,...ct(m,S)},i)})}function Gn({usePublisher:t,useEmitter:e,useEmitterValue:n}){return x.memo(function({style:s,children:i,...l}){const u=t("windowScrollContainerState"),m=n("ScrollerComponent"),a=t("smoothScrollTargetReached"),g=n("totalListHeight"),S=n("deviation"),y=n("customScrollParent"),E=n("context"),{scrollerRef:d,scrollByCallback:w,scrollToCallback:f}=Sn(u,a,m,Dt,y);return eo(()=>(d.current=y||window,()=>{d.current=null}),[d,y]),e("windowScrollTo",f),e("scrollBy",w),x.createElement(m,{style:{position:"relative",...s,...g!==0?{height:g+S}:{}},"data-virtuoso-scroller":!0,...l,...ct(m,E)},i)})}const Zo=({children:t})=>{const e=x.useContext(Vn),n=ht("viewportHeight"),o=ht("fixedItemHeight"),r=Pt(mn(n,s=>Ot(s,"height")));return x.useEffect(()=>{e&&(n(e.viewportHeight),o(e.itemHeight))},[e,n,o]),x.createElement("div",{style:Ie,ref:r,"data-viewport-type":"element"},t)},Jo=({children:t})=>{const e=x.useContext(Vn),n=ht("windowViewportRect"),o=ht("fixedItemHeight"),r=N("customScrollParent"),s=_n(n,r);return x.useEffect(()=>{e&&(o(e.itemHeight),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,n,o]),x.createElement("div",{ref:s,style:Ie,"data-viewport-type":"window"},t)},Qo=({children:t})=>{const e=N("TopItemListComponent"),n=N("headerHeight"),o={...Ko,marginTop:`${n}px`},r=N("context");return x.createElement(e||"div",{style:o,context:r},t)},Xo=x.memo(function(e){const n=N("useWindowScroll"),o=N("topItemsIndexes").length>0,r=N("customScrollParent"),s=r||n?nr:er,i=r||n?Jo:Zo;return x.createElement(s,{...e},o&&x.createElement(Qo,null,x.createElement(on,{showTopList:!0})),x.createElement(i,null,x.createElement(qo,null),x.createElement(on,null),x.createElement(Yo,null)))}),{Component:tr,usePublisher:ht,useEmitterValue:N,useEmitter:Me}=gn(Wo,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Xo),er=Fn({usePublisher:ht,useEmitterValue:N,useEmitter:Me}),nr=Gn({usePublisher:ht,useEmitterValue:N,useEmitter:Me}),or=tr,rn={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},rr={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:sn,ceil:ln,floor:de,min:ve,max:jt}=Math;function sr(t){return{...rr,items:t}}function cn(t,e,n){return Array.from({length:e-t+1}).map((o,r)=>{const s=n===null?null:n[r+t];return{index:r+t,data:s}})}function ir(t,e){return t&&t.column===e.column&&t.row===e.row}function ie(t,e){return t&&t.width===e.width&&t.height===e.height}const lr=U(([{overscan:t,visibleRange:e,listBoundary:n},{scrollTop:o,viewportHeight:r,scrollBy:s,scrollTo:i,smoothScrollTargetReached:l,scrollContainerState:u,footerHeight:m,headerHeight:a},g,S,{propsReady:y,didMount:E},{windowViewportRect:d,useWindowScroll:w,customScrollParent:f,windowScrollContainerState:p,windowScrollTo:T},H])=>{const c=C(0),I=C(0),R=C(rn),_=C({height:0,width:0}),B=C({height:0,width:0}),V=W(),P=W(),D=C(0),$=C(null),k=C({row:0,column:0}),A=W(),q=W(),it=C(!1),lt=C(0),nt=C(!0),ut=C(!1);j(h(E,F(lt),z(([v,G])=>!!G)),()=>{M(nt,!1),M(I,0)}),j(h(et(E,nt,B,_,lt,ut),z(([v,G,Y,ot,,X])=>v&&!G&&Y.height!==0&&ot.height!==0&&!X)),([,,,,v])=>{M(ut,!0),ke(1,()=>{M(V,v)}),Et(h(o),()=>{M(n,[0,0]),M(nt,!0)})}),O(h(q,z(v=>v!=null&&v.scrollTop>0),Ct(0)),I),j(h(E,F(q),z(([,v])=>v!=null)),([,v])=>{v&&(M(_,v.viewport),M(B,v==null?void 0:v.item),M(k,v.gap),v.scrollTop>0&&(M(it,!0),Et(h(o,Nt(1)),G=>{M(it,!1)}),M(i,{top:v.scrollTop})))}),O(h(_,b(({height:v})=>v)),r),O(h(et(L(_,ie),L(B,ie),L(k,(v,G)=>v&&v.column===G.column&&v.row===G.row),L(o)),b(([v,G,Y,ot])=>({viewport:v,item:G,gap:Y,scrollTop:ot}))),A),O(h(et(L(c),e,L(k,ir),L(B,ie),L(_,ie),L($),L(I),L(it),L(nt),L(lt)),z(([,,,,,,,v])=>!v),b(([v,[G,Y],ot,X,kt,$t,Ft,,ee,bt])=>{const{row:mt,column:Wn}=ot,{height:ne,width:Se}=X,{width:Fe}=kt;if(Ft===0&&(v===0||Fe===0))return rn;if(Se===0){const xe=_e(bt,v),$n=xe===0?Math.max(Ft-1,0):xe;return sr(cn(xe,$n,$t))}const oe=An(Fe,Se,Wn);let Gt,_t;ee?G===0&&Y===0&&Ft>0?(Gt=0,_t=Ft-1):(Gt=oe*de((G+mt)/(ne+mt)),_t=oe*ln((Y+mt)/(ne+mt))-1,_t=ve(v-1,jt(_t,oe-1)),Gt=ve(_t,jt(0,Gt))):(Gt=0,_t=-1);const Ge=cn(Gt,_t,$t),{top:Ae,bottom:Ne}=un(kt,ot,X,Ge),We=ln(v/oe),Dn=We*ne+(We-1)*mt-Ne;return{items:Ge,offsetTop:Ae,offsetBottom:Dn,top:Ae,bottom:Ne,itemHeight:ne,itemWidth:Se}})),R),O(h($,z(v=>v!==null),b(v=>v.length)),c),O(h(et(_,B,R,k),z(([v,G,{items:Y}])=>Y.length>0&&G.height!==0&&v.height!==0),b(([v,G,{items:Y},ot])=>{const{top:X,bottom:kt}=un(v,ot,G,Y);return[X,kt]}),Z(Jt)),n);const yt=C(!1);O(h(o,F(yt),b(([v,G])=>G||v!==0)),yt);const wt=ft(h(L(R),z(({items:v})=>v.length>0),F(c,yt),z(([{items:v},G,Y])=>Y&&v[v.length-1].index===G-1),b(([,v])=>v-1),Z())),Rt=ft(h(L(R),z(({items:v})=>v.length>0&&v[0].index===0),Ct(0),Z())),St=ft(h(L(R),F(it),z(([{items:v},G])=>v.length>0&&!G),b(([{items:v}])=>({startIndex:v[0].index,endIndex:v[v.length-1].index})),Z(On),Ht(0)));O(St,S.scrollSeekRangeChanged),O(h(V,F(_,B,c,k),b(([v,G,Y,ot,X])=>{const kt=bn(v),{align:$t,behavior:Ft,offset:ee}=kt;let bt=kt.index;bt==="LAST"&&(bt=ot-1),bt=jt(0,bt,ve(ot-1,bt));let mt=be(G,X,Y,bt);return $t==="end"?mt=sn(mt-G.height+Y.height):$t==="center"&&(mt=sn(mt-G.height/2+Y.height/2)),ee&&(mt+=ee),{top:mt,behavior:Ft}})),i);const vt=rt(h(R,b(v=>v.offsetBottom+v.bottom)),0);return O(h(d,b(v=>({width:v.visibleWidth,height:v.visibleHeight}))),_),{data:$,totalCount:c,viewportDimensions:_,itemDimensions:B,scrollTop:o,scrollHeight:P,overscan:t,scrollBy:s,scrollTo:i,scrollToIndex:V,smoothScrollTargetReached:l,windowViewportRect:d,windowScrollTo:T,useWindowScroll:w,customScrollParent:f,windowScrollContainerState:p,deviation:D,scrollContainerState:u,footerHeight:m,headerHeight:a,initialItemCount:I,gap:k,restoreStateFrom:q,...S,initialTopMostItemIndex:lt,gridState:R,totalListHeight:vt,...g,startReached:Rt,endReached:wt,rangeChanged:St,stateChanged:A,propsReady:y,stateRestoreInProgress:it,...H}},J(Ve,st,Xt,Bn,zt,Pe,Lt));function un(t,e,n,o){const{height:r}=n;if(r===void 0||o.length===0)return{top:0,bottom:0};const s=be(t,e,n,o[0].index),i=be(t,e,n,o[o.length-1].index)+r;return{top:s,bottom:i}}function be(t,e,n,o){const r=An(t.width,n.width,e.column),s=de(o/r),i=s*n.height+jt(0,s-1)*e.row;return i>0?i+e.row:i}function An(t,e,n){return jt(1,de((t+n)/(de(e)+n)))}const cr=U(()=>{const t=C(m=>`Item ${m}`),e=C({}),n=C(null),o=C("virtuoso-grid-item"),r=C("virtuoso-grid-list"),s=C(Mn),i=C("div"),l=C(Dt),u=(m,a=null)=>rt(h(e,b(g=>g[m]),Z()),a);return{context:n,itemContent:t,components:e,computeItemKey:s,itemClassName:o,listClassName:r,headerFooterTag:i,scrollerRef:l,FooterComponent:u("Footer"),HeaderComponent:u("Header"),ListComponent:u("List","div"),ItemComponent:u("Item","div"),ScrollerComponent:u("Scroller","div"),ScrollSeekPlaceholder:u("ScrollSeekPlaceholder","div")}}),ur=U(([t,e])=>({...t,...e}),J(lr,cr)),ar=x.memo(function(){const e=Q("gridState"),n=Q("listClassName"),o=Q("itemClassName"),r=Q("itemContent"),s=Q("computeItemKey"),i=Q("isSeeking"),l=gt("scrollHeight"),u=Q("ItemComponent"),m=Q("ListComponent"),a=Q("ScrollSeekPlaceholder"),g=Q("context"),S=gt("itemDimensions"),y=gt("gap"),E=Q("log"),d=Q("stateRestoreInProgress"),w=Pt(f=>{const p=f.parentElement.parentElement.scrollHeight;l(p);const T=f.firstChild;if(T){const{width:H,height:c}=T.getBoundingClientRect();S({width:H,height:c})}y({row:an("row-gap",getComputedStyle(f).rowGap,E),column:an("column-gap",getComputedStyle(f).columnGap,E)})});return d?null:x.createElement(m,{ref:w,className:n,...ct(m,g),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-test-id":"virtuoso-item-list"},e.items.map(f=>{const p=s(f.index,f.data,g);return i?x.createElement(a,{key:p,...ct(a,g),index:f.index,height:e.itemHeight,width:e.itemWidth}):x.createElement(u,{...ct(u,g),className:o,"data-index":f.index,key:p},r(f.index,f.data,g))}))}),fr=x.memo(function(){const e=Q("HeaderComponent"),n=gt("headerHeight"),o=Q("headerFooterTag"),r=Pt(i=>n(Ot(i,"height"))),s=Q("context");return e?x.createElement(o,{ref:r},x.createElement(e,ct(e,s))):null}),dr=x.memo(function(){const e=Q("FooterComponent"),n=gt("footerHeight"),o=Q("headerFooterTag"),r=Pt(i=>n(Ot(i,"height"))),s=Q("context");return e?x.createElement(o,{ref:r},x.createElement(e,ct(e,s))):null}),mr=({children:t})=>{const e=x.useContext(Pn),n=gt("itemDimensions"),o=gt("viewportDimensions"),r=Pt(s=>{o(s.getBoundingClientRect())});return x.useEffect(()=>{e&&(o({height:e.viewportHeight,width:e.viewportWidth}),n({height:e.itemHeight,width:e.itemWidth}))},[e,o,n]),x.createElement("div",{style:Ie,ref:r},t)},pr=({children:t})=>{const e=x.useContext(Pn),n=gt("windowViewportRect"),o=gt("itemDimensions"),r=Q("customScrollParent"),s=_n(n,r);return x.useEffect(()=>{e&&(o({height:e.itemHeight,width:e.itemWidth}),n({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,n,o]),x.createElement("div",{ref:s,style:Ie},t)},hr=x.memo(function({...e}){const n=Q("useWindowScroll"),o=Q("customScrollParent"),r=o||n?Ir:gr,s=o||n?pr:mr;return x.createElement(r,{...e},x.createElement(s,null,x.createElement(fr,null),x.createElement(ar,null),x.createElement(dr,null)))}),{Component:vr,usePublisher:gt,useEmitterValue:Q,useEmitter:Nn}=gn(ur,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged"}},hr),gr=Fn({usePublisher:gt,useEmitterValue:Q,useEmitter:Nn}),Ir=Gn({usePublisher:gt,useEmitterValue:Q,useEmitter:Nn});function an(t,e,n){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&n(`${t} was not resolved to pixel value correctly`,e,dt.WARN),e==="normal"?0:parseInt(e??"0",10)}const fn=re.memo(({count:t,Component:e,handle:n})=>{const o=re.useRef(null);return re.useImperativeHandle(n,()=>({scrollToIndex:r=>{var s;(s=o.current)==null||s.scrollToIndex(r)}})),De(or,{ref:o,totalCount:t,itemContent:re.useMemo(()=>r=>De(e,{index:r},r),[])})});try{fn.displayName="ReactVirtuosoList",fn.__docgenInfo={description:"",displayName:"ReactVirtuosoList",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},Component:{defaultValue:null,description:"",name:"Component",required:!0,type:{name:"ForwardRefExoticComponent<{ index: number; } & RefAttributes<HTMLDivElement>>"}},handle:{defaultValue:null,description:"",name:"handle",required:!1,type:{name:"Ref<ListHandle>"}}}}}catch{}export{fn as R};
//# sourceMappingURL=react-virtuoso-e774d5ae.js.map
