import{r as B}from"./index-yp3VsGQP.js";const h=Math.min,I=Math.max,se=Math.abs,ne=Date.now,De=Object.values,we=Array.isArray,Z=setTimeout,F=(e,t,s)=>h(s,I(t,e)),K=e=>e!=null,ze=e=>{const t=[...e].sort((n,o)=>n-o),s=e.length/2|0;return t.length%2===0?(t[s-1]+t[s])/2:t[s]},le=(e,t)=>{let s;const n=()=>{K(s)&&clearTimeout(s)},o=()=>{n(),s=Z(()=>{s=null,e()},t)};return o._cancel=n,o},Ie=(e,t)=>{let s=ne()-t;return(...n)=>{const o=ne();s+t<o&&(s=o,e(...n))}},C=e=>{let t,s;return(...n)=>(t||(t=!0,s=e(...n)),s)},ve=e=>getComputedStyle(e),y=-1,Y=(e,t,s)=>{const n=s?"unshift":"push";for(let o=0;o<t;o++)e[n](y);return e},D=(e,t)=>{const s=e._sizes[t];return s===y?e._defaultItemSize:s},Le=(e,t,s)=>{const n=e._sizes[t]===y;return e._sizes[t]=s,e._computedOffsetIndex=h(t,e._computedOffsetIndex),n},Q=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,n=e._offsets[s];for(;s<t;)n+=D(e,s),e._offsets[++s]=n;return e._computedOffsetIndex=t,n},Re=e=>e._length?Q(e,e._length-1)+D(e,e._length-1):0,re=(e,t,s)=>{let n=Q(e,s);for(;s>=0&&s<e._length;)if(n<=t){const o=D(e,s);if(n+o>t)break;n+=o,s++}else n-=D(e,--s);return F(s,0,e._length-1)},oe=(e,t,s,n)=>{const o=re(e,t,h(s,e._length-1));return[o,re(e,t+n,o)]},be=e=>{const t=e._sizes.filter(n=>n!==y),s=t[0];e._defaultItemSize=t.every(n=>n===s)?s:ze(t)},Te=(e,t)=>({_defaultItemSize:t,_length:e,_computedOffsetIndex:-1,_sizes:Y([],e),_offsets:Y([],e)}),ie=(e,t,s)=>{const n=t-e._length,o=n>0;let a;return o?(a=e._defaultItemSize*n,Y(e._sizes,n,s),Y(e._offsets,n)):(a=(s?e._sizes.splice(0,-n):e._sizes.splice(n)).reduce((c,u)=>c+(u===y?e._defaultItemSize:u),0),e._offsets.splice(n)),e._computedOffsetIndex=s?-1:h(t-1,e._computedOffsetIndex),e._length=t,[a,o]},ce=typeof window<"u",_e=()=>document.documentElement,he=C(e=>{const t="scrollLeft",s=e[t];e[t]=1;const n=e[t]<1;return e[t]=s,n}),q=C(()=>ce?ve(_e()).direction==="rtl":!1),de=C(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),ye=C(()=>"scrollBehavior"in _e().style),Ce=1.5,J=0,ae=1,me=2,X=0,Ae=1,ue=2,P=1,V=2,Ne=3,H=4,ee=5,Se=6,ge=7,U=1,$=2,Me=4,xe=8,We=e=>I(e._getTotalSize(),e._getViewportSize()),Je=e=>I(e._getTotalSize(),e._getViewportSize()-e._getStartSpacerSize()-e._getEndSpacerSize()),Pe=(e,t,s)=>I(e-(s===ae?1:I(1,t)),0),Ve=(e,t,s,n)=>h(e+(s===me?1:I(1,t)),n-1),j=(e,t,s)=>t.reduce((n,[o,a])=>{const c=a-D(e,o);return(!s||c>0)&&(n+=c),n},0),Ke=(e,t=40,s=0,n=Te(e,t),o,a=0,c=0)=>{let u=!!s,_=[],d=0,r=0,i=0,l=0,S=0,f=0,m=J,g=X,p=u?[0,I(s-1,0)]:null,O=[0,0];const A=new Set,N=()=>Re(n),M=()=>N()+a+c,x=()=>r-a,L=()=>I(0,M()-d),te=z=>{de()&&m!==J?S+=z:(l+=z,i++)};return{_getStateVersion(){return _},_getCache(){return JSON.parse(JSON.stringify(n))},_getRange(){return p?[h(O[0],p[0]),I(O[1],p[1])]:f?O:O=oe(n,x()+S+l,O[0],d)},_isUnmeasuredItem(z){return n._sizes[z]===y},_hasUnmeasuredItemsInFrozenRange(){return p?n._sizes.slice(I(0,p[0]-1),h(n._length-1,p[1]+1)+1).includes(y):!1},_getItemOffset(z){return Q(n,z)-S},_getItemSize(z){return D(n,z)},_getItemsLength(){return n._length},_getScrollOffset(){return r},_getMaxScrollOffset:L,_getScrollDirection(){return m},_getViewportSize(){return d},_getStartSpacerSize(){return a},_getEndSpacerSize(){return c},_getTotalSize:N,_getJumpCount(){return i},_flushJump(){return d>M()?l=0:(f=l,l=0,f)},_subscribe(z,v){const W=[z,v];return A.add(W),()=>{A.delete(W)}},_update(z,v){let W,G,R=0;switch(z){case P:{const E=v.filter(([T,k])=>n._sizes[T]!==k);if(!E.length)break;let w=0;if(r!==0)if(r>L()-Ce)w=j(n,E,!0);else if(g===ue)w=j(n,E);else{const[T]=O;w=j(n,E.filter(([k])=>k<T))}w&&te(w);let b=!1;E.forEach(([T,k])=>{Le(n,T,k)&&(b=!0)}),o&&b&&!r&&be(n),R=$,G=!0;break}case V:{d!==v&&(d=v,R=$);break}case Ne:{if(v[1]){const E=L()-r,[w,b]=ie(n,v[0],!0);te(b?w:-h(w,E)),b&&(g=ue),R=U}else ie(n,v[0]);break}case H:{const E=F(v,0,L()),w=f;if(f=0,E===r)break;const b=E-r,T=se(b);!(w&&T<se(w)+1)&&g===X&&(m=b<0?me:ae),u&&(p=null,u=!1),G=T>d,r=E,R=U+Me;break}case ee:{R=xe,m!==J&&(W=!0,R+=U),m=J,g=X,p=null;break}case Se:{g=Ae;break}case ge:{p=oe(n,v,O[0],d),R=U;break}}R&&(_=[],W&&S&&(l+=S,S=0,i++),A.forEach(([E,w])=>{R&E&&w(G)}))}}},Ue=ce?B.useLayoutEffect:B.useEffect,pe=(e,t,s)=>Ie(n=>{if(e._getScrollDirection()!==J&&!n.ctrlKey&&(t?n.deltaX:n.deltaY)){const o=e._getScrollOffset();o>0&&o<e._getMaxScrollOffset()&&s()}},50),Oe=(e,t,s,n)=>he(e)||n?-s:t._getMaxScrollOffset()-s,Be=(e,t)=>{let s,n,o,a=!1;const c=t?"scrollLeft":"scrollTop",u=t?"overflowX":"overflowY",_=(r,i)=>t&&q()?Oe(s,e,r,i):r,d=async(r,i)=>{if(!s)return;o&&o();const l=()=>F(r(),0,e._getMaxScrollOffset()),S=()=>{let f;return[new Promise((m,g)=>{f=m,Z(o=g,150)}),e._subscribe($,()=>{f&&f()})]};if(i&&ye()){for(;e._update(ge,l()),!!e._hasUnmeasuredItemsInFrozenRange();){const[f,m]=S();try{await f}catch{return}finally{m()}}s.scrollTo({[t?"left":"top"]:_(l()),behavior:"smooth"})}else for(;;){const[f,m]=S();try{s[c]=_(l()),e._update(Se),await f}catch{return}finally{m()}}};return{_observe(r){s=r;let i=!1,l=!1;const S=le(()=>{if(i){S();return}l=!1,e._update(ee)},150),f=()=>{l&&(a=!0),e._update(H,_(r[c])),S()},m=pe(e,t,S),g=()=>{i=!0,l=a=!1},p=()=>{i=!1,de()&&(l=!0)};r.addEventListener("scroll",f),r.addEventListener("wheel",m,{passive:!0}),r.addEventListener("touchstart",g,{passive:!0}),r.addEventListener("touchend",p,{passive:!0}),n=()=>{r.removeEventListener("scroll",f),r.removeEventListener("wheel",m),r.removeEventListener("touchstart",g),r.removeEventListener("touchend",p),S._cancel()}},_dispose(){n&&n()},_scrollTo(r){d(()=>r)},_scrollBy(r){r+=e._getScrollOffset(),d(()=>r)},_scrollToIndex(r,{align:i,smooth:l}={}){if(r=F(r,0,e._getItemsLength()-1),i==="nearest"){const S=e._getItemOffset(r),f=e._getScrollOffset();if(S<f)i="start";else if(S+e._getItemSize(r)>f+e._getViewportSize())i="end";else return}d(()=>e._getStartSpacerSize()+(i==="end"?e._getItemOffset(r)+e._getItemSize(r)-e._getViewportSize():i==="center"?e._getItemOffset(r)+(e._getItemSize(r)-e._getViewportSize())/2:e._getItemOffset(r)),l)},_fixScrollJump:r=>{if(s){if(a){a=!1;const i=s.style,l=i[u];i[u]="hidden",Z(()=>{i[u]=l})}s[c]+=_(r,!0)}}}},Fe=(e,t)=>{let s,n;const o=t?"scrollX":"scrollY",a=t?"offsetLeft":"offsetTop",c=(u,_)=>t&&q()?Oe(s,e,u,_):u;return{_observe(u){s=u;const _=(l,S)=>{const f=S+(t&&q()?window.innerWidth-l[a]-l.offsetWidth:l[a]),m=l.offsetParent;return l===document.body||!m?f:_(m,f)},d=le(()=>{e._update(ee)},150),r=()=>{e._update(H,c(window[o])-_(u,0)),d()},i=pe(e,t,d);window.addEventListener("scroll",r),window.addEventListener("wheel",i,{passive:!0}),n=()=>{window.removeEventListener("scroll",r),window.removeEventListener("wheel",i),d._cancel()}},_dispose(){n&&n()},_fixScrollJump:u=>{window.scrollBy(t?c(u,!0):0,t?0:u)}}},fe="current",Ee=(e,t)=>{if(we(e))for(const s of e)Ee(s,t);else!K(e)||typeof e=="boolean"||t.push(e)},Ye=e=>{const t=[];return Ee(e,t),t},Ge=(e,t)=>{const s=e.key;return K(s)?s:"_"+t},Xe=e=>{const t=B.useRef();return t[fe]||(t[fe]=e())},je=(e,t)=>{let s;const n=t?"width":"height",o=new WeakMap,a=C(()=>new ResizeObserver(c=>{const u=[];for(const{target:_,contentRect:d}of c)if(_.offsetParent)if(_===s)e._update(V,d[n]);else{const r=o.get(_);K(r)&&u.push([r,d[n]])}u.length&&e._update(P,u)}));return{_observeRoot(c){a().observe(s=c)},_observeItem:(c,u)=>{const _=a();return o.set(c,u),_.observe(c),()=>{o.delete(c),_.unobserve(c)}},_dispose(){a().disconnect()}}},Ze=(e,t)=>{const s=t?"width":"height",n=t?"innerWidth":"innerHeight",o=new WeakMap,a=C(()=>new ResizeObserver(u=>{const _=[];for(const{target:d,contentRect:r}of u){if(!d.offsetParent)continue;const i=o.get(d);K(i)&&_.push([i,r[s]])}_.length&&e._update(P,_)})),c=()=>{e._update(V,window[n])};return{_observeRoot(){window.addEventListener("resize",c),c()},_observeItem:(u,_)=>{const d=a();return o.set(u,_),d.observe(u),()=>{o.delete(u),d.unobserve(u)}},_dispose(){window.removeEventListener("resize",c),a().disconnect()}}},qe=(e,t)=>{let s;const n="height",o="width",a=new WeakMap,c=new Set,u=new Set,_=new Map,d=(i,l)=>`${i}-${l}`,r=C(()=>new ResizeObserver(i=>{const l=new Set,S=new Set;for(const{target:f,contentRect:m}of i)if(f.offsetParent)if(f===s)e._update(V,m[n]),t._update(V,m[o]);else{const g=a.get(f);if(g){const[p,O]=g,A=d(p,O),N=_.get(A),M=[m[n],m[o]];let x,L;N?(N[0]!==M[0]&&(x=!0),N[1]!==M[1]&&(L=!0)):x=L=!0,x&&l.add(p),L&&S.add(O),(x||L)&&_.set(A,M)}}if(l.size){const f=[];l.forEach(m=>{let g=0;u.forEach(p=>{const O=_.get(d(m,p));O&&(g=I(g,O[0]))}),g&&f.push([m,g])}),e._update(P,f)}if(S.size){const f=[];S.forEach(m=>{let g=0;c.forEach(p=>{const O=_.get(d(p,m));O&&(g=I(g,O[1]))}),g&&f.push([m,g])}),t._update(P,f)}}));return{_observeRoot(i){r().observe(s=i)},_observeItem(i,l,S){const f=r();return a.set(i,[l,S]),c.add(l),u.add(S),f.observe(i),()=>{a.delete(i),f.unobserve(i)}},_dispose(){r().disconnect()}}},$e=e=>B.useReducer(e._getStateVersion,void 0,e._getStateVersion)[1];export{Ne as A,J as S,U,Xe as a,$e as b,$ as c,Ve as d,Ke as e,qe as f,We as g,Be as h,q as i,Je as j,Me as k,xe as l,Ge as m,je as n,Pe as o,I as p,Ze as q,fe as r,Fe as s,Ye as t,Ue as u,De as v};
