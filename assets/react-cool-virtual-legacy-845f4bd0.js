System.register(["./jsx-runtime-legacy-57aaa4c0.js","./index-legacy-612e7deb.js"],(function(e,r){"use strict";var n,t;return{setters:[e=>{n=e.j},e=>{t=e.r}],execute:function(){var r;!function(e){e.auto="auto",e.start="start",e.center="center",e.end="end"}(r||(r={}));var u=function(e,r,n,t){for(;e<=r;){var u=(e+r)/2|0,i=t(u);if(n<i)r=u-1;else{if(!(n>i))return u;e=u+1}}return e>0?e-1:0},i=function(e){return"number"==typeof e&&!Number.isNaN(e)},c=function(){return"performance"in window?performance.now():Date.now()},o=function(e){var r=t.useRef(e);return r.current=e,r},a="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,s=function(e){var n,s,l,f,d,v,m=e.itemCount,h=e.ssrItemCount,g=e.itemSize,p=void 0===g?50:g,R=e.horizontal,x=e.resetScroll,S=e.overscanCount,b=void 0===S?1:S,w=e.useIsScrolling,C=e.stickyIndices,M=e.scrollDuration,y=void 0===M?function(e){return Math.min(Math.max(.075*e,100),500)}:M,z=e.scrollEasingFunction,I=void 0===z?function(e){return-(Math.cos(Math.PI*e)-1)/2}:z,k=e.loadMoreCount,L=void 0===k?15:k,A=e.isItemLoaded,F=e.loadMore,T=e.onScroll,E=e.onResize,q=t.useState((function(){return function(e,r){void 0===r&&(r=0);for(var n=i(r)?[0,r-1]:r,t=n[0],u=n[1],c=[],o=t;o<=u;o+=1)c.push({index:o,start:0,width:0,size:i(e)?e:e(o,0),measureRef:function(){return null}});return{items:c}}(p,h)})),j=q[0],O=q[1],N=t.useRef(!1),V=t.useRef(!0),D=t.useRef(!1),H=t.useRef(!1),_=t.useRef(new Map),B=t.useRef(0),P=t.useRef(-1),G=t.useRef(-1),J=t.useRef(null),K=t.useRef(null),Q=t.useRef({width:0,height:0}),U=t.useRef([]),W=t.useRef(!0),X=t.useRef(),Y=o(C),Z=o(y),$=o(I),ee=o(A),re=o(F),ne=o(p),te=o(w),ue=o(T),ie=o(E),ce=R?"width":"height",oe=R?"marginLeft":"marginTop",ae=R?"scrollLeft":"scrollTop",se=t.useCallback((function(e){var r=ne.current;return i(r)?r:r(e,Q.current.width)}),[ne]),le=t.useCallback((function(e,r){var n,t,u=null!=(n=null==(t=U.current[e-1])?void 0:t.end)?n:0;return{idx:e,start:u,end:u+r,size:r}}),[]),fe=t.useCallback((function(e){void 0===e&&(e=!0),U.current.length=m;for(var r=0;r<m;r+=1)U.current[r]=le(r,e&&U.current[r]?U.current[r].size:se(r))}),[se,le,m]),de=t.useCallback((function(e){var r=U.current,n=r.length-1,t=0;if(H.current)for(;t<n&&r[t].start+r[t].size<e;)t+=1;else t=u(0,n,e,(function(e){return r[e].start}));for(var i=t,c=r[i].start;i<n&&c<e+Q.current[ce];)c+=r[i].size,i+=1;i=i===n?i:i-1;var o=Math.max(t-b,0),a=Math.min(i+b,n),s=r[o].start;return{oStart:o,oStop:a,vStart:t,vStop:i,innerMargin:s,innerSize:Math[a<n?"max":"min"](r[a].end+r[a].size,r[n].end)-s}}),[b,ce]),ve=t.useCallback((function(e,r){void 0===r&&(r=!0),J.current&&(W.current=!1,V.current=r,J.current[ae]=e)}),[ae]),me=t.useCallback((function(e,r){var n=i(e)?{offset:e}:e,t=n.offset,u=n.smooth;if(i(t)){if(!u)return ve(t),void(r&&r());var o=B.current,a=c();X.current=requestAnimationFrame((function e(){var n=Z.current;n=i(n)?n:n(Math.abs(t-o));var u=Math.min((c()-a)/n,1),s=$.current(u);ve(s*(t-o)+o),u<1?X.current=requestAnimationFrame(e):r&&r()}))}}),[Z,$,ve]),he=t.useCallback((function(e,n,t){var u=i(e)?{index:e}:e,c=u.index,o=u.align,a=void 0===o?r.auto:o,s=u.smooth;if(i(c)){D.current=!0,H.current&&fe();var l=U.current,f=l[Math.max(0,Math.min(c,l.length-1))];if(f){var d=f.start,v=f.end,m=f.size,h=l[l.length-1].end,g=Q.current[ce],p=B.current;if(h<=g)n&&n();else{if(t||a===r.start||a===r.auto&&p+g>v&&p>d)p=h-d<=g?h-g:d;else if(a===r.end||a===r.auto&&p+g<v&&p<d)p=d+m<=g?0:d-g+m;else if(a===r.center&&d+m/2>g/2){var R=d-g/2+m/2;p=h-R<=g?h-g:R}H.current&&Math.abs(p-B.current)<=1?n&&n():me({offset:p,smooth:s},(function(){H.current?t?requestAnimationFrame((function(){return he(e,n,t)})):setTimeout((function(){return he(e,n)})):n&&n()}))}}}}),[fe,me,ce]),ge=t.useCallback((function(e,r){return he(e,r)}),[he]),pe=t.useCallback((function(e,r){return he(e,r,!0)}),[he]),Re=(n=function(){return be(B.current)},s=150,l=t.useRef(),f=o(n),d=t.useCallback((function(){l.current&&(cancelAnimationFrame(l.current),l.current=void 0)}),[]),v=t.useCallback((function(e){c()-e>=s?f.current():l.current=requestAnimationFrame((function(){return v(e)}))}),[f,s]),[t.useCallback((function(){d(),v(c())}),[d,v]),d]),xe=Re[0],Se=Re[1],be=t.useCallback((function(e,r,n){if(!re.current||N.current||ee.current&&ee.current(0)||re.current({startIndex:0,stopIndex:L-1,loadIndex:0,scrollOffset:e,userScroll:!1}),m){for(var t=de(e),i=t.oStart,c=t.oStop,o=t.vStart,a=t.vStop,s=t.innerMargin,l=t.innerSize,f=[],d=Array.isArray(Y.current)?Y.current:[],v=function(t){var u=U.current,i=u[t],c=i.start,o=i.size;f.push({index:t,start:c-s,size:o,width:Q.current.width,isScrolling:n||void 0,isSticky:d.includes(t)||void 0,measureRef:function(i){i&&new ResizeObserver((function(i,a){var s,l,f,d=i[0].target,v=d.getBoundingClientRect()[ce];if(!v)return a.disconnect(),void _.current.delete(d);var m=null!=(s=null==(l=u[t-1])?void 0:l.end)?s:0;v===o&&c===m||(t<P.current&&c<e&&ve(e+v-o,!1),U.current[t]=le(t,v),D.current||be(B.current,r,n),H.current=!0),P.current=t,null==(f=_.current.get(d))||f.disconnect(),_.current.set(d,a)})).observe(i)}})},h=i;h<=c;h+=1)v(h);if(d.length){var g=d[u(0,d.length-1,o,(function(e){return d[e]}))];if(i>g){var p=U.current[g].size;f.unshift({index:g,start:0,size:p,width:Q.current.width,isScrolling:n||void 0,isSticky:!0,measureRef:function(){return null}}),s-=p,l+=p}}if(O((function(e){return function(e,r,n){if(e.length!==r.length)return!0;for(var t=function(t){if(Object.keys(e[t]).some((function(u){var i=u;return!n[i]&&e[t][i]!==r[t][i]})))return{v:!0}},u=0;u<e.length;u+=1){var i=t(u);if("object"==typeof i)return i.v}return!1}(e.items,f,{measureRef:!0})?{items:f,innerMargin:s,innerSize:l}:e})),r){var R=e>B.current;ue.current&&ue.current({overscanStartIndex:i,overscanStopIndex:c,visibleStartIndex:o,visibleStopIndex:a,scrollOffset:e,scrollForward:R,userScroll:W.current});var x=Math.max(Math.floor((a+1)/L)-(R?0:1),0),S=x*L;!re.current||a===G.current||ee.current&&ee.current(x)||re.current({startIndex:S,stopIndex:S+L-1,loadIndex:x,scrollOffset:e,userScroll:W.current}),n&&xe(),G.current=a}}else O({items:[]})}),[Y,de,le,m,L,re,ue,xe,ve,ce,ee]);return function(e,r,n){var t=o(r);a((function(){if(null==e||!e.current)return function(){return null};var r=new ResizeObserver((function(e){var r=e[0].contentRect,n=r.width,u=r.height;t.current({width:n,height:u})}));return r.observe(e.current),function(){return r.disconnect()}}),[t,e].concat(n))}(J,(function(e){var r,n=Q.current,t=n.width,u=n.height,i=t===e.width,c=i&&u===e.height,o=U.current.length,a=null==(r=U.current[o-1])?void 0:r.end;if(Q.current=e,fe(H.current),be(B.current),x&&m!==o&&setTimeout((function(){return ve(0,!1)})),N.current){if(!H.current&&!i){var s,l=(null==(s=U.current[U.current.length-1])?void 0:s.end)/a||1;ve(B.current*l,!1)}!c&&ie.current&&ie.current(e)}else N.current=!0}),[m,x,be,fe,ie,ve]),a((function(){K.current&&(i(j.innerMargin)&&(K.current.style[oe]=j.innerMargin+"px"),i(j.innerSize)&&(K.current.style[ce]=j.innerSize+"px"))}),[oe,ce,j.innerMargin,j.innerSize]),a((function(){var e=J.current;if(!e)return function(){return null};var r=function(e){var r=e.target[ae];if(r!==B.current){var n=te.current;n="function"==typeof n?n(Math.abs(r-B.current)):n,be(r,V.current,n),W.current=!0,V.current=!0,D.current=!1,B.current=r}};e.addEventListener("scroll",r,{passive:!0});var n=_.current;return function(){Se(),X.current&&(cancelAnimationFrame(X.current),X.current=void 0),e.removeEventListener("scroll",r),n.forEach((function(e){return e.disconnect()})),n.clear()}}),[Se,be,ae,te]),{outerRef:J,innerRef:K,items:j.items,scrollTo:me,scrollToItem:ge,startItem:pe}};const l=e("R",t.memo((({count:e,Component:r,handle:u})=>{const{outerRef:i,innerRef:c,items:o,scrollToItem:a}=s({itemCount:e});return t.useImperativeHandle(u,(()=>({scrollToIndex:a}))),n("div",{ref:i,style:{width:"100%",height:"100%",overflow:"auto"},children:n("div",{ref:c,children:o.map((({index:e,measureRef:t})=>n(r,{index:e,ref:t},e)))})})})));try{l.displayName="ReactCoolVirtualList",l.__docgenInfo={description:"",displayName:"ReactCoolVirtualList",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},Component:{defaultValue:null,description:"",name:"Component",required:!0,type:{name:"ForwardRefExoticComponent<{ index: number; } & RefAttributes<HTMLDivElement>>"}},handle:{defaultValue:null,description:"",name:"handle",required:!1,type:{name:"Ref<ListHandle>"}}}}}catch(f){}}}}));
//# sourceMappingURL=react-cool-virtual-legacy-845f4bd0.js.map
