!function(){const e=["children"],t=["behavior","align"],o=["done","behavior","align","calculateViewLocation"],n=["listState","topItemsIndexes"],r=["style","children"],i=["style","children"];function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){c(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function c(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function u(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}System.register(["./jsx-runtime-legacy-fe2b3564.js","./index-legacy-612e7deb.js","./index-legacy-99a945f3.js"],(function(l,c){"use strict";var a,d,f,m;return{setters:[e=>{a=e.j},e=>{d=e.R,f=e.r},e=>{m=e.R}],execute:function(){const c=0,h=1,g=2,p=4;function v(e,t){return o=>e(t(o))}function I(e,t){return t(e)}function x(e,t){return o=>e(t,o)}function T(e,t){return()=>e(t)}function w(e,t){return t(e),e}function S(...e){return e}function C(e){e()}function y(e){return()=>e}function E(e){return void 0!==e}function H(){}function b(e,t){return e(h,t)}function z(e,t){e(c,t)}function R(e){e(g)}function B(e){return e(p)}function k(e,t){return b(e,x(t,c))}function O(e,t){const o=e(h,(e=>{o(),t(e)}));return o}function P(){const e=[];return(t,o)=>{switch(t){case g:return void e.splice(0,e.length);case h:return e.push(o),()=>{const t=e.indexOf(o);t>-1&&e.splice(t,1)};case c:return void e.slice().forEach((e=>{e(o)}));default:throw new Error(`unrecognized action ${t}`)}}}function L(e){let t=e;const o=P();return(e,n)=>{switch(e){case h:n(t);break;case c:t=n;break;case p:return t}return o(e,n)}}function M(e){return w(P(),(t=>k(e,t)))}function W(e,t){return w(L(t),(t=>k(e,t)))}function A(e,...t){const o=function(...e){return t=>e.reduceRight(I,t)}(...t);return(t,n)=>{switch(t){case h:return b(e,o(n));case g:return void R(e)}}}function D(e,t){return e===t}function F(e=D){let t;return o=>n=>{e(t,n)||(t=n,o(n))}}function j(e){return t=>o=>{e(o)&&t(o)}}function V(e){return t=>v(t,e)}function N(e){return t=>()=>t(e)}function G(e,t){return o=>n=>o(t=e(t,n))}function _(e){return t=>o=>{e>0?e--:t(o)}}function U(e){let t,o;return n=>r=>{t=r,o||(o=setTimeout((()=>{o=void 0,n(t)}),e))}}function $(e){let t,o;return n=>r=>{t=r,o&&clearTimeout(o),o=setTimeout((()=>{n(t)}),e)}}function q(...e){const t=new Array(e.length);let o=0,n=null;const r=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const l=Math.pow(2,i);b(e,(e=>{const s=o;o|=l,t[i]=e,s!==r&&o===r&&n&&(n(),n=null)}))})),e=>i=>{const l=()=>e([i].concat(t));o===r?l():n=l}}function K(...e){return function(t,o){switch(t){case h:return function(...e){return()=>{e.map(C)}}(...e.map((e=>b(e,o))));case g:return;default:throw new Error(`unrecognized action ${t}`)}}}function Y(e,t=D){return A(e,F(t))}function Z(...e){const t=P(),o=new Array(e.length);let n=0;const r=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const l=Math.pow(2,i);b(e,(e=>{o[i]=e,n|=l,n===r&&z(t,o)}))})),function(e,i){switch(e){case h:return n===r&&i(o),b(t,i);case g:return R(t);default:throw new Error(`unrecognized action ${e}`)}}}function J(e,t=[],{singleton:o}={singleton:!0}){return{id:Q(),constructor:e,dependencies:t,singleton:o}}const Q=()=>Symbol();const X="undefined"!=typeof document?d.useLayoutEffect:d.useEffect;function ee(t,o,n){const r=Object.keys(o.required||{}),i=Object.keys(o.optional||{}),l=Object.keys(o.methods||{}),s=Object.keys(o.events||{}),c=d.createContext({});function a(e,t){e.propsReady&&z(e.propsReady,!1);for(const n of r){z(e[o.required[n]],t[n])}for(const n of i)if(n in t){z(e[o.optional[n]],t[n])}e.propsReady&&z(e.propsReady,!0)}function f(e){return s.reduce(((t,n)=>(t[n]=function(e){let t,o;const n=()=>t&&t();return function(r,i){switch(r){case h:if(i){if(o===i)return;return n(),o=i,t=b(e,i),t}return n(),H;case g:return n(),void(o=null);default:throw new Error(`unrecognized action ${r}`)}}}(e[o.events[n]]),t)),{})}const m=d.forwardRef(((m,h)=>{const{children:g}=m,p=u(m,e),[v]=d.useState((()=>w(function(e){const t=new Map,o=({id:e,constructor:n,dependencies:r,singleton:i})=>{if(i&&t.has(e))return t.get(e);const l=n(r.map((e=>o(e))));return i&&t.set(e,l),l};return o(e)}(t),(e=>a(e,p))))),[I]=d.useState(T(f,v));return X((()=>{for(const e of s)e in p&&b(I[e],p[e]);return()=>{Object.values(I).map(R)}}),[p,I,v]),X((()=>{a(v,p)})),d.useImperativeHandle(h,y(function(e){return l.reduce(((t,n)=>(t[n]=t=>{z(e[o.methods[n]],t)},t)),{})}(v))),d.createElement(c.Provider,{value:v},n?d.createElement(n,function(e,t){const o={},n={};let r=0;const i=e.length;for(;r<i;)n[e[r]]=1,r+=1;for(const l in t)n.hasOwnProperty(l)||(o[l]=t[l]);return o}([...r,...i,...s],p),g):g)}));return{Component:m,usePublisher:e=>d.useCallback(x(z,d.useContext(c)[e]),[e]),useEmitterValue:e=>{const t=d.useContext(c)[e],[o,n]=d.useState(T(B,t));return X((()=>b(t,(e=>{e!==o&&n(y(e))}))),[t,o]),o},useEmitter:(e,t)=>{const o=d.useContext(c)[e];X((()=>b(o,t)),[t,o])}}}const te="undefined"!=typeof document?d.useLayoutEffect:d.useEffect;var oe=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(oe||{});const ne={0:"debug",1:"log",2:"warn",3:"error"},re=J((()=>{const e=L(3);return{log:L(((t,o,n=1)=>{var r;n>=(null!=(r=("undefined"==typeof globalThis?window:globalThis).VIRTUOSO_LOG_LEVEL)?r:B(e))&&console[ne[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,o)})),logLevel:e}}),[],{singleton:!0});function ie(e,t=!0){const o=d.useRef(null);let n=e=>{};if("undefined"!=typeof ResizeObserver){const r=d.useMemo((()=>new ResizeObserver((t=>{const o=t[0].target;null!==o.offsetParent&&e(o)}))),[e]);n=e=>{e&&t?(r.observe(e),o.current=e):(o.current&&r.unobserve(o.current),o.current=null)}}return{ref:o,callbackRef:n}}function le(e,t=!0){return ie(e,t).callbackRef}function se(e,t,o,n,r,i,l){const s=d.useCallback((o=>{const s=function(e,t,o,n){const r=e.length;if(0===r)return null;const i=[];for(let l=0;l<r;l++){const r=e.item(l);if(!r||void 0===r.dataset.index)continue;const s=parseInt(r.dataset.index),c=parseFloat(r.dataset.knownSize),u=t(r,o);if(0===u&&n("Zero-sized element, this should not happen",{child:r},oe.ERROR),u===c)continue;const a=i[i.length-1];0===i.length||a.size!==u||a.endIndex!==s-1?i.push({startIndex:s,endIndex:s,size:u}):i[i.length-1].endIndex++}return i}(o.children,t,"offsetHeight",r);let c=o.parentElement;for(;!c.dataset.virtuosoScroller;)c=c.parentElement;const u="window"===c.lastElementChild.dataset.viewportType,a=l?l.scrollTop:u?window.pageYOffset||document.documentElement.scrollTop:c.scrollTop,d=l?l.scrollHeight:u?document.documentElement.scrollHeight:c.scrollHeight,f=l?l.offsetHeight:u?window.innerHeight:c.offsetHeight;n({scrollTop:Math.max(a,0),scrollHeight:d,viewportHeight:f}),null==i||i(function(e,t,o){"normal"===t||(null==t?void 0:t.endsWith("px"))||o(`${e} was not resolved to pixel value correctly`,t,oe.WARN);if("normal"===t)return 0;return parseInt(null!=t?t:"0",10)}("row-gap",getComputedStyle(o).rowGap,r)),null!==s&&e(s)}),[e,t,r,i,l,n]);return ie(s,o)}function ce(e,t){return Math.round(e.getBoundingClientRect()[t])}function ue(e,t){return Math.abs(e-t)<1.01}function ae(e,t,o,n=H,r){const i=d.useRef(null),l=d.useRef(null),s=d.useRef(null),c=d.useCallback((o=>{const n=o.target,r=n===window||n===document,i=r?window.pageYOffset||document.documentElement.scrollTop:n.scrollTop,c=r?document.documentElement.scrollHeight:n.scrollHeight,u=r?window.innerHeight:n.offsetHeight,a=()=>{e({scrollTop:Math.max(i,0),scrollHeight:c,viewportHeight:u})};o.suppressFlushSync?a():m.flushSync(a),null!==l.current&&(i===l.current||i<=0||i===c-u)&&(l.current=null,t(!0),s.current&&(clearTimeout(s.current),s.current=null))}),[e,t]);return d.useEffect((()=>{const e=r||i.current;return n(r||i.current),c({target:e,suppressFlushSync:!0}),e.addEventListener("scroll",c,{passive:!0}),()=>{n(null),e.removeEventListener("scroll",c)}}),[i,c,o,n,r]),{scrollerRef:i,scrollByCallback:function(e){i.current.scrollBy(e)},scrollToCallback:function(o){const n=i.current;if(!n||"offsetHeight"in n&&0===n.offsetHeight)return;const r="smooth"===o.behavior;let c,u,a;n===window?(u=Math.max(ce(document.documentElement,"height"),document.documentElement.scrollHeight),c=window.innerHeight,a=document.documentElement.scrollTop):(u=n.scrollHeight,c=ce(n,"height"),a=n.scrollTop);const d=u-c;if(o.top=Math.ceil(Math.max(Math.min(d,o.top),0)),ue(c,u)||o.top===a)return e({scrollTop:a,scrollHeight:u,viewportHeight:c}),void(r&&t(!0));r?(l.current=o.top,s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{s.current=null,l.current=null,t(!0)}),1e3)):l.current=null,n.scrollTo(o)}}}const de=J((()=>{const e=P(),t=P(),o=L(0),n=P(),r=L(0),i=P(),l=P(),s=L(0),c=L(0),u=L(0),a=L(0),d=P(),f=P(),m=L(!1);return k(A(e,V((({scrollTop:e})=>e))),t),k(A(e,V((({scrollHeight:e})=>e))),l),k(t,r),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:s,fixedHeaderHeight:c,fixedFooterHeight:u,footerHeight:a,scrollHeight:l,smoothScrollTargetReached:n,scrollTo:d,scrollBy:f,statefulScrollTop:r,deviation:o,scrollingInProgress:m}}),[],{singleton:!0}),fe={lvl:0};function me(e,t,o,n=fe,r=fe){return{k:e,v:t,lvl:o,l:n,r:r}}function he(e){return e===fe}function ge(){return fe}function pe(e,t){if(he(e))return fe;const{k:o,l:n,r:r}=e;if(t===o){if(he(n))return r;if(he(r))return n;{const[t,o]=Se(n);return be(ye(e,{k:t,v:o,l:Ce(n)}))}}return be(ye(e,t<o?{l:pe(n,t)}:{r:pe(r,t)}))}function ve(e,t){if(!he(e))return t===e.k?e.v:t<e.k?ve(e.l,t):ve(e.r,t)}function Ie(e,t,o="k"){if(he(e))return[-1/0,void 0];if(e[o]===t)return[e.k,e.v];if(e[o]<t){const n=Ie(e.r,t,o);return n[0]===-1/0?[e.k,e.v]:n}return Ie(e.l,t,o)}function xe(e,t,o){return he(e)?me(t,o,1):t===e.k?ye(e,{k:t,v:o}):t<e.k?He(ye(e,{l:xe(e.l,t,o)})):He(ye(e,{r:xe(e.r,t,o)}))}function Te(e,t,o){if(he(e))return[];const{k:n,v:r,l:i,r:l}=e;let s=[];return n>t&&(s=s.concat(Te(i,t,o))),n>=t&&n<=o&&s.push({k:n,v:r}),n<=o&&(s=s.concat(Te(l,t,o))),s}function we(e){return he(e)?[]:[...we(e.l),{k:e.k,v:e.v},...we(e.r)]}function Se(e){return he(e.r)?[e.k,e.v]:Se(e.r)}function Ce(e){return he(e.r)?e.l:be(ye(e,{r:Ce(e.r)}))}function ye(e,t){return me(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function Ee(e){return he(e)||e.lvl>e.r.lvl}function He(e){return Be(ke(e))}function be(e){const{l:t,r:o,lvl:n}=e;if(o.lvl>=n-1&&t.lvl>=n-1)return e;if(n>o.lvl+1){if(Ee(t))return ke(ye(e,{lvl:n-1}));if(he(t)||he(t.r))throw new Error("Unexpected empty nodes");return ye(t.r,{l:ye(t,{r:t.r.l}),r:ye(e,{l:t.r.r,lvl:n-1}),lvl:n})}if(Ee(e))return Be(ye(e,{lvl:n-1}));if(he(o)||he(o.l))throw new Error("Unexpected empty nodes");{const t=o.l,r=Ee(t)?o.lvl-1:o.lvl;return ye(t,{l:ye(e,{r:t.l,lvl:n-1}),r:Be(ye(o,{l:t.r,lvl:r})),lvl:t.lvl+1})}}function ze(e,t,o){if(he(e))return[];const n=Ie(e,t)[0];return Re(Te(e,n,o),(({k:e,v:t})=>({index:e,value:t})))}function Re(e,t){const o=e.length;if(0===o)return[];let{index:n,value:r}=t(e[0]);const i=[];for(let l=1;l<o;l++){const{index:o,value:s}=t(e[l]);i.push({start:n,end:o-1,value:r}),n=o,r=s}return i.push({start:n,end:1/0,value:r}),i}function Be(e){const{r:t,lvl:o}=e;return he(t)||he(t.r)||t.lvl!==o||t.r.lvl!==o?e:ye(t,{l:ye(e,{r:t.l}),lvl:o+1})}function ke(e){const{l:t}=e;return he(t)||t.lvl!==e.lvl?e:ye(t,{r:ye(e,{l:t.r})})}function Oe(e,t,o,n=0){let r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),l=o(e[i],t);if(0===l)return i;if(-1===l){if(r-n<2)return i-1;r=i-1}else{if(r===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function Pe(e,t,o){return e[Oe(e,t,o)]}const Le=J((()=>({recalcInProgress:L(!1)})),[],{singleton:!0});function Me(e){const{size:t,startIndex:o,endIndex:n}=e;return e=>e.start===o&&(e.end===n||e.end===1/0)&&e.value===t}function We(e,t){let o=0,n=0;for(;o<e;)o+=t[n+1]-t[n]-1,n++;return n-(o===e?0:1)}function Ae({index:e},t){return t===e?0:t<e?-1:1}function De({offset:e},t){return t===e?0:t<e?-1:1}function Fe(e){return{index:e.index,value:e}}function je(e,t,o,n=0){return n>0&&(t=Math.max(t,Pe(e,n,Ae).offset)),Re(function(e,t,o,n){const r=Oe(e,t,n),i=Oe(e,o,n,r);return e.slice(r,i+1)}(e,t,o,De),Fe)}function Ve(e,t,o,n){let r=e,i=0,l=0,s=0,c=0;if(0!==t){c=Oe(r,t-1,Ae);s=r[c].offset;const e=Ie(o,t-1);i=e[0],l=e[1],r.length&&r[c].size===Ie(o,t)[1]&&(c-=1),r=r.slice(0,c+1)}else r=[];for(const{start:u,value:a}of ze(o,t,1/0)){const e=u-i,t=e*l+s+e*n;r.push({offset:t,size:a,index:u}),i=u,s=t,l=a}return{offsetTree:r,lastIndex:i,lastOffset:s,lastSize:l}}function Ne(e,[t,o,n,r]){t.length>0&&n("received item sizes",t,oe.DEBUG);const i=e.sizeTree;let l=i,s=0;if(o.length>0&&he(i)&&2===t.length){const e=t[0].size,n=t[1].size;l=o.reduce(((t,o)=>xe(xe(t,o,e),o+1,n)),l)}else[l,s]=function(e,t){let o=he(e)?0:1/0;for(const n of t){const{size:t,startIndex:r,endIndex:i}=n;if(o=Math.min(o,r),he(e)){e=xe(e,0,t);continue}const l=ze(e,r-1,i+1);if(l.some(Me(n)))continue;let s=!1,c=!1;for(const{start:o,end:n,value:u}of l)s?(i>=o||t===u)&&(e=pe(e,o)):(c=u!==t,s=!0),n>i&&i>=o&&u!==t&&(e=xe(e,i+1,u));c&&(e=xe(e,r,t))}return[e,o]}(l,t);if(l===i)return e;const{offsetTree:c,lastIndex:u,lastSize:a,lastOffset:d}=Ve(e.offsetTree,s,l,r);return{sizeTree:l,offsetTree:c,lastIndex:u,lastOffset:d,lastSize:a,groupOffsetTree:o.reduce(((e,t)=>xe(e,t,Ge(t,c,r))),ge()),groupIndices:o}}function Ge(e,t,o){if(0===t.length)return 0;const{offset:n,index:r,size:i}=Pe(t,e,Ae),l=e-r,s=i*l+(l-1)*o+n;return s>0?s+o:s}function _e(e,t,o){if(function(e){return void 0!==e.groupIndex}(e))return t.groupIndices[e.groupIndex]+1;{let n=Ue("LAST"===e.index?o:e.index,t);return n=Math.max(0,n,Math.min(o,n)),n}}function Ue(e,t){if(!$e(t))return e;let o=0;for(;t.groupIndices[o]<=e+o;)o++;return e+o}function $e(e){return!he(e.groupOffsetTree)}const qe={offsetHeight:"height",offsetWidth:"width"},Ke=J((([{log:e},{recalcInProgress:t}])=>{const o=P(),n=P(),r=W(n,0),i=P(),l=P(),c=L(0),u=L([]),a=L(void 0),d=L(void 0),f=L(((e,t)=>ce(e,qe[t]))),m=L(void 0),h=L(0),g={offsetTree:[],sizeTree:ge(),groupOffsetTree:ge(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},p=W(A(o,q(u,e,h),G(Ne,g),F()),g),v=W(A(u,F(),G(((e,t)=>({prev:e.current,current:t})),{prev:[],current:[]}),V((({prev:e})=>e))),[]);k(A(u,j((e=>e.length>0)),q(p,h),V((([e,t,o])=>{const n=e.reduce(((e,n,r)=>xe(e,n,Ge(n,t.offsetTree,o)||r)),ge());return s(s({},t),{},{groupIndices:e,groupOffsetTree:n})}))),p),k(A(n,q(p),j((([e,{lastIndex:t,groupIndices:o}])=>e<t&&0===o.length)),V((([e,{lastIndex:t,lastSize:o}])=>[{startIndex:e,endIndex:t,size:o}]))),o),k(a,d);const I=W(A(a,V((e=>void 0===e))),!0);k(A(d,j((e=>void 0!==e&&he(B(p).sizeTree))),V((e=>[{startIndex:0,endIndex:0,size:e}]))),o);const x=M(A(o,q(p),G((({sizes:e},[t,o])=>({changed:o!==e,sizes:o})),{changed:!1,sizes:g}),V((e=>e.changed))));b(A(c,G(((e,t)=>({diff:e.prev-t,prev:t})),{diff:0,prev:0}),V((e=>e.diff))),(e=>{const{groupIndices:o}=B(p);if(e>0)z(t,!0),z(i,e+We(e,o));else if(e<0){const t=B(v);t.length>0&&z(l,e-We(-e,t))}})),b(A(c,q(e)),(([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:c},oe.ERROR)}));const T=M(i);k(A(i,q(p),V((([e,t])=>{const o=t.groupIndices.length>0,n=[],r=t.lastSize;if(o){const o=ve(t.sizeTree,0);let i=0,l=0;for(;i<e;){const e=t.groupIndices[l],s=t.groupIndices.length===l+1?1/0:t.groupIndices[l+1]-e-1;n.push({startIndex:e,endIndex:e,size:o}),n.push({startIndex:e+1,endIndex:e+1+s-1,size:r}),l++,i+=s+1}const s=we(t.sizeTree);return i!==e&&s.shift(),s.reduce(((t,{k:o,v:n})=>{let r=t.ranges;return 0!==t.prevSize&&(r=[...t.ranges,{startIndex:t.prevIndex,endIndex:o+e-1,size:t.prevSize}]),{ranges:r,prevIndex:o+e,prevSize:n}}),{ranges:n,prevIndex:e,prevSize:0}).ranges}return we(t.sizeTree).reduce(((t,{k:o,v:n})=>({ranges:[...t.ranges,{startIndex:t.prevIndex,endIndex:o+e-1,size:t.prevSize}],prevIndex:o+e,prevSize:n})),{ranges:[],prevIndex:0,prevSize:r}).ranges}))),o);const w=M(A(l,q(p,h),V((([e,{offsetTree:t},o])=>Ge(-e,t,o)))));return k(A(l,q(p,h),V((([e,t,o])=>{if(t.groupIndices.length>0){let n=ge();const r=B(v);let i=0,l=0,c=0;for(;i<-e;){c=r[l];const e=r[l+1]-c-1;l++,i+=e+1}n=we(t.sizeTree).reduce(((t,{k:o,v:n})=>xe(t,Math.max(0,o+e),n)),n);if(i!==-e){n=xe(n,0,ve(t.sizeTree,c));n=xe(n,1,Ie(t.sizeTree,1-e)[1])}return s(s({},t),{},{sizeTree:n},Ve(t.offsetTree,0,n,o))}{const n=we(t.sizeTree).reduce(((t,{k:o,v:n})=>xe(t,Math.max(0,o+e),n)),ge());return s(s({},t),{},{sizeTree:n},Ve(t.offsetTree,0,n,o))}}))),p),{data:m,totalCount:n,sizeRanges:o,groupIndices:u,defaultItemSize:d,fixedItemSize:a,unshiftWith:i,shiftWith:l,shiftWithOffset:w,beforeUnshiftWith:T,firstItemIndex:c,gap:h,sizes:p,listRefresh:x,statefulTotalCount:r,trackItemSizes:I,itemSize:f}}),S(re,Le),{singleton:!0}),Ye="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function Ze(e){const t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&Ye||(t.behavior="auto"),t.offset||(t.offset=0),t}const Je=J((([{sizes:e,totalCount:t,listRefresh:o,gap:n},{scrollingInProgress:r,viewportHeight:i,scrollTo:l,smoothScrollTargetReached:s,headerHeight:c,footerHeight:u,fixedHeaderHeight:a,fixedFooterHeight:d},{log:f}])=>{const m=P(),h=L(0);let g=null,p=null,v=null;function I(){g&&(g(),g=null),v&&(v(),v=null),p&&(clearTimeout(p),p=null),z(r,!1)}return k(A(m,q(e,i,t,h,c,u,f),q(n,a,d),V((([[e,t,n,i,l,c,u,a],d,f,h])=>{const x=Ze(e),{align:T,behavior:w,offset:S}=x,C=i-1,y=_e(x,t,C);let E=Ge(y,t.offsetTree,d)+c;"end"===T?(E+=f+Ie(t.sizeTree,y)[1]-n+h,y===C&&(E+=u)):"center"===T?E+=(f+Ie(t.sizeTree,y)[1]-n+h)/2:E-=l,S&&(E+=S);const H=t=>{I(),t?(a("retrying to scroll to",{location:e},oe.DEBUG),z(m,e)):a("list did not change, scroll successful",{},oe.DEBUG)};if(I(),"smooth"===w){let e=!1;v=b(o,(t=>{e=e||t})),g=O(s,(()=>{H(e)}))}else g=O(A(o,(R=150,e=>{const t=setTimeout((()=>{e(!1)}),R);return o=>{o&&(e(!0),clearTimeout(t))}})),H);var R;return p=setTimeout((()=>{I()}),1200),z(r,!0),a("scrolling from index to",{index:y,top:E,behavior:w},oe.DEBUG),{top:E,behavior:w}}))),l),{scrollToIndex:m,topListHeight:h}}),S(Ke,de,re),{singleton:!0});const Qe="up",Xe="down",et={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},tt=J((([{scrollContainerState:e,scrollTop:t,viewportHeight:o,headerHeight:n,footerHeight:r,scrollBy:i}])=>{const l=L(!1),s=L(!0),c=P(),u=P(),a=L(4),d=L(0),f=W(A(K(A(Y(t),_(1),N(!0)),A(Y(t),_(1),N(!1),$(100))),F()),!1),m=W(A(K(A(i,N(!0)),A(i,N(!1),$(200))),F()),!1);k(A(Z(Y(t),Y(d)),V((([e,t])=>e<=t)),F()),s),k(A(s,U(50)),u);const h=M(A(Z(e,Y(o),Y(n),Y(r),Y(a)),G(((e,[{scrollTop:t,scrollHeight:o},n,r,i,l])=>{const s={viewportHeight:n,scrollTop:t,scrollHeight:o};if(t+n-o>-l){let o,n;return t>e.state.scrollTop?(o="SCROLLED_DOWN",n=e.state.scrollTop-t):(o="SIZE_DECREASED",n=e.state.scrollTop-t||e.scrollTopDelta),{atBottom:!0,state:s,atBottomBecause:o,scrollTopDelta:n}}let c;return c=s.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":n<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":t<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:c,state:s}}),et),F(((e,t)=>e&&e.atBottom===t.atBottom)))),g=W(A(e,G(((e,{scrollTop:t,scrollHeight:o,viewportHeight:n})=>{if(ue(e.scrollHeight,o))return{scrollTop:t,scrollHeight:o,jump:0,changed:!1};{const r=o-(t+n)<1;return e.scrollTop!==t&&r?{scrollHeight:o,scrollTop:t,jump:e.scrollTop-t,changed:!0}:{scrollHeight:o,scrollTop:t,jump:0,changed:!0}}}),{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),j((e=>e.changed)),V((e=>e.jump))),0);k(A(h,V((e=>e.atBottom))),l),k(A(l,U(50)),c);const p=L(Xe);k(A(e,V((({scrollTop:e})=>e)),F(),G(((e,t)=>B(m)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?Qe:Xe,prevScrollTop:t}),{direction:Xe,prevScrollTop:0}),V((e=>e.direction))),p),k(A(e,U(50),N("none")),p);const v=L(0);return k(A(f,j((e=>!e)),N(0)),v),k(A(t,U(100),q(f),j((([e,t])=>!!t)),G((([e,t],[o])=>[t,o]),[0,0]),V((([e,t])=>t-e))),v),{isScrolling:f,isAtTop:s,isAtBottom:l,atBottomState:h,atTopStateChange:u,atBottomStateChange:c,scrollDirection:p,atBottomThreshold:a,atTopThreshold:d,scrollVelocity:v,lastJumpDueToItemResize:g}}),S(de)),ot=J((([{log:e}])=>{const t=L(!1),o=M(A(t,j((e=>e)),F()));return b(t,(t=>{t&&B(e)("props updated",{},oe.DEBUG)})),{propsReady:t,didMount:o}}),S(re),{singleton:!0});function nt(e,t){0==e?t():requestAnimationFrame((()=>nt(e-1,t)))}const rt=J((([{sizes:e,listRefresh:t,defaultItemSize:o},{scrollTop:n},{scrollToIndex:r},{didMount:i}])=>{const l=L(!0),s=L(0),c=L(!1);return k(A(i,q(s),j((([e,t])=>!!t)),N(!1)),l),b(A(Z(t,i),q(l,e,o,c),j((([[,e],t,{sizeTree:o},n,r])=>e&&(!he(o)||E(n))&&!t&&!r)),q(s)),(([,e])=>{z(c,!0),nt(2,(()=>{O(n,(()=>z(l,!0))),z(r,e)}))})),{scrolledToInitialItem:l,initialTopMostItemIndex:s}}),S(Ke,de,Je,ot),{singleton:!0});function it(e){return!!e&&("smooth"===e?"smooth":"auto")}const lt=J((([{totalCount:e,listRefresh:t},{isAtBottom:o,atBottomState:n},{scrollToIndex:r},{scrolledToInitialItem:i},{propsReady:l,didMount:s},{log:c},{scrollingInProgress:u}])=>{const a=L(!1),d=P();let f=null;function m(e){z(r,{index:"LAST",align:"end",behavior:e})}function h(e){const t=O(n,(t=>{!e||t.atBottom||"SIZE_INCREASED"!==t.notAtBottomBecause||f||(B(c)("scrolling to bottom due to increased size",{},oe.DEBUG),m("auto"))}));setTimeout(t,100)}return b(A(Z(A(Y(e),_(1)),s),q(Y(a),o,i,u),V((([[e,t],o,n,r,i])=>{let l=t&&r,s="auto";return l&&(s=((e,t)=>"function"==typeof e?it(e(t)):t&&it(e))(o,n||i),l=l&&!!s),{totalCount:e,shouldFollow:l,followOutputBehavior:s}})),j((({shouldFollow:e})=>e))),(({totalCount:e,followOutputBehavior:o})=>{f&&(f(),f=null),f=O(t,(()=>{B(c)("following output to ",{totalCount:e},oe.DEBUG),m(o),f=null}))})),b(A(Z(Y(a),e,l),j((([e,,t])=>e&&t)),G((({value:e},[,t])=>({refreshed:e===t,value:t})),{refreshed:!1,value:0}),j((({refreshed:e})=>e)),q(a,e)),(([,e])=>{h(!1!==e)})),b(d,(()=>{h(!1!==B(a))})),b(Z(Y(a),n),(([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&m("auto")})),{followOutput:a,autoscrollToBottom:d}}),S(Ke,tt,Je,rt,ot,re,de));function st(e){return e.reduce(((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e)),{totalCount:0,groupIndices:[]})}const ct=J((([{totalCount:e,groupIndices:t,sizes:o},{scrollTop:n,headerHeight:r}])=>{const i=P(),l=P(),s=M(A(i,V(st)));return k(A(s,V((e=>e.totalCount))),e),k(A(s,V((e=>e.groupIndices))),t),k(A(Z(n,o,r),j((([e,t])=>$e(t))),V((([e,t,o])=>Ie(t.groupOffsetTree,Math.max(e-o,0),"v")[0])),F(),V((e=>[e]))),l),{groupCounts:i,topItemsIndexes:l}}),S(Ke,de));function ut(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function at(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}const dt="top",ft="bottom",mt="none";function ht(e,t,o){return"number"==typeof e?o===Qe&&t===dt||o===Xe&&t===ft?e:0:o===Qe?t===dt?e.main:e.reverse:t===ft?e.main:e.reverse}function gt(e,t){return"number"==typeof e?e:e[t]||0}const pt=J((([{scrollTop:e,viewportHeight:t,deviation:o,headerHeight:n,fixedHeaderHeight:r}])=>{const i=P(),l=L(0),s=L(0),c=L(0);return{listBoundary:i,overscan:c,topListHeight:l,increaseViewportBy:s,visibleRange:W(A(Z(Y(e),Y(t),Y(n),Y(i,ut),Y(c),Y(l),Y(r),Y(o),Y(s)),V((([e,t,o,[n,r],i,l,s,c,u])=>{const a=e-c,d=l+s,f=Math.max(o-a,0);let m=mt;const h=gt(u,dt),g=gt(u,ft);return n-=c,r+=o+s,(n+=o+s)>e+d-h&&(m=Qe),(r-=c)<e-f+t+g&&(m=Xe),m!==mt?[Math.max(a-o-ht(i,dt,m)-h,0),a-f-s+t+ht(i,ft,m)+g]:null})),j((e=>null!=e)),F(ut)),[0,0])}}),S(de),{singleton:!0});const vt={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function It(e,t,o){if(0===e.length)return[];if(!$e(t))return e.map((e=>s(s({},e),{},{index:e.index+o,originalIndex:e.index})));const n=e[0].index,r=e[e.length-1].index,i=[],l=ze(t.groupOffsetTree,n,r);let c,u=0;for(const a of e){let e;(!c||c.end<a.index)&&(c=l.shift(),u=t.groupIndices.indexOf(c.start)),e=a.index===c.start?{type:"group",index:u}:{index:a.index-(u+1)+o,groupIndex:u},i.push(s(s({},e),{},{size:a.size,offset:a.offset,originalIndex:a.index,data:a.data}))}return i}function xt(e,t,o,n,r,i){const{lastSize:l,lastOffset:s,lastIndex:c}=r;let u=0,a=0;if(e.length>0){u=e[0].offset;const t=e[e.length-1];a=t.offset+t.size}const d=o-c,f=u,m=s+d*l+(d-1)*n-a;return{items:It(e,r,i),topItems:It(t,r,i),topListHeight:t.reduce(((e,t)=>t.size+e),0),offsetTop:u,offsetBottom:m,top:f,bottom:a,totalCount:o,firstItemIndex:i}}const Tt=J((([{sizes:e,totalCount:t,data:o,firstItemIndex:n,gap:r},i,{visibleRange:l,listBoundary:c,topListHeight:u},{scrolledToInitialItem:a,initialTopMostItemIndex:d},{topListHeight:f},m,{didMount:h},{recalcInProgress:g}])=>{const p=L([]),v=P();k(i.topItemsIndexes,p);const I=W(A(Z(h,g,Y(l,ut),Y(t),Y(e),Y(d),a,Y(p),Y(n),Y(r),o),j((([e,t,,o,,,,,,,n])=>{const r=n&&n.length!==o;return e&&!t&&!r})),V((([,,[e,t],o,n,r,i,l,c,u,a])=>{const d=n,{sizeTree:f,offsetTree:m}=d;if(0===o||0===e&&0===t)return s(s({},vt),{},{totalCount:o});if(he(f))return xt(function(e,t,o){if($e(t)){const n=Ue(e,t);return[{index:Ie(t.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:o&&o[0]}]}return[{index:e,size:0,offset:0,data:o&&o[0]}]}(function(e,t){const o=t-1;return"number"==typeof e?e:"LAST"===e.index?o:e.index}(r,o),d,a),[],o,u,d,c);const h=[];if(l.length>0){const e=l[0],t=l[l.length-1];let o=0;for(const n of ze(f,e,t)){const r=n.value,i=Math.max(n.start,e),l=Math.min(n.end,t);for(let e=i;e<=l;e++)h.push({index:e,size:r,offset:o,data:a&&a[e]}),o+=r}}if(!i)return xt([],h,o,u,d,c);const g=l.length>0?l[l.length-1]+1:0,p=je(m,e,t,g);if(0===p.length)return null;const v=o-1;return xt(w([],(o=>{for(const n of p){const r=n.value;let i=r.offset,l=n.start;const s=r.size;if(r.offset<e){l+=Math.floor((e-r.offset+u)/(s+u));const t=l-n.start;i+=t*s+t*u}l<g&&(i+=(g-l)*s,l=g);const c=Math.min(n.end,v);for(let e=l;e<=c&&!(i>=t);e++)o.push({index:e,size:s,offset:i,data:a&&a[e]}),i+=s+u}})),h,o,u,d,c)})),j((e=>null!==e)),F()),vt);k(A(o,j(E),V((e=>null==e?void 0:e.length))),t),k(A(I,V((e=>e.topListHeight))),f),k(f,u),k(A(I,V((e=>[e.top,e.bottom]))),c),k(A(I,V((e=>e.items))),v);return s({listState:I,topItemsIndexes:p,endReached:M(A(I,j((({items:e})=>e.length>0)),q(t,o),j((([{items:e},t])=>e[e.length-1].originalIndex===t-1)),V((([,e,t])=>[e-1,t])),F(ut),V((([e])=>e)))),startReached:M(A(I,U(200),j((({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length)),V((({items:e})=>e[0].index)),F())),rangeChanged:M(A(I,j((({items:e})=>e.length>0)),V((({items:e})=>{let t=0,o=e.length-1;for(;"group"===e[t].type&&t<o;)t++;for(;"group"===e[o].type&&o>t;)o--;return{startIndex:e[t].index,endIndex:e[o].index}})),F(at))),itemsRendered:v},m)}),S(Ke,ct,pt,rt,Je,tt,ot,Le),{singleton:!0}),wt=J((([{sizes:e,firstItemIndex:t,data:o,gap:n},{listState:r},{didMount:i}])=>{const l=L(0);return k(A(i,q(l),j((([,e])=>0!==e)),q(e,t,n,o),V((([[,e],t,o,n,r=[]])=>{let i=0;if(t.groupIndices.length>0)for(const s of t.groupIndices){if(s-i>=e)break;i++}const l=e+i;return xt(Array.from({length:l}).map(((e,t)=>({index:t,size:0,offset:0,data:r[t]}))),[],l,n,t,o)}))),r),{initialItemCount:l}}),S(Ke,Tt,ot),{singleton:!0}),St=J((([{scrollVelocity:e}])=>{const t=L(!1),o=P(),n=L(!1);return k(A(e,q(n,t,o),j((([e,t])=>!!t)),V((([e,t,o,n])=>{const{exit:r,enter:i}=t;if(o){if(r(e,n))return!1}else if(i(e,n))return!0;return o})),F()),t),b(A(Z(t,e,o),q(n)),(([[e,t,o],n])=>e&&n&&n.change&&n.change(t,o))),{isSeeking:t,scrollSeekConfiguration:n,scrollVelocity:e,scrollSeekRangeChanged:o}}),S(tt),{singleton:!0}),Ct=J((([{topItemsIndexes:e}])=>{const t=L(0);return k(A(t,j((e=>e>0)),V((e=>Array.from({length:e}).map(((e,t)=>t))))),e),{topItemCount:t}}),S(Tt)),yt=J((([{footerHeight:e,headerHeight:t,fixedHeaderHeight:o,fixedFooterHeight:n},{listState:r}])=>{const i=P(),l=W(A(Z(e,n,t,o,r),V((([e,t,o,n,r])=>e+t+o+n+r.offsetBottom+r.bottom))),0);return k(Y(l),i),{totalListHeight:l,totalListHeightChanged:i}}),S(de,Tt),{singleton:!0});function Et(e){let t,o=!1;return()=>(o||(o=!0,t=e()),t)}const Ht=Et((()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent))),bt=J((([{scrollBy:e,scrollTop:t,deviation:o,scrollingInProgress:n},{isScrolling:r,isAtBottom:i,scrollDirection:l,lastJumpDueToItemResize:s},{listState:c},{beforeUnshiftWith:u,shiftWithOffset:a,sizes:d,gap:f},{log:m},{recalcInProgress:h}])=>{const g=M(A(c,q(s),G((([,e,t,o],[{items:n,totalCount:r,bottom:i,offsetBottom:l},s])=>{const c=i+l;let u=0;if(t===r&&e.length>0&&n.length>0){0===n[0].originalIndex&&0===e[0].originalIndex||(u=c-o,0!==u&&(u+=s))}return[u,n,r,c]}),[0,[],0,0]),j((([e])=>0!==e)),q(t,l,n,i,m,h),j((([,e,t,o,,,n])=>!n&&!o&&0!==e&&t===Qe)),V((([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},oe.DEBUG),e)))));function p(t){t>0?(z(e,{top:-t,behavior:"auto"}),z(o,0)):(z(o,0),z(e,{top:-t,behavior:"auto"}))}return b(A(g,q(o,r)),(([e,t,n])=>{n&&Ht()?z(o,t-e):p(-e)})),b(A(Z(W(r,!1),o,h),j((([e,t,o])=>!e&&!o&&0!==t)),V((([e,t])=>t)),U(1)),p),k(A(a,V((e=>({top:-e})))),e),b(A(u,q(d,f),V((([e,{lastSize:t,groupIndices:o,sizeTree:n},r])=>{function i(e){return e*(t+r)}if(0===o.length)return i(e);{let t=0;const r=ve(n,0);let l=0,s=0;for(;l<e;){l++,t+=r;let n=o.length===s+1?1/0:o[s+1]-o[s]-1;l+n>e&&(t-=r,n=e-l+1),l+=n,t+=i(n),s++}return t}}))),(t=>{z(o,t),requestAnimationFrame((()=>{z(e,{top:t}),requestAnimationFrame((()=>{z(o,0),z(h,!1)}))}))})),{deviation:o}}),S(de,tt,Tt,Ke,re,Le)),zt=J((([{didMount:e},{scrollTo:t},{listState:o}])=>{const n=L(0);return b(A(e,q(n),j((([,e])=>0!==e)),V((([,e])=>({top:e})))),(e=>{O(A(o,_(1),j((e=>e.items.length>1))),(()=>{requestAnimationFrame((()=>{z(t,e)}))}))})),{initialScrollTop:n}}),S(ot,de,Tt),{singleton:!0}),Rt=J((([{viewportHeight:e},{totalListHeight:t}])=>{const o=L(!1);return{alignToBottom:o,paddingTopAddition:W(A(Z(o,e,t),j((([e])=>e)),V((([,e,t])=>Math.max(0,e-t))),U(0),F()),0)}}),S(de,yt),{singleton:!0}),Bt=J((([{scrollTo:e,scrollContainerState:t}])=>{const o=P(),n=P(),r=P(),i=L(!1),l=L(void 0);return k(A(Z(o,n),V((([{viewportHeight:e,scrollTop:t,scrollHeight:o},{offsetTop:n}])=>({scrollTop:Math.max(0,t-n),scrollHeight:o,viewportHeight:e})))),t),k(A(e,q(n),V((([e,{offsetTop:t}])=>s(s({},e),{},{top:e.top+t})))),r),{useWindowScroll:i,customScrollParent:l,windowScrollContainerState:o,windowViewportRect:n,windowScrollTo:r}}),S(de)),kt=e=>{let{itemTop:o,itemBottom:n,viewportTop:r,viewportBottom:i,locationParams:{behavior:l,align:c}}=e,a=u(e.locationParams,t);return o<r?s(s({},a),{},{behavior:l,align:null!=c?c:"start"}):n>i?s(s({},a),{},{behavior:l,align:null!=c?c:"end"}):null},Ot=J((([{sizes:e,totalCount:t,gap:n},{scrollTop:r,viewportHeight:i,headerHeight:l,fixedHeaderHeight:c,fixedFooterHeight:a,scrollingInProgress:d},{scrollToIndex:f}])=>{const m=P();return k(A(m,q(e,i,t,l,c,a,r),q(n),V((([[e,t,n,r,i,l,c,a],f])=>{const{done:m,behavior:h,align:g,calculateViewLocation:p=kt}=e,v=u(e,o),I=_e(e,t,r-1),x=Ge(I,t.offsetTree,f)+i+l,T=p({itemTop:x,itemBottom:x+Ie(t.sizeTree,I)[1],viewportTop:a+l,viewportBottom:a+n-c,locationParams:s({behavior:h,align:g},v)});return T?m&&O(A(d,j((e=>!1===e)),_(B(d)?1:2)),m):m&&m(),T})),j((e=>null!==e))),f),{scrollIntoView:m}}),S(Ke,de,Je,Tt,re),{singleton:!0}),Pt=J((([{sizes:e,sizeRanges:t},{scrollTop:o},{initialTopMostItemIndex:n},{didMount:r}])=>{const i=P(),l=L(void 0);return b(A(i,q(e,o)),(([e,t,o])=>{e({ranges:we(t.sizeTree).map((({k:e,v:t},o,n)=>{const r=n[o+1];return{startIndex:e,endIndex:r?r.k-1:1/0,size:t}})),scrollTop:o})})),k(A(l,j(E),V(Lt)),n),k(A(r,q(l),j((([,e])=>void 0!==e)),F(),V((([,e])=>e.ranges))),t),{getState:i,restoreStateFrom:l}}),S(Ke,de,rt,ot));function Lt(e){return{offset:e.scrollTop,index:0,align:"start"}}const Mt=J((([e,t,o,n,r,i,l,c,u,a])=>s(s(s(s(s(s(s(s(s(s({},e),t),o),n),r),i),l),c),u),a)),S(pt,wt,ot,St,yt,zt,Rt,Bt,Ot,re)),Wt=J((([{totalCount:e,sizeRanges:t,fixedItemSize:o,defaultItemSize:r,trackItemSizes:i,itemSize:l,data:c,firstItemIndex:a,groupIndices:d,statefulTotalCount:f,gap:m,sizes:h},{initialTopMostItemIndex:g,scrolledToInitialItem:p},v,I,x,T,{scrollToIndex:w},S,{topItemCount:C},{groupCounts:y},E])=>{let{listState:H,topItemsIndexes:b}=T,z=u(T,n);return k(z.rangeChanged,E.scrollSeekRangeChanged),k(A(E.windowViewportRect,V((e=>e.visibleHeight))),v.viewportHeight),s(s(s(s(s({totalCount:e,data:c,firstItemIndex:a,sizeRanges:t,initialTopMostItemIndex:g,scrolledToInitialItem:p,topItemsIndexes:b,topItemCount:C,groupCounts:y,fixedItemHeight:o,defaultItemHeight:r,gap:m},x),{},{statefulTotalCount:f,listState:H,scrollToIndex:w,trackItemSizes:i,itemSize:l,groupIndices:d},z),E),v),{},{sizes:h},I)}),S(Ke,rt,de,Pt,lt,Tt,Je,bt,Ct,ct,Mt)),At="-webkit-sticky",Dt="sticky",Ft=Et((()=>{if("undefined"==typeof document)return Dt;const e=document.createElement("div");return e.style.position=At,e.style.position===At?At:Dt}));function jt(e,t){const o=d.useRef(null),n=d.useCallback((n=>{if(null===n||!n.offsetParent)return;const r=n.getBoundingClientRect(),i=r.width;let l,s;if(t){const e=t.getBoundingClientRect(),o=r.top-e.top;l=e.height-Math.max(0,o),s=o+t.scrollTop}else l=window.innerHeight-Math.max(0,r.top),s=r.top+window.pageYOffset;o.current={offsetTop:s,visibleHeight:l,visibleWidth:i},e(o.current)}),[e,t]),{callbackRef:r,ref:i}=ie(n),l=d.useCallback((()=>{n(i.current)}),[n,i]);return d.useEffect((()=>{if(t){t.addEventListener("scroll",l);const e=new ResizeObserver(l);return e.observe(t),()=>{t.removeEventListener("scroll",l),e.unobserve(t)}}return window.addEventListener("scroll",l),window.addEventListener("resize",l),()=>{window.removeEventListener("scroll",l),window.removeEventListener("resize",l)}}),[l,t]),r}const Vt=d.createContext(void 0),Nt=d.createContext(void 0);function Gt(e){return e}const _t=J((([e,t])=>s(s({},e),t)),S(Wt,J((()=>{const e=L((e=>`Item ${e}`)),t=L(null),o=L((e=>`Group ${e}`)),n=L({}),r=L(Gt),i=L("div"),l=L(H),s=(e,t=null)=>W(A(n,V((t=>t[e])),F()),t);return{context:t,itemContent:e,groupContent:o,components:n,computeItemKey:r,headerFooterTag:i,scrollerRef:l,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}})))),Ut=({height:e})=>d.createElement("div",{style:{height:e}}),$t={position:Ft(),zIndex:1,overflowAnchor:"none"},qt={overflowAnchor:"none"},Kt=d.memo((function({showTopList:e=!1}){const t=uo("listState"),o=co("sizeRanges"),n=uo("useWindowScroll"),r=uo("customScrollParent"),i=co("windowScrollContainerState"),l=co("scrollContainerState"),c=r||n?i:l,u=uo("itemContent"),a=uo("context"),f=uo("groupContent"),m=uo("trackItemSizes"),h=uo("itemSize"),g=uo("log"),p=co("gap"),{callbackRef:v}=se(o,h,m,e?H:c,g,p,r),[I,x]=d.useState(0);ao("deviation",(e=>{I!==e&&x(e)}));const T=uo("EmptyPlaceholder"),w=uo("ScrollSeekPlaceholder")||Ut,S=uo("ListComponent"),C=uo("ItemComponent"),y=uo("GroupComponent"),E=uo("computeItemKey"),b=uo("isSeeking"),z=uo("groupIndices").length>0,R=uo("paddingTopAddition"),B=uo("scrolledToInitialItem"),k=e?{}:s({boxSizing:"border-box",paddingTop:t.offsetTop+R,paddingBottom:t.offsetBottom,marginTop:I},B?{}:{visibility:"hidden"});return!e&&0===t.totalCount&&T?d.createElement(T,Qt(T,a)):d.createElement(S,s(s({},Qt(S,a)),{},{ref:v,style:k,"data-test-id":e?"virtuoso-top-item-list":"virtuoso-item-list"}),(e?t.topItems:t.items).map((e=>{const o=e.originalIndex,n=E(o+t.firstItemIndex,e.data,a);return b?d.createElement(w,s(s({},Qt(w,a)),{},{key:n,index:e.index,height:e.size,type:e.type||"item"},"group"===e.type?{}:{groupIndex:e.groupIndex})):"group"===e.type?d.createElement(y,s(s({},Qt(y,a)),{},{key:n,"data-index":o,"data-known-size":e.size,"data-item-index":e.index,style:$t}),f(e.index,a)):d.createElement(C,s(s({},Qt(C,a)),{},{key:n,"data-index":o,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,item:e.data,style:qt}),z?u(e.index,e.groupIndex,e.data,a):u(e.index,e.data,a))})))})),Yt={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Zt={width:"100%",height:"100%",position:"absolute",top:0},Jt={width:"100%",position:Ft(),top:0,zIndex:1};function Qt(e,t){if("string"!=typeof e)return{context:t}}const Xt=d.memo((function(){const e=uo("HeaderComponent"),t=co("headerHeight"),o=uo("headerFooterTag"),n=le((e=>t(ce(e,"height")))),r=uo("context");return e?d.createElement(o,{ref:n},d.createElement(e,Qt(e,r))):null})),eo=d.memo((function(){const e=uo("FooterComponent"),t=co("footerHeight"),o=uo("headerFooterTag"),n=le((e=>t(ce(e,"height")))),r=uo("context");return e?d.createElement(o,{ref:n},d.createElement(e,Qt(e,r))):null}));function to({usePublisher:e,useEmitter:t,useEmitterValue:o}){return d.memo((function(n){let{style:i,children:l}=n,c=u(n,r);const a=e("scrollContainerState"),f=o("ScrollerComponent"),m=e("smoothScrollTargetReached"),h=o("scrollerRef"),g=o("context"),{scrollerRef:p,scrollByCallback:v,scrollToCallback:I}=ae(a,m,f,h);return t("scrollTo",I),t("scrollBy",v),d.createElement(f,s(s({ref:p,style:s(s({},Yt),i),"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},c),Qt(f,g)),l)}))}function oo({usePublisher:e,useEmitter:t,useEmitterValue:o}){return d.memo((function(n){let{style:r,children:l}=n,c=u(n,i);const a=e("windowScrollContainerState"),f=o("ScrollerComponent"),m=e("smoothScrollTargetReached"),h=o("totalListHeight"),g=o("deviation"),p=o("customScrollParent"),v=o("context"),{scrollerRef:I,scrollByCallback:x,scrollToCallback:T}=ae(a,m,f,H,p);return te((()=>(I.current=p||window,()=>{I.current=null})),[I,p]),t("windowScrollTo",T),t("scrollBy",x),d.createElement(f,s(s({style:s(s({position:"relative"},r),0!==h?{height:h+g}:{}),"data-virtuoso-scroller":!0},c),Qt(f,v)),l)}))}const no=({children:e})=>{const t=d.useContext(Vt),o=co("viewportHeight"),n=co("fixedItemHeight"),r=le(v(o,(e=>ce(e,"height"))));return d.useEffect((()=>{t&&(o(t.viewportHeight),n(t.itemHeight))}),[t,o,n]),d.createElement("div",{style:Zt,ref:r,"data-viewport-type":"element"},e)},ro=({children:e})=>{const t=d.useContext(Vt),o=co("windowViewportRect"),n=co("fixedItemHeight"),r=uo("customScrollParent"),i=jt(o,r);return d.useEffect((()=>{t&&(n(t.itemHeight),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))}),[t,o,n]),d.createElement("div",{ref:i,style:Zt,"data-viewport-type":"window"},e)},io=({children:e})=>{const t=uo("TopItemListComponent"),o=uo("headerHeight"),n=s(s({},Jt),{},{marginTop:`${o}px`}),r=uo("context");return d.createElement(t||"div",{style:n,context:r},e)},lo=d.memo((function(e){const t=uo("useWindowScroll"),o=uo("topItemsIndexes").length>0,n=uo("customScrollParent"),r=n||t?mo:fo,i=n||t?ro:no;return d.createElement(r,s({},e),o&&d.createElement(io,null,d.createElement(Kt,{showTopList:!0})),d.createElement(i,null,d.createElement(Xt,null),d.createElement(Kt,null),d.createElement(eo,null)))})),{Component:so,usePublisher:co,useEmitterValue:uo,useEmitter:ao}=ee(_t,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},lo),fo=to({usePublisher:co,useEmitterValue:uo,useEmitter:ao}),mo=oo({usePublisher:co,useEmitterValue:uo,useEmitter:ao}),ho=so,go={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},po={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:vo,ceil:Io,floor:xo,min:To,max:wo}=Math;function So(e,t,o){return Array.from({length:t-e+1}).map(((t,n)=>({index:n+e,data:null==o?void 0:o[n+e]})))}function Co(e,t){return e&&e.column===t.column&&e.row===t.row}function yo(e,t){return e&&e.width===t.width&&e.height===t.height}const Eo=J((([{overscan:e,visibleRange:t,listBoundary:o},{scrollTop:n,viewportHeight:r,scrollBy:i,scrollTo:l,smoothScrollTargetReached:c,scrollContainerState:u,footerHeight:a,headerHeight:d},f,m,{propsReady:h,didMount:g},{windowViewportRect:p,windowScrollTo:v,useWindowScroll:I,customScrollParent:x,windowScrollContainerState:T},w])=>{const S=L(0),C=L(0),y=L(go),H=L({height:0,width:0}),b=L({height:0,width:0}),z=P(),R=P(),B=L(0),O=L(void 0),D=L({row:0,column:0});k(A(g,q(C,O),j((([e,t])=>e&&0!==t)),V((([,e,t])=>({items:So(0,e-1,t),top:0,bottom:0,offsetBottom:0,offsetTop:0,itemHeight:0,itemWidth:0})))),y),k(A(Z(Y(S),t,Y(D,Co),Y(b,yo),Y(H,yo),O),V((([e,[t,o],n,r,i,l])=>{const{row:c,column:u}=n,{height:a,width:d}=r,{width:f}=i;if(0===e||0===f)return go;if(0===d)return function(e){return s(s({},po),{},{items:e})}(So(0,0,l));const m=zo(f,d,u);let h=m*xo((t+c)/(a+c)),g=m*Io((o+c)/(a+c))-1;g=To(e-1,wo(g,m-1)),h=To(g,wo(0,h));const p=So(h,g,l),{top:v,bottom:I}=Ho(i,n,r,p),x=Io(e/m);return{items:p,offsetTop:v,offsetBottom:x*a+(x-1)*c-I,top:v,bottom:I,itemHeight:a,itemWidth:d}}))),y),k(A(O,j(E),V((e=>e.length))),S),k(A(H,V((({height:e})=>e))),r),k(A(Z(H,b,y,D),V((([e,t,{items:o},n])=>{const{top:r,bottom:i}=Ho(e,n,t,o);return[r,i]})),F(ut)),o);const G=L(!1);k(A(n,q(G),V((([e,t])=>t||0!==e))),G);const _=M(A(Y(y),j((({items:e})=>e.length>0)),q(S,G),j((([{items:e},t,o])=>o&&e[e.length-1].index===t-1)),V((([,e])=>e-1)),F())),U=M(A(Y(y),j((({items:e})=>e.length>0&&0===e[0].index)),N(0),F())),$=M(A(Y(y),j((({items:e})=>e.length>0)),V((({items:e})=>({startIndex:e[0].index,endIndex:e[e.length-1].index}))),F(at)));k($,m.scrollSeekRangeChanged),k(A(z,q(H,b,S,D),V((([e,t,o,n,r])=>{const i=Ze(e),{align:l,behavior:s,offset:c}=i;let u=i.index;"LAST"===u&&(u=n-1),u=wo(0,u,To(n-1,u));let a=bo(t,r,o,u);return"end"===l?a=vo(a-t.height+o.height):"center"===l&&(a=vo(a-t.height/2+o.height/2)),c&&(a+=c),{top:a,behavior:s}}))),l);const K=W(A(y,V((e=>e.offsetBottom+e.bottom))),0);return k(A(p,V((e=>({width:e.visibleWidth,height:e.visibleHeight})))),H),s(s(s({data:O,totalCount:S,viewportDimensions:H,itemDimensions:b,scrollTop:n,scrollHeight:R,overscan:e,scrollBy:i,scrollTo:l,scrollToIndex:z,smoothScrollTargetReached:c,windowViewportRect:p,windowScrollTo:v,useWindowScroll:I,customScrollParent:x,windowScrollContainerState:T,deviation:B,scrollContainerState:u,footerHeight:a,headerHeight:d,initialItemCount:C,gap:D},m),{},{gridState:y,totalListHeight:K},f),{},{startReached:U,endReached:_,rangeChanged:$,propsReady:h},w)}),S(pt,de,tt,St,ot,Bt,re));function Ho(e,t,o,n){const{height:r}=o;if(void 0===r||0===n.length)return{top:0,bottom:0};return{top:bo(e,t,o,n[0].index),bottom:bo(e,t,o,n[n.length-1].index)+r}}function bo(e,t,o,n){const r=zo(e.width,o.width,t.column),i=xo(n/r),l=i*o.height+wo(0,i-1)*t.row;return l>0?l+t.row:l}function zo(e,t,o){return wo(1,xo((e+o)/(xo(t)+o)))}const Ro=J((([e,t])=>s(s({},e),t)),S(Eo,J((()=>{const e=L((e=>`Item ${e}`)),t=L({}),o=L(null),n=L("virtuoso-grid-item"),r=L("virtuoso-grid-list"),i=L(Gt),l=L("div"),s=L(H),c=(e,o=null)=>W(A(t,V((t=>t[e])),F()),o);return{context:o,itemContent:e,components:t,computeItemKey:i,itemClassName:n,listClassName:r,headerFooterTag:l,scrollerRef:s,FooterComponent:c("Footer"),HeaderComponent:c("Header"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),ScrollerComponent:c("Scroller","div"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}})))),Bo=d.memo((function(){const e=Do("gridState"),t=Do("listClassName"),o=Do("itemClassName"),n=Do("itemContent"),r=Do("computeItemKey"),i=Do("isSeeking"),l=Ao("scrollHeight"),c=Do("ItemComponent"),u=Do("ListComponent"),a=Do("ScrollSeekPlaceholder"),f=Do("context"),m=Ao("itemDimensions"),h=Ao("gap"),g=Do("log"),p=le((e=>{const t=e.parentElement.parentElement.scrollHeight;l(t);const o=e.firstChild;o&&m(o.getBoundingClientRect()),h({row:No("row-gap",getComputedStyle(e).rowGap,g),column:No("column-gap",getComputedStyle(e).columnGap,g)})}));return d.createElement(u,s(s({ref:p,className:t},Qt(u,f)),{},{style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-test-id":"virtuoso-item-list"}),e.items.map((t=>{const l=r(t.index,t.data,f);return i?d.createElement(a,s(s({key:l},Qt(a,f)),{},{index:t.index,height:e.itemHeight,width:e.itemWidth})):d.createElement(c,s(s({},Qt(c,f)),{},{className:o,"data-index":t.index,key:l}),n(t.index,t.data,f))})))})),ko=d.memo((function(){const e=Do("HeaderComponent"),t=Ao("headerHeight"),o=Do("headerFooterTag"),n=le((e=>t(ce(e,"height")))),r=Do("context");return e?d.createElement(o,{ref:n},d.createElement(e,Qt(e,r))):null})),Oo=d.memo((function(){const e=Do("FooterComponent"),t=Ao("footerHeight"),o=Do("headerFooterTag"),n=le((e=>t(ce(e,"height")))),r=Do("context");return e?d.createElement(o,{ref:n},d.createElement(e,Qt(e,r))):null})),Po=({children:e})=>{const t=d.useContext(Nt),o=Ao("itemDimensions"),n=Ao("viewportDimensions"),r=le((e=>{n(e.getBoundingClientRect())}));return d.useEffect((()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),o({height:t.itemHeight,width:t.itemWidth}))}),[t,n,o]),d.createElement("div",{style:Zt,ref:r},e)},Lo=({children:e})=>{const t=d.useContext(Nt),o=Ao("windowViewportRect"),n=Ao("itemDimensions"),r=Do("customScrollParent"),i=jt(o,r);return d.useEffect((()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))}),[t,o,n]),d.createElement("div",{ref:i,style:Zt},e)},Mo=d.memo((function(e){let t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));const o=Do("useWindowScroll"),n=Do("customScrollParent"),r=n||o?Vo:jo,i=n||o?Lo:Po;return d.createElement(r,s({},t),d.createElement(i,null,d.createElement(ko,null),d.createElement(Bo,null),d.createElement(Oo,null)))})),{Component:Wo,usePublisher:Ao,useEmitterValue:Do,useEmitter:Fo}=ee(Ro,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange"}},Mo),jo=to({usePublisher:Ao,useEmitterValue:Do,useEmitter:Fo}),Vo=oo({usePublisher:Ao,useEmitterValue:Do,useEmitter:Fo});function No(e,t,o){return"normal"===t||(null==t?void 0:t.endsWith("px"))||o(`${e} was not resolved to pixel value correctly`,t,oe.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}const Go=l("R",f.memo((({count:e,Component:t,handle:o})=>{const n=f.useRef(null);return f.useImperativeHandle(o,(()=>({scrollToIndex:e=>{var t;null===(t=n.current)||void 0===t||t.scrollToIndex(e)}}))),a(ho,{ref:n,totalCount:e,itemContent:f.useMemo((()=>e=>a(t,{index:e},e)),[])})})));try{Go.displayName="ReactVirtuosoList",Go.__docgenInfo={description:"",displayName:"ReactVirtuosoList",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},Component:{defaultValue:null,description:"",name:"Component",required:!0,type:{name:"ForwardRefExoticComponent<{ index: number; } & RefAttributes<HTMLDivElement>>"}},handle:{defaultValue:null,description:"",name:"handle",required:!1,type:{name:"Ref<ListHandle>"}}}}}catch(_o){}}}}))}();
//# sourceMappingURL=react-virtuoso-legacy-e7ea2937.js.map
