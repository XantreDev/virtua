import{r as V}from"./index-yp3VsGQP.js";import{a as re}from"./jsx-runtime-sgeEVxPu.js";const C=Math.min,E=Math.max,oe=Math.abs,ie=Date.now,De=Object.values,Ee=Array.isArray,Y=setTimeout,F=(e,t,n)=>C(n,E(t,e)),B=e=>e!=null,ve=e=>{const t=[...e].sort((s,r)=>s-r),n=e.length/2|0;return t.length%2===0?(t[n-1]+t[n])/2:t[n]},ae=(e,t)=>{let n;const s=()=>{B(n)&&clearTimeout(n)},r=()=>{s(),n=Y(()=>{n=null,e()},t)};return r._cancel=s,r},Re=(e,t)=>{let n=ie()-t;return(...s)=>{const r=ie();n+t<r&&(n=r,e(...s))}},N=e=>{let t,n;return(...s)=>(t||(t=!0,n=e(...s)),n)},H=e=>getComputedStyle(e),Z=e=>e?parseFloat(e):0,x=-1,j=(e,t,n)=>{const s=n?"unshift":"push";for(let r=0;r<t;r++)e[s](x);return e},k=(e,t)=>{const n=e._sizes[t];return n===x?e._defaultItemSize:n},ye=(e,t,n)=>{const s=e._sizes[t]===x;return e._sizes[t]=n,e._computedOffsetIndex=C(t,e._computedOffsetIndex),s},ee=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let n=e._computedOffsetIndex,s=e._offsets[n];for(;n<t;)s+=k(e,n),e._offsets[++n]=s;return e._computedOffsetIndex=t,s},Le=e=>e._length?ee(e,e._length-1)+k(e,e._length-1):0,le=(e,t,n)=>{let s=ee(e,n);for(;n>=0&&n<e._length;)if(s<=t){const r=k(e,n);if(s+r>t)break;s+=r,n++}else s-=k(e,--n);return F(n,0,e._length-1)},ue=(e,t,n,s)=>{const r=le(e,t,C(n,e._length-1));return[r,le(e,t+s,r)]},Te=e=>{const t=e._sizes.filter(s=>s!==x),n=t[0];e._defaultItemSize=t.every(s=>s===n)?n:ve(t)},Ce=(e,t)=>({_defaultItemSize:t,_length:e,_computedOffsetIndex:-1,_sizes:j([],e),_offsets:j([],e)}),ce=(e,t,n)=>{const s=t-e._length,r=s>0;let m;return r?(m=e._defaultItemSize*s,j(e._sizes,s,n),j(e._offsets,s)):(m=(n?e._sizes.splice(0,-s):e._sizes.splice(s)).reduce((i,u)=>i+(u===x?e._defaultItemSize:u),0),e._offsets.splice(s)),e._computedOffsetIndex=n?-1:C(t-1,e._computedOffsetIndex),e._length=t,[m,r]},_e=typeof window<"u",me=()=>document.documentElement,Ae=N(e=>{const t="scrollLeft",n=e[t];e[t]=1;const s=e[t]<1;return e[t]=n,s}),$=N(()=>_e?H(me()).direction==="rtl":!1),pe=N(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),xe=N(()=>"scrollBehavior"in me().style),Pe=(e,t,n)=>E(e-(n===ge?1:E(1,t)),0),Ke=(e,t,n,s)=>C(e+(n===Se?1:E(1,t)),s-1),G=(e,t,n)=>t.reduce((s,[r,m])=>{const i=m-k(e,r);return(!n||i>0)&&(s+=i),s},0),Ne=1.5,P=0,ge=1,Se=2,K=1,U=2,Me=3,te=4,ne=5,we=6,Oe=7,q=1,Q=2,Ve=4,ke=8,Ue=(e,t=40,n=0,s=Ce(e,t),r)=>{let m=!!n,i=[],u=0,_=0,o=0,l=0,c=0,f=0,d=0,a=0,p=P,g=!1,h=!1,S=m?[0,E(n-1,0)]:null,z=[0,0];const A=new Set,L=()=>Le(s),T=()=>u-_-o,v=()=>L()-T(),se=b=>{pe()&&p!==P?d+=b:(f+=b,c++)};return{_getStateVersion(){return i},_getCache(){return JSON.parse(JSON.stringify(s))},_getRange(){return S?[C(z[0],S[0]),E(z[1],S[1])]:a?z:z=ue(s,l+d+f,z[0],u)},_isUnmeasuredItem(b){return s._sizes[b]===x},_hasUnmeasuredItemsInFrozenRange(){return S?s._sizes.slice(E(0,S[0]-1),C(s._length-1,S[1]+1)+1).includes(x):!1},_getItemOffset(b){return ee(s,b)-d},_getItemSize(b){return k(s,b)},_getItemsLength(){return s._length},_getScrollOffset(){return l},_getMaxScrollOffset:v,_getScrollDirection(){return p},_getViewportSize(){return u},_getStartSpacerSize(){return _},_getScrollSize(){return E(L(),T())},_getTotalSize:L,_getJumpCount(){return c},_flushJump(){return T()>L()?f=0:(a=f,f=0,a)},_subscribe(b,O){const J=[b,O];return A.add(J),()=>{A.delete(J)}},_update(b,O){let J,X,R=0;switch(b){case K:{const w=O.filter(([M,D])=>s._sizes[M]!==D),y=g;if(g=!1,!w.length)break;let I=0;if(l!==0)if(l>v()-Ne)I=G(s,w,!0);else if(y)I=G(s,w);else{const[M]=z;I=G(s,w.filter(([D])=>D<M))}I&&se(I);let W=!1;w.forEach(([M,D])=>{ye(s,M,D)&&(W=!0)}),r&&W&&!l&&Te(s),R=Q,X=!0;break}case U:{const w=O[0]+O[1]+O[2];u!==w&&(u=w,_=O[1],o=O[2],R=Q);break}case Me:{if(O[1]){const w=v()-l,[y,I]=ce(s,O[0],!0);se(I?y:-C(y,w)),g=I,R=q}else ce(s,O[0]);break}case te:{const w=F(O,0,v()),y=a;if(a=0,w===l)break;const I=w-l,W=oe(I);!(y&&W<oe(y)+1)&&!h&&(p=I<0?Se:ge),m&&(S=null,m=!1),X=W>u,l=w,R=q+Ve;break}case ne:{R=ke,p!==P&&(J=!0,R+=q),p=P,h=!1,S=null;break}case we:{h=!0;break}case Oe:{S=ue(s,O,z[0],u),R=q;break}}R&&(i=[],J&&d&&(f+=d,d=0,c++),A.forEach(([w,y])=>{R&w&&y(X)}))}}},Be=_e?V.useLayoutEffect:V.useEffect,be=(e,t,n)=>Re(s=>{if(e._getScrollDirection()!==P&&!s.ctrlKey&&(t?s.deltaX:s.deltaY)){const r=e._getScrollOffset();r>0&&r<e._getMaxScrollOffset()&&n()}},50),Ie=(e,t,n,s)=>Ae(e)||s?-n:t._getMaxScrollOffset()-n,qe=(e,t)=>{let n,s,r=!1;const m=t?"scrollLeft":"scrollTop",i=t?"overflowX":"overflowY",u=(o,l)=>t&&$()?Ie(n,e,o,l):o,_=async(o,l)=>{if(!n)return;s&&s();const c=()=>F(o(),0,e._getMaxScrollOffset()),f=()=>{let d;return[new Promise((a,p)=>{d=a,Y(s=p,150)}),e._subscribe(Q,()=>{d&&d()})]};if(l&&xe()){for(;e._update(Oe,c()),!!e._hasUnmeasuredItemsInFrozenRange();){const[d,a]=f();try{await d}catch{return}finally{a()}}n.scrollTo({[t?"left":"top"]:u(c()),behavior:"smooth"})}else for(;;){const[d,a]=f();try{n[m]=u(c()),e._update(we),await d}catch{return}finally{a()}}};return{_observe(o){n=o;let l=!1,c=!1;const f=ae(()=>{if(l){f();return}c=!1,e._update(ne)},150),d=()=>{c&&(r=!0),e._update(te,u(o[m])),f()},a=be(e,t,f),p=()=>{l=!0,c=r=!1},g=()=>{l=!1,pe()&&(c=!0)};return o.addEventListener("scroll",d),o.addEventListener("wheel",a,{passive:!0}),o.addEventListener("touchstart",p,{passive:!0}),o.addEventListener("touchend",g,{passive:!0}),()=>{o.removeEventListener("scroll",d),o.removeEventListener("wheel",a),o.removeEventListener("touchstart",p),o.removeEventListener("touchend",g),f._cancel()}},_scrollTo(o){_(()=>o)},_scrollBy(o){o+=e._getScrollOffset(),_(()=>o)},_scrollToIndex(o,{align:l,smooth:c}={}){if(o=F(o,0,e._getItemsLength()-1),l==="nearest"){const f=e._getItemOffset(o),d=e._getScrollOffset();if(f<d)l="start";else if(f+e._getItemSize(o)>d+e._getViewportSize())l="end";else return}_(()=>e._getStartSpacerSize()+(l==="end"?e._getItemOffset(o)+e._getItemSize(o)-e._getViewportSize():l==="center"?e._getItemOffset(o)+(e._getItemSize(o)-e._getViewportSize())/2:e._getItemOffset(o)),c)},_fixScrollJump:o=>{if(n){if(r){r=!1;const l=n.style,c=l[i];l[i]="hidden",Y(()=>{l[i]=c})}n[m]+=u(o,!0)}}}},Fe=(e,t)=>{let n;const s=t?"scrollX":"scrollY",r=t?"offsetLeft":"offsetTop",m=(i,u)=>t&&$()?Ie(n,e,i,u):i;return{_observe(i){n=i;const u=(c,f)=>{const d=f+(t&&$()?window.innerWidth-c[r]-c.offsetWidth:c[r]),a=c.offsetParent;return c===document.body||!a?d:u(a,d)},_=ae(()=>{e._update(ne)},150),o=()=>{e._update(te,m(window[s])-u(i,0)),_()},l=be(e,t,_);return window.addEventListener("scroll",o),window.addEventListener("wheel",l,{passive:!0}),()=>{window.removeEventListener("scroll",o),window.removeEventListener("wheel",l),_._cancel()}},_fixScrollJump:i=>{window.scrollBy(t?m(i,!0):0,t?0:i)}}},fe="current",je={},he=(e,t)=>{if(Ee(e))for(const n of e)he(n,t);else!B(e)||typeof e=="boolean"||t.push(e)},Xe=e=>{const t=[];return he(e,t),t},Ge=(e,t)=>{const n=e.key;return B(n)?n:"_"+t},Ye=e=>{const t=V.useRef();return t[fe]||(t[fe]=e())},ze={box:"border-box"},Ze=(e,t)=>{let n;const s=t?"width":"height",r=new WeakMap,m=N(()=>new ResizeObserver(i=>{const u=[];for(const{target:_,contentRect:o}of i)if(_.offsetParent)if(_===n)e._update(U,[o[s],o[t?"left":"top"],Z(H(n)[t?"paddingRight":"paddingBottom"])]);else{const l=r.get(_);B(l)&&u.push([l,o[s]])}u.length&&e._update(K,u)}));return{_observeRoot(i){n=i;const u=m();return u.observe(i,ze),()=>{u.disconnect()}},_observeItem:(i,u)=>{const _=m();return r.set(i,u),_.observe(i),()=>{r.delete(i),_.unobserve(i)}}}},$e=(e,t)=>{const n=t?"width":"height",s=t?"innerWidth":"innerHeight",r=new WeakMap,m=N(()=>new ResizeObserver(i=>{const u=[];for(const{target:_,contentRect:o}of i){if(!_.offsetParent)continue;const l=r.get(_);B(l)&&u.push([l,o[n]])}u.length&&e._update(K,u)}));return{_observeRoot(){const i=()=>{e._update(U,[window[s],0,0])};return window.addEventListener("resize",i),i(),()=>{window.removeEventListener("resize",i),m().disconnect()}},_observeItem:(i,u)=>{const _=m();return r.set(i,u),_.observe(i),()=>{r.delete(i),_.unobserve(i)}}}},Qe=(e,t)=>{let n;const s="height",r="width",m=new WeakMap,i=new Set,u=new Set,_=new Map,o=(c,f)=>`${c}-${f}`,l=N(()=>new ResizeObserver(c=>{const f=new Set,d=new Set;for(const{target:a,contentRect:p}of c)if(a.offsetParent)if(a===n){const g=H(n);e._update(U,[p[s],p.top,Z(g.paddingBottom)]),t._update(U,[p[r],p.left,Z(g.paddingRight)])}else{const g=m.get(a);if(g){const[h,S]=g,z=o(h,S),A=_.get(z),L=[p[s],p[r]];let T,v;A?(A[0]!==L[0]&&(T=!0),A[1]!==L[1]&&(v=!0)):T=v=!0,T&&f.add(h),v&&d.add(S),(T||v)&&_.set(z,L)}}if(f.size){const a=[];f.forEach(p=>{let g=0;u.forEach(h=>{const S=_.get(o(p,h));S&&(g=E(g,S[0]))}),g&&a.push([p,g])}),e._update(K,a)}if(d.size){const a=[];d.forEach(p=>{let g=0;i.forEach(h=>{const S=_.get(o(h,p));S&&(g=E(g,S[1]))}),g&&a.push([p,g])}),t._update(K,a)}}));return{_observeRoot(c){n=c;const f=l();return f.observe(c,ze),()=>{f.disconnect()}},_observeItem(c,f,d){const a=l();return m.set(c,[f,d]),i.add(f),u.add(d),a.observe(c),()=>{m.delete(c),a.unobserve(c)}}}},de=V.forwardRef(({children:e,attrs:t,width:n,height:s,scrolling:r},m)=>re("div",{ref:m,...t,children:re("div",{style:V.useMemo(()=>({contain:"content",position:"relative",visibility:"hidden",width:n??"100%",height:s??"100%",pointerEvents:r?"none":"auto"}),[n,s,r]),children:e})}));try{de.displayName="Viewport",de.__docgenInfo={description:"",displayName:"Viewport",props:{children:{defaultValue:null,description:"Renderable item elements.",name:"children",required:!0,type:{name:"ReactNode"}},attrs:{defaultValue:null,description:"Attributes that should be passed to the scrollable element.",name:"attrs",required:!0,type:{name:"ViewportComponentAttributes"}},height:{defaultValue:null,description:"Total height of items. It's undefined if component is not vertically scrollable.",name:"height",required:!0,type:{name:"number | undefined"}},width:{defaultValue:null,description:"Total width of items. It's undefined if component is not horizontally scrollable.",name:"width",required:!0,type:{name:"number | undefined"}},scrolling:{defaultValue:null,description:"Currently component is scrolling or not.",name:"scrolling",required:!0,type:{name:"boolean"}}}}}catch{}const He=e=>V.useReducer(e._getStateVersion,void 0,e._getStateVersion)[1];export{Me as A,P as S,q as U,de as V,Ye as a,He as b,Q as c,Pe as d,Ke as e,je as f,Ue as g,Qe as h,$ as i,qe as j,Ve as k,ke as l,E as m,Ge as n,Ze as o,$e as p,Fe as q,fe as r,Xe as s,Be as u,De as v};
