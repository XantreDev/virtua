import{r as F}from"./index-yp3VsGQP.js";const T=Math.min,h=Math.max,te=Math.abs,ke=Object.values,Oe=Array.isArray,q=setTimeout,Q=(e,t,s)=>T(s,h(t,e)),W=e=>e!=null,ze=e=>{const t=[...e].sort((n,o)=>n-o),s=e.length/2|0;return t.length%2===0?(t[s-1]+t[s])/2:t[s]},be=(e,t)=>{let s;const n=()=>{W(s)&&clearTimeout(s)},o=()=>{n(),s=q(()=>{s=null,e()},t)};return o._cancel=n,o},J=e=>{let t,s;return(...n)=>(t||(t=!0,s=e(...n)),s)},he=e=>getComputedStyle(e),A=-1,Y=(e,t,s)=>{const n=s?"unshift":"push";for(let o=0;o<t;o++)e[n](A);return e},D=(e,t)=>{const s=e._sizes[t];return s===A?e._defaultItemSize:s},we=(e,t,s)=>{const n=e._sizes[t]===A;return e._sizes[t]=s,e._computedOffsetIndex=T(t,e._computedOffsetIndex),n},H=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,n=e._offsets[s];for(;s<t;)n+=D(e,s),e._offsets[++s]=n;return e._computedOffsetIndex=t,n},Re=e=>e._length?H(e,e._length-1)+D(e,e._length-1):0,se=(e,t,s)=>{let n=H(e,s);for(;s>=0&&s<e._length;)if(n<=t){const o=D(e,s);if(n+o>t)break;n+=o,s++}else n-=D(e,--s);return Q(s,0,e._length-1)},ne=(e,t,s,n)=>{const o=se(e,t,T(s,e._length-1));return[o,se(e,t+n,o)]},Le=e=>{const t=e._sizes.filter(n=>n!==A),s=t[0];e._defaultItemSize=t.every(n=>n===s)?s:ze(t)},ve=(e,t)=>({_defaultItemSize:t,_length:e,_computedOffsetIndex:-1,_sizes:Y([],e),_offsets:Y([],e)}),re=(e,t,s)=>{const n=t-e._length,o=n>0;let l;return o?(l=e._defaultItemSize*n,Y(e._sizes,n,s),Y(e._offsets,n)):(l=(s?e._sizes.splice(0,-n):e._sizes.splice(n)).reduce((c,f)=>c+(f===A?e._defaultItemSize:f),0),e._offsets.splice(n)),e._computedOffsetIndex=s?-1:T(t-1,e._computedOffsetIndex),e._length=t,[l,o]},ie=typeof window<"u",ue=()=>document.documentElement,le=J(()=>ie?he(ue()).direction==="rtl":!1),fe=J(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),Te=J(()=>"scrollBehavior"in ue().style),ye=1.5,V=0,_e=1,ae=2,j=0,Ce=1,oe=2,K=1,U=2,Ae=3,de=4,me=5,Se=6,pe=7,B=1,$=2,Ne=4,xe=8,De=e=>h(e._getTotalSize(),e._getViewportSize()),Je=e=>h(e._getTotalSize(),e._getViewportSize()-e._getStartSpacerSize()-e._getEndSpacerSize()),Pe=(e,t,s)=>h(e-(s===_e?1:h(1,t)),0),Ve=(e,t,s,n)=>T(e+(s===ae?1:h(1,t)),n-1),Z=(e,t,s)=>t.reduce((n,[o,l])=>{const c=l-D(e,o);return(!s||c>0)&&(n+=c),n},0),Ke=(e,t=40,s=0,n,o,l=0,c=0)=>{let f=!!s,r=[],i=0,_=0,u=0,a=0,p=0,m=0,g=V,d=j,I=f?[0,h(s-1,0)]:null,E=[0,0];const S=n||ve(e,t),y=new Set,N=()=>Re(S),C=()=>N()+l+c,x=()=>_-l,G=()=>h(0,C()-i),ee=b=>{fe()&&g!==V?p+=b:(a+=b,u++)};return{_getStateVersion(){return r},_getCacheSnapshot(){return JSON.parse(JSON.stringify(S))},_getRange(){return I?[T(E[0],I[0]),h(E[1],I[1])]:m?E:E=ne(S,x()+p+a,E[0],i)},_isUnmeasuredItem(b){return S._sizes[b]===A},_hasUnmeasuredItemsInFrozenRange(){return I?S._sizes.slice(h(0,I[0]-1),T(S._length-1,I[1]+1)+1).includes(A):!1},_getItemOffset(b){return H(S,b)-p},_getItemSize(b){return D(S,b)},_getItemsLength(){return S._length},_getScrollOffset(){return _},_getScrollDirection(){return g},_getViewportSize(){return i},_getStartSpacerSize(){return l},_getEndSpacerSize(){return c},_getTotalSize:N,_getJumpCount(){return u},_flushJump(){return i>C()?a=0:(m=a,a=0,m)},_subscribe(b,w){const P=[b,w];return y.add(P),()=>{y.delete(P)}},_update(b,w){let P,X,R=0;switch(b){case K:{const O=w.filter(([v,M])=>S._sizes[v]!==M);if(!O.length)break;let z=0;if(_!==0)if(_>G()-ye)z=Z(S,O,!0);else if(d===oe)z=Z(S,O);else{const[v]=E;z=Z(S,O.filter(([M])=>M<v))}z&&ee(z);let L=!1;O.forEach(([v,M])=>{we(S,v,M)&&(L=!0)}),o&&L&&!_&&Le(S),R=$,X=!0;break}case U:{i!==w&&(i=w,R=$);break}case Ae:{if(w[1]){const O=G()-_,[z,L]=re(S,w[0],!0);ee(L?z:-T(z,O)),L&&(d=oe),R=B}else re(S,w[0]);break}case de:{const O=Q(w,0,G()),z=m;if(m=0,O===_)break;const L=O-_,v=te(L);!(z&&v<te(z)+1)&&d===j&&(g=L<0?ae:_e),f&&(I=null,f=!1),X=v>i,_=O,R=B+Ne;break}case me:{R=xe,g!==V&&(P=!0,R+=B),g=V,d=j,I=null;break}case Se:{d=Ce;break}case pe:{I=ne(S,w,E[0],i),R=B;break}}R&&(r=[],P&&p&&(a+=p,p=0,u++),y.forEach(([O,z])=>{R&O&&z(X)}))}}},Ue=ie?F.useLayoutEffect:F.useEffect,k=(e,t)=>t&&le()?-e:e,ge=(e,t,s,n,o)=>{const l=Date.now;let c=0,f=!1,r=!1,i=!1,_=!1;const u=be(()=>{if(f||r){f=!1,u();return}i=!1,e._update(me)},150),a=()=>{c=l(),i&&(_=!0),e._update(de,n()),u()},p=d=>{if(f||e._getScrollDirection()===V||d.ctrlKey)return;const I=l()-c;150>I&&50<I&&(s?d.deltaX:d.deltaY)&&(f=!0)},m=()=>{r=!0,i=_=!1},g=()=>{r=!1,fe()&&(i=!0)};return t.addEventListener("scroll",a),t.addEventListener("wheel",p,{passive:!0}),t.addEventListener("touchstart",m,{passive:!0}),t.addEventListener("touchend",g,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",a),t.removeEventListener("wheel",p),t.removeEventListener("touchstart",m),t.removeEventListener("touchend",g),u._cancel()},_fixScrollJump:d=>{o(d,_),_=!1}}},We=(e,t)=>{let s,n,o;const l=t?"scrollLeft":"scrollTop",c=t?"overflowX":"overflowY",f=async(r,i)=>{if(!s)return;o&&o();const _=()=>{let u;return[new Promise((a,p)=>{u=a,q(o=p,150)}),e._subscribe($,()=>{u&&u()})]};if(i&&Te()){for(;e._update(pe,r()),!!e._hasUnmeasuredItemsInFrozenRange();){const[u,a]=_();try{await u}catch{return}finally{a()}}s.scrollTo({[t?"left":"top"]:k(r(),t),behavior:"smooth"})}else for(;;){const[u,a]=_();try{s[l]=k(r(),t),e._update(Se),await u}catch{return}finally{a()}}};return{_observe(r){s=r,n=ge(e,r,t,()=>k(r[l],t),(i,_)=>{if(_){const u=r.style,a=u[c];u[c]="hidden",q(()=>{u[c]=a})}r[l]+=k(i,t)})},_dispose(){n&&n._dispose()},_scrollTo(r){f(()=>r)},_scrollBy(r){r+=e._getScrollOffset(),f(()=>r)},_scrollToIndex(r,{align:i,smooth:_}={}){if(r=Q(r,0,e._getItemsLength()-1),i==="nearest"){const u=e._getItemOffset(r),a=e._getScrollOffset();if(u<a)i="start";else if(u+e._getItemSize(r)>a+e._getViewportSize())i="end";else return}f(()=>e._getStartSpacerSize()+(i==="end"?e._getItemOffset(r)+e._getItemSize(r)-e._getViewportSize():i==="center"?e._getItemOffset(r)+(e._getItemSize(r)-e._getViewportSize())/2:e._getItemOffset(r)),_)},_fixScrollJump:r=>{n&&n._fixScrollJump(r)}}},Ie=(e,t,s,n=0)=>{const o=s?"offsetLeft":"offsetTop",l=n+(s&&le()?window.innerWidth-e[o]-e.offsetWidth:e[o]),c=e.offsetParent;return e===t||!c?l:Ie(c,t,s,l)},Be=(e,t)=>{let s;return{_observe(n){const o=t?"scrollX":"scrollY",l=document.body;s=ge(e,window,t,()=>k(window[o],t)-Ie(n,l,t),c=>{window.scrollBy(t?k(c,t):0,t?0:c)})},_dispose(){s&&s._dispose()},_fixScrollJump:n=>{s&&s._fixScrollJump(n)}}},ce="current",Ee=(e,t)=>{if(Oe(e))for(const s of e)Ee(s,t);else!W(e)||typeof e=="boolean"||t.push(e)},Fe=e=>{const t=[];return Ee(e,t),t},Ye=(e,t)=>{const s=e.key;return W(s)?s:"_"+t},Ge=e=>{const t=F.useRef();return t[ce]||(t[ce]=e())},Xe=(e,t)=>{let s;const n=t?"width":"height",o=new WeakMap,l=J(()=>new ResizeObserver(c=>{const f=[];for(const{target:r,contentRect:i}of c)if(r.offsetParent)if(r===s)e._update(U,i[n]);else{const _=o.get(r);W(_)&&f.push([_,i[n]])}f.length&&e._update(K,f)}));return{_observeRoot(c){l().observe(s=c)},_observeItem:(c,f)=>{const r=l();return o.set(c,f),r.observe(c),()=>{o.delete(c),r.unobserve(c)}},_dispose(){l().disconnect()}}},je=(e,t)=>{const s=t?"width":"height",n=t?"innerWidth":"innerHeight",o=new WeakMap,l=J(()=>new ResizeObserver(f=>{const r=[];for(const{target:i,contentRect:_}of f){if(!i.offsetParent)continue;const u=o.get(i);W(u)&&r.push([u,_[s]])}r.length&&e._update(K,r)})),c=()=>{e._update(U,window[n])};return{_observeRoot(){window.addEventListener("resize",c),c()},_observeItem:(f,r)=>{const i=l();return o.set(f,r),i.observe(f),()=>{o.delete(f),i.unobserve(f)}},_dispose(){window.removeEventListener("resize",c),l().disconnect()}}},Ze=(e,t)=>{let s;const n="height",o="width",l=new WeakMap,c=new Set,f=new Set,r=new Map,i=(u,a)=>`${u}-${a}`,_=J(()=>new ResizeObserver(u=>{const a=new Set,p=new Set;for(const{target:m,contentRect:g}of u)if(m.offsetParent)if(m===s)e._update(U,g[n]),t._update(U,g[o]);else{const d=l.get(m);if(d){const[I,E]=d,S=i(I,E),y=r.get(S),N=[g[n],g[o]];let C,x;y?(y[0]!==N[0]&&(C=!0),y[1]!==N[1]&&(x=!0)):C=x=!0,C&&a.add(I),x&&p.add(E),(C||x)&&r.set(S,N)}}if(a.size){const m=[];a.forEach(g=>{let d=0;f.forEach(I=>{const E=r.get(i(g,I));E&&(d=h(d,E[0]))}),d&&m.push([g,d])}),e._update(K,m)}if(p.size){const m=[];p.forEach(g=>{let d=0;c.forEach(I=>{const E=r.get(i(I,g));E&&(d=h(d,E[1]))}),d&&m.push([g,d])}),t._update(K,m)}}));return{_observeRoot(u){_().observe(s=u)},_observeItem(u,a,p){const m=_();return l.set(u,[a,p]),c.add(a),f.add(p),m.observe(u),()=>{l.delete(u),m.unobserve(u)}},_dispose(){_().disconnect()}}},qe=e=>F.useReducer(e._getStateVersion,void 0,e._getStateVersion)[1];export{Ae as A,V as S,B as U,Ge as a,qe as b,$ as c,Ve as d,Ke as e,Ze as f,De as g,We as h,le as i,Je as j,Ne as k,xe as l,Ye as m,Xe as n,Pe as o,h as p,je as q,ce as r,Be as s,Fe as t,Ue as u,ke as v};
