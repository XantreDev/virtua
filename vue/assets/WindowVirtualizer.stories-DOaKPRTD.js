import{d as w,b as S,k as L,l as N,m as p,e as h,o as b,g as v,j as R,w as O,u as E,n as k,t as B}from"./vue.esm-bundler-CbvoPaxB.js";import{c as U,U as H,b as W,d as j,e as G,L as J,S as M,i as P,j as q,A as K,_ as F}from"./_plugin-vue_export-helper-BHkSwluB.js";const Q={data:{type:Array,required:!0},overscan:{type:Number,default:4},itemSize:Number,shift:Boolean,horizontal:Boolean},D=w({props:Q,emits:["scrollEnd","rangeChange"],setup(n,{emit:c,slots:u}){const o=n.horizontal,s=S(),e=U(n.data.length,n.itemSize??40,void 0,void 0,!n.itemSize),r=P(e,o),m=q(e,o),d=S(e._getStateVersion()),A=e._subscribe(H,()=>{d.value=e._getStateVersion()}),T=e._subscribe(W,()=>{c("scrollEnd")});return L(()=>{const t=s.value;t&&(r._observeRoot(t),m._observe(t))}),N(()=>{A(),T(),r._dispose(),m._dispose()}),p(()=>n.data.length,t=>{e._update(K,[t,n.shift])}),p([d,e._getJumpCount],([,t],[,i])=>{t!==i&&m._fixScrollJump()},{flush:"post"}),p([d,e._getRange],([,[t,i]],[,[f,l]])=>{f===t&&l===i||c("rangeChange",t,i)},{flush:"post"}),()=>{d.value;const t=n.data.length,[i,f]=e._getRange(),l=e._getScrollDirection(),g=e._getTotalSize(),x=[];for(let[a,V]=j(i,f,n.overscan,l,t);a<=V;a++){const z=u.default(n.data[a])[0];x.push(h(J,{key:G(z,a),_resizer:r._observeItem,_index:a,_offset:e._getItemOffset(a),_hide:e._isUnmeasuredItem(a),_children:z,_isHorizontal:o},null,8,["_resizer","_index","_offset","_hide","_children","_isHorizontal"]))}return h("div",{ref:s,style:{overflowAnchor:"none",flex:"none",position:"relative",visibility:"hidden",width:o?g+"px":"100%",height:o?"100%":g+"px",pointerEvents:l!==M?"none":"auto"}},[x],4)}}}),X={style:{padding:"200px 100px"}},Y={style:{border:"solid 1px gray"}},Z=w({__name:"WindowVirtualizer",setup(n){const c=[20,40,180,77],u=s=>({index:s,size:c[s%4]+"px"}),o=Array.from({length:1e3}).map((s,e)=>u(e));return(s,e)=>(b(),v("div",X,[R("div",Y,[h(E(D),{data:E(o)},{default:O(r=>[(b(),v("div",{key:r.index,style:k({height:r.size,background:"white",borderBottom:"solid 1px #ccc"})},B(r.index),5))]),_:1},8,["data"])])]))}}),$=F(Z,[["__scopeId","data-v-2d3e870f"]]),ne={component:D},_={render:()=>({components:{Component:$},template:"<Component />"})};var y,C,I;_.parameters={..._.parameters,docs:{...(y=_.parameters)==null?void 0:y.docs,source:{originalSource:`{
  render: () => ({
    components: {
      Component: DefaultComponent
    },
    template: "<Component />"
  })
}`,...(I=(C=_.parameters)==null?void 0:C.docs)==null?void 0:I.source}}};const oe=["Default"];export{_ as Default,oe as __namedExportsOrder,ne as default};
