import{d as I,b as x,k as L,l as R,m as p,e as g,o as S,g as b,j as k,w as O,u as y,n as W,t as B}from"./vue.esm-bundler-CbvoPaxB.js";import{c as U,U as H,b as j,d as G,e as J,L as M,S as P,i as q,j as F,A as K,_ as Q}from"./_plugin-vue_export-helper-LZs5_aI9.js";const X={data:{type:Array,required:!0},overscan:{type:Number,default:4},itemSize:Number,shift:Boolean,horizontal:Boolean},V=I({props:X,emits:["scrollEnd","rangeChange"],setup(n,{emit:c,slots:_}){const o=n.horizontal,s=x(),e=U(n.data.length,n.itemSize??40,void 0,void 0,!n.itemSize),r=q(e,o),m=F(e,o),d=x(e._getStateVersion()),N=e._subscribe(H,()=>{d.value=e._getStateVersion()}),A=e._subscribe(j,()=>{c("scrollEnd")});return L(()=>{const t=s.value;t&&(r._observeRoot(t),m._observe(t))}),R(()=>{N(),A(),r._dispose(),m._dispose()}),p(()=>n.data.length,t=>{e._update(K,[t,n.shift])}),p([d,e._getJumpCount],([,t],[,i])=>{t!==i&&m._fixScrollJump()},{flush:"post"}),p([d,e._getRange],([,[t,i]],[,[f,l]])=>{f===t&&l===i||c("rangeChange",t,i)},{flush:"post"}),()=>{d.value;const t=n.data.length,[i,f]=e._getRange(),l=e._getScrollDirection(),h=e._getTotalSize(),z=[];for(let[a,T]=G(i,f,n.overscan,l,t);a<=T;a++){const v=_.default(n.data[a])[0];z.push(g(M,{key:J(v,a),_resizer:r._observeItem,_index:a,_offset:e._getItemOffset(a),_hide:e._isUnmeasuredItem(a),_children:v,_isHorizontal:o},null,8,["_resizer","_index","_offset","_hide","_children","_isHorizontal"]))}return g("div",{ref:s,style:{overflowAnchor:"none",flex:"none",position:"relative",visibility:"hidden",width:o?h+"px":"100%",height:o?"100%":h+"px",pointerEvents:l!==P?"none":"auto"}},[z],4)}}}),Y={style:{padding:"200px 100px"}},Z={style:{border:"solid 1px gray"}},D=I({__name:"WindowVirtualizer",setup(n){const c=[20,40,180,77],_=s=>({index:s,size:c[s%4]+"px"}),o=Array.from({length:1e3}).map((s,e)=>_(e));return(s,e)=>(S(),b("div",Y,[k("div",Z,[g(y(V),{data:y(o)},{default:O(r=>[(S(),b("div",{key:r.index,style:W({height:r.size,background:"white",borderBottom:"solid 1px #ccc"})},B(r.index),5))]),_:1},8,["data"])])]))}}),$=Q(D,[["__scopeId","data-v-db4587df"]]);D.__docgenInfo={exportName:"default",displayName:"WindowVirtualizer",description:"",tags:{},sourceFiles:["/home/runner/work/virtua/virtua/stories/vue/WindowVirtualizer.vue"]};const ne={component:V},u={render:()=>({components:{Component:$},template:"<Component />"})};var E,C,w;u.parameters={...u.parameters,docs:{...(E=u.parameters)==null?void 0:E.docs,source:{originalSource:`{
  render: () => ({
    components: {
      Component: DefaultComponent
    },
    template: "<Component />"
  })
}`,...(w=(C=u.parameters)==null?void 0:C.docs)==null?void 0:w.source}}};const oe=["Default"];export{u as Default,oe as __namedExportsOrder,ne as default};
