"use strict";(self.webpackChunkvirtua=self.webpackChunkvirtua||[]).push([[659],{"./stories/advanced/InfiniteScrolling.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{InfiniteScrolling:()=>InfiniteScrolling,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_src__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/react/List.tsx"),_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@faker-js/faker/dist/esm/index.mjs");const __WEBPACK_DEFAULT_EXPORT__={component:_src__WEBPACK_IMPORTED_MODULE_2__.a},Spinner=props=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:{height:100,display:props.hidden?"none":"flex",alignItems:"center",justifyContent:"center",background:"white"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"loader"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("style",null,'\n      .loader {\n        width: 48px;\n        height: 48px;\n        border-radius: 50%;\n        position: relative;\n        animation: rotate 1s linear infinite\n      }\n      .loader::before {\n        content: "";\n        box-sizing: border-box;\n        position: absolute;\n        inset: 0px;\n        border-radius: 50%;\n        border: 5px solid #ccc;\n        animation: prixClipFix 2s linear infinite ;\n      }\n  \n      @keyframes rotate {\n        100%   {transform: rotate(360deg)}\n      }\n  \n      @keyframes prixClipFix {\n          0%   {clip-path:polygon(50% 50%,0 0,0 0,0 0,0 0,0 0)}\n          25%  {clip-path:polygon(50% 50%,0 0,100% 0,100% 0,100% 0,100% 0)}\n          50%  {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,100% 100%,100% 100%)}\n          75%  {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 100%)}\n          100% {clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 0)}\n      }')),rowStyle={borderBottom:"solid 1px #ccc",background:"white",display:"flex",flexDirection:"row",padding:10},leftStyle={width:200,minWidth:200},Row=({name,text})=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:rowStyle},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:leftStyle},name),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,text)),createItems=()=>Array.from({length:50},(()=>({id:String(Math.random()),name:`${_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.We.name.firstName()} ${_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.We.name.lastName()}`,text:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.We.lorem.paragraphs(4)}))),InfiniteScrolling={render:()=>{const[items,setItems]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(createItems),[fetching,setFetching]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_2__.a,{style:{height:"100vh"},endThreshold:30,itemSize:200,onEndReached:async()=>{setFetching(!0),await new Promise((r=>setTimeout(r,1500))),setItems((prev=>[...prev,...createItems()])),setFetching(!1)}},items.map((d=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(Row,{id:d.id,name:d.name,text:d.text}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(Spinner,{hidden:!fetching}))}};InfiniteScrolling.parameters={...InfiniteScrolling.parameters,docs:{...InfiniteScrolling.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const [items, setItems] = useState(createItems);\n    const [fetching, setFetching] = useState(false);\n    return /* @__PURE__ */React.createElement(List, {\n      style: {\n        height: "100vh"\n      },\n      endThreshold: 30,\n      itemSize: 200,\n      onEndReached: async () => {\n        setFetching(true);\n        await new Promise(r => setTimeout(r, 1500));\n        setItems(prev => [...prev, ...createItems()]);\n        setFetching(false);\n      }\n    }, items.map(d => /* @__PURE__ */React.createElement(Row, {\n      id: d.id,\n      name: d.name,\n      text: d.text\n    })), /* @__PURE__ */React.createElement(Spinner, {\n      hidden: !fetching\n    }));\n  }\n}',...InfiniteScrolling.parameters?.docs?.source}}}}}]);