import{i as Ee,e as _e,j as ze,k as Re,t as Te,l as ae,u as we,p as Ce,q as ye,v as Me,c as ke}from"./web-ZdxCXCJP.js";const y=Math.min,h=Math.max,le=Math.abs,Y=setTimeout,X=(e,t,s)=>y(s,h(t,e)),$=e=>e!=null,Ae=e=>{const t=[...e].sort((n,l)=>n-l),s=e.length/2|0;return t.length%2===0?(t[s-1]+t[s])/2:t[s]},De=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},Je=(e,t)=>{let s;const n=()=>{$(s)&&clearTimeout(s)},l=()=>{n(),s=Y(()=>{s=null,e()},t)};return l._cancel=n,l},Z=e=>{let t,s;return(...n)=>(t||(t=!0,s=e(...n)),s)},M=-1,P=(e,t,s)=>{const n=s?"unshift":"push";for(let l=0;l<t;l++)e[n](M);return e},C=(e,t)=>{const s=e._sizes[t];return s===M?e._defaultItemSize:s},Ne=(e,t,s)=>{const n=e._sizes[t]===M;return e._sizes[t]=s,e._computedOffsetIndex=y(t,e._computedOffsetIndex),n},G=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,n=e._offsets[s];for(;s<t;)n+=C(e,s),e._offsets[++s]=n;return e._computedOffsetIndex=t,n},xe=e=>e._length?G(e,e._length-1)+C(e,e._length-1):0,ie=(e,t,s)=>{let n=G(e,s);for(;s>=0&&s<e._length;)if(n<=t){const l=C(e,s);if(n+l>t)break;n+=l,s++}else n-=C(e,--s);return X(s,0,e._length-1)},ue=(e,t,s,n)=>{const l=ie(e,t,y(s,e._length-1));return[l,ie(e,t+n,l)]},Pe=(e,t)=>{let s=0;const n=e._sizes.filter((c,f)=>{const o=c!==M;return o&&f<t&&s++,o}),l=e._defaultItemSize;return e._computedOffsetIndex=-1,((e._defaultItemSize=Ae(n))-l)*h(t-s,0)},Ue=(e,t)=>({_defaultItemSize:t,_length:e,_computedOffsetIndex:-1,_sizes:P([],e),_offsets:P([],e)}),ce=(e,t,s)=>{const n=t-e._length,l=n>0;let c;return l?(c=e._defaultItemSize*n,P(e._sizes,n,s),P(e._offsets,n)):(c=-(s?e._sizes.splice(0,-n):e._sizes.splice(n)).reduce((f,o)=>f+(o===M?e._defaultItemSize:o),0),e._offsets.splice(n)),e._computedOffsetIndex=s?-1:y(t-1,e._computedOffsetIndex),e._length=t,c},Ve=typeof window<"u",de=()=>document.documentElement,j=e=>e.ownerDocument,Q=e=>e.defaultView,H=Z(()=>Ve?getComputedStyle(de()).direction==="rtl":!1),me=Z(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),We=Z(()=>"scrollBehavior"in de().style),Be=1.5,D=0,Se=1,pe=2,F=0,Ke=1,fe=2,ee=1,te=2,Fe=3,ge=4,Oe=5,Ie=6,be=7,x=1,q=2,Ye=4,qe=8,Ze=e=>h(e._getTotalSize(),e._getViewportSize()),Ge=(e,t,s)=>(s!==Se&&(e-=h(0,t)),h(e,0)),je=(e,t,s,n)=>(s!==pe&&(e+=h(0,t)),y(e,n-1)),Qe=(e,t=40,s=0,n,l=!1,c=0,f=0)=>{let o=!!s,r=[],i=0,u=0,_=0,a=0,d=0,v=!1,O=0,S=D,I=F,L=o?[0,h(s-1,0)]:null,T=[0,0],U=0;const m=n||Ue(e,t),V=new Set,se=()=>xe(m),ne=()=>se()+c+f,Le=()=>u-c,re=()=>h(0,ne()-i),oe=p=>G(m,p)-d,W=p=>{p&&(me()&&S!==D?d+=p:(a+=p,_++))};return{_getStateVersion(){return r},_getCacheSnapshot(){return JSON.parse(JSON.stringify(m))},_getRange(){return L?[y(T[0],L[0]),h(T[1],L[1])]:O?T:T=ue(m,Le()+d+a,T[0],i)},_isUnmeasuredItem(p){return m._sizes[p]===M},_hasUnmeasuredItemsInFrozenRange(){return L?m._sizes.slice(h(0,L[0]-1),y(m._length-1,L[1]+1)+1).includes(M):!1},_getItemOffset:oe,_getItemSize(p){return C(m,p)},_getItemsLength(){return m._length},_getScrollOffset(){return u},_getScrollDirection(){return S},_getViewportSize(){return i},_getStartSpacerSize(){return c},_getTotalSize:se,_getJumpCount(){return _},_flushJump(){const p=a,g=v;return a=0,v=!1,i>ne()?[0,!1]:[O=p,g]},_subscribe(p,g){const k=[p,g];return V.add(k),()=>{V.delete(k)}},_update(p,g){let k,B,E=0;switch(p){case ee:{const z=g.filter(([b,R])=>m._sizes[b]!==R);if(!z.length)break;let w=!1,A=!1;I===fe?u>re()-Be&&(A=!0):w=!0,W(z.reduce((b,[R,K])=>{if(!w||oe(R)<u){const N=K-C(m,R);(!A||N>0)&&(b+=N)}return b},0));for(const[b,R]of z){const K=C(m,b),N=Ne(m,b,R);l&&(U+=R,N||(U-=K))}l&&i&&U>i&&(W(Pe(m,T[0])),l=!1),E=q,B=!0;break}case te:{i!==g&&(i=g,E=q);break}case Fe:{g[1]?(W(ce(m,g[0],!0)),I=fe,v=!0,E=x):ce(m,g[0]);break}case ge:{const z=X(g,0,re()),w=O;if(O=0,z===u)break;const A=z-u,b=le(A);!(w&&b<le(w)+1)&&I===F&&(S=A<0?pe:Se),o&&(L=null,o=!1),B=b>i,u=z,E=x+Ye;break}case Oe:{E=qe,S!==D&&(k=!0,E+=x),S=D,I=F,L=null;break}case Ie:{I=Ke;break}case be:{L=ue(m,g,T[0],i),E=x;break}}E&&(r=[],k&&d&&(a+=d,d=0,_++),V.forEach(([z,w])=>{E&z&&w(B)}))}}},he=e=>{let t;return{_observe(s){(t||(t=new(Q(j(s))).ResizeObserver(e))).observe(s)},_unobserve(s){t.unobserve(s)},_dispose(){t&&t.disconnect()}}},He=(e,t)=>{let s;const n=t?"width":"height",l=new WeakMap,c=he(f=>{const o=[];for(const{target:r,contentRect:i}of f)if(r.offsetParent)if(r===s)e._update(te,i[n]);else{const u=l.get(r);$(u)&&o.push([u,i[n]])}o.length&&e._update(ee,o)});return{_observeRoot(f){c._observe(s=f)},_observeItem:(f,o)=>(l.set(f,o),c._observe(f),()=>{l.delete(f),c._unobserve(f)}),_dispose:c._dispose}},et=(e,t)=>{const s=t?"width":"height",n=t?"innerWidth":"innerHeight",l=new WeakMap,c=he(o=>{const r=[];for(const{target:i,contentRect:u}of o){if(!i.offsetParent)continue;const _=l.get(i);$(_)&&r.push([_,u[s]])}r.length&&e._update(ee,r)});let f;return{_observeRoot(o){const r=Q(j(o)),i=()=>{e._update(te,r[n])};r.addEventListener("resize",i),i(),f=()=>{r.removeEventListener("resize",i)}},_observeItem:(o,r)=>(l.set(o,r),c._observe(o),()=>{l.delete(o),c._unobserve(o)}),_dispose(){f&&f(),c._dispose()}}},J=(e,t)=>t&&H()?-e:e,ve=(e,t,s,n,l)=>{const c=Date.now;let f=0,o=!1,r=!1,i=!1,u=!1;const _=Je(()=>{if(o||r){o=!1,_();return}i=!1,e._update(Oe)},150),a=()=>{f=c(),i&&(u=!0),e._update(ge,n()),_()},d=S=>{if(o||e._getScrollDirection()===D||S.ctrlKey)return;const I=c()-f;150>I&&50<I&&(s?S.deltaX:S.deltaY)&&(o=!0)},v=()=>{r=!0,i=u=!1},O=()=>{r=!1,me()&&(i=!0)};return t.addEventListener("scroll",a),t.addEventListener("wheel",d,{passive:!0}),t.addEventListener("touchstart",v,{passive:!0}),t.addEventListener("touchend",O,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",a),t.removeEventListener("wheel",d),t.removeEventListener("touchstart",v),t.removeEventListener("touchend",O),_._cancel()},_fixScrollJump:()=>{const[S,I]=e._flushJump();S&&(l(J(S,s),I,u),u=!1)}}},tt=(e,t)=>{let s,n,l;const c=t?"scrollLeft":"scrollTop",f=t?"overflowX":"overflowY",o=async(r,i)=>{if(!s){De(()=>o(r,i));return}l&&l();const u=()=>{let _;return[new Promise((a,d)=>{_=a,Y(l=d,150)}),e._subscribe(q,()=>{_&&_()})]};if(i&&We()){for(;e._update(be,r()),!!e._hasUnmeasuredItemsInFrozenRange();){const[_,a]=u();try{await _}catch{return}finally{a()}}s.scrollTo({[t?"left":"top"]:J(r(),t),behavior:"smooth"})}else for(;;){const[_,a]=u();try{s[c]=J(r(),t),e._update(Ie),await _}catch{return}finally{a()}}};return{_observe(r){s=r,n=ve(e,r,t,()=>J(r[c],t),(i,u,_)=>{if(_){const a=r.style,d=a[f];a[f]="hidden",Y(()=>{a[f]=d})}u?(r[c]=e._getScrollOffset()+i,l&&l()):r[c]+=i})},_dispose(){n&&n._dispose()},_scrollTo(r){o(()=>r)},_scrollBy(r){r+=e._getScrollOffset(),o(()=>r)},_scrollToIndex(r,{align:i,smooth:u}={}){if(r=X(r,0,e._getItemsLength()-1),i==="nearest"){const _=e._getItemOffset(r),a=e._getScrollOffset();if(_<a)i="start";else if(_+e._getItemSize(r)>a+e._getViewportSize())i="end";else return}o(()=>e._getStartSpacerSize()+(i==="end"?e._getItemOffset(r)+e._getItemSize(r)-e._getViewportSize():i==="center"?e._getItemOffset(r)+(e._getItemSize(r)-e._getViewportSize())/2:e._getItemOffset(r)),u)},_fixScrollJump:()=>{n&&n._fixScrollJump()}}},st=(e,t)=>{let s;return{_observe(n){let l=0;const c=t?"scrollX":"scrollY",f=j(n),o=Q(f),r=f.body,i=(u,_,a,d=0)=>{const v=a?"offsetLeft":"offsetTop",O=d+(a&&H()?o.innerWidth-u[v]-u.offsetWidth:u[v]),S=u.offsetParent;return u===_||!S?O:i(S,_,a,O)};s=ve(e,o,t,()=>J(o[c],t)-(l=i(n,r,t)),(u,_)=>{_?o.scroll({[t?"left":"top"]:e._getScrollOffset()+l+u}):o.scrollBy(t?u:0,t?0:u)})},_dispose(){s&&s._dispose()},_fixScrollJump:()=>{s&&s._fixScrollJump()}}};var Xe=Te("<div>");const nt=e=>{let t;Ee(()=>{t&&ae(e._resizer(t,e._index))});const s=_e(()=>{const n=e._isHorizontal,l={margin:0,padding:0,position:"absolute",[n?"height":"width"]:"100%",[n?"top":"left"]:"0px",[n?H()?"right":"left":"top"]:e._offset+"px",visibility:e._hide?"hidden":"visible"};return n&&(l.display="flex"),l});return(()=>{var n=Xe(),l=t;return typeof l=="function"?we(l,n):t=n,ze(n,()=>e._children),Re(c=>Ce(n,s(),c)),n})()},rt=e=>{let t=new Map;return ae(()=>{for(const s of t.values())s._dispose()}),_e(()=>{const s=e._each,[n,l]=e._range,c=new Map,f=[];return ye(()=>{for(let o=n;o<=l;o++){const r=s[o],i=t.get(o);f.push(i?i._element:Me(u=>{const _=ke(r),a=e._render(_[0](),o);return c.set(o,{_data:_,_element:a,_dispose:u}),a})),i&&(r!==i._data&&i._data[1](r),c.set(o,i))}for(const[o,r]of t.entries())c.has(o)||r._dispose();return t=c,f})})},ot=(e,t)=>e[0]===t[0]&&e[1]===t[1];export{Fe as A,nt as L,rt as R,D as S,x as U,q as a,Ye as b,Qe as c,qe as d,$ as e,He as f,je as g,Ze as h,ot as i,tt as j,et as k,st as l,Ge as o};
