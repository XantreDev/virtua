import{i as he,e as ce,j as Ee,k as Le,t as ve,l as ue,u as Re,p as ze,q as we,v as Te,c as Ce}from"./web-ZdxCXCJP.js";const T=Math.min,R=Math.max,ne=Math.abs,K=setTimeout,Y=(e,t,s)=>T(s,R(t,e)),j=e=>e!=null,ye=e=>{const t=[...e].sort((n,l)=>n-l),s=e.length/2|0;return t.length%2===0?(t[s-1]+t[s])/2:t[s]},Ae=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)},Ne=(e,t)=>{let s;const n=()=>{j(s)&&clearTimeout(s)},l=()=>{n(),s=K(()=>{s=null,e()},t)};return l._cancel=n,l},q=e=>{let t,s;return(...n)=>(t||(t=!0,s=e(...n)),s)},y=-1,x=(e,t,s)=>{const n=s?"unshift":"push";for(let l=0;l<t;l++)e[n](y);return e},J=(e,t)=>{const s=e._sizes[t];return s===y?e._defaultItemSize:s},Je=(e,t,s)=>{const n=e._sizes[t]===y;return e._sizes[t]=s,e._computedOffsetIndex=T(t,e._computedOffsetIndex),n},X=(e,t)=>{if(!e._length)return 0;if(e._computedOffsetIndex>=t)return e._offsets[t];e._computedOffsetIndex<0&&(e._offsets[0]=0,e._computedOffsetIndex=0);let s=e._computedOffsetIndex,n=e._offsets[s];for(;s<t;)n+=J(e,s),e._offsets[++s]=n;return e._computedOffsetIndex=t,n},ke=e=>e._length?X(e,e._length-1)+J(e,e._length-1):0,re=(e,t,s)=>{let n=X(e,s);for(;s>=0&&s<e._length;)if(n<=t){const l=J(e,s);if(n+l>t)break;n+=l,s++}else n-=J(e,--s);return Y(s,0,e._length-1)},oe=(e,t,s,n)=>{const l=re(e,t,T(s,e._length-1));return[l,re(e,t+n,l)]},De=e=>{const t=e._sizes.filter(n=>n!==y),s=t[0];e._defaultItemSize=t.every(n=>n===s)?s:ye(t)},Me=(e,t)=>({_defaultItemSize:t,_length:e,_computedOffsetIndex:-1,_sizes:x([],e),_offsets:x([],e)}),le=(e,t,s)=>{const n=t-e._length,l=n>0;let c;return l?(c=e._defaultItemSize*n,x(e._sizes,n,s),x(e._offsets,n)):(c=(s?e._sizes.splice(0,-n):e._sizes.splice(n)).reduce((u,i)=>u+(i===y?e._defaultItemSize:i),0),e._offsets.splice(n)),e._computedOffsetIndex=s?-1:T(t-1,e._computedOffsetIndex),e._length=t,[c,l]},xe=typeof window<"u",fe=()=>document.documentElement,$=e=>e.ownerDocument,G=e=>e.defaultView,Z=q(()=>xe?getComputedStyle(fe()).direction==="rtl":!1),_e=q(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),Pe=q(()=>"scrollBehavior"in fe().style),Ue=1.5,D=0,ae=1,de=2,W=0,Ve=1,ie=2,Q=1,H=2,We=3,me=4,Se=5,pe=6,ge=7,M=1,F=2,Be=4,Ke=8,je=e=>R(e._getTotalSize(),e._getViewportSize()),qe=(e,t,s)=>R(e-(s===ae?1:R(1,t)),0),Xe=(e,t,s,n)=>T(e+(s===de?1:R(1,t)),n-1),B=(e,t,s)=>t.reduce((n,[l,c])=>{const u=c-J(e,l);return(!s||u>0)&&(n+=u),n},0),$e=(e,t=40,s=0,n,l,c=0,u=0)=>{let i=!!s,r=[],o=0,_=0,f=0,a=0,m=0,E=!1,b=0,I=D,h=W,L=i?[0,R(s-1,0)]:null,C=[0,0];const d=n||Me(e,t),P=new Set,ee=()=>ke(d),te=()=>ee()+c+u,be=()=>_-c,U=()=>R(0,te()-o),se=S=>{_e()&&I!==D?m+=S:(a+=S,f++)};return{_getStateVersion(){return r},_getCacheSnapshot(){return JSON.parse(JSON.stringify(d))},_getRange(){return L?[T(C[0],L[0]),R(C[1],L[1])]:b?C:C=oe(d,be()+m+a,C[0],o)},_isUnmeasuredItem(S){return d._sizes[S]===y},_hasUnmeasuredItemsInFrozenRange(){return L?d._sizes.slice(R(0,L[0]-1),T(d._length-1,L[1]+1)+1).includes(y):!1},_getItemOffset(S){return X(d,S)-m},_getItemSize(S){return J(d,S)},_getItemsLength(){return d._length},_getScrollOffset(){return _},_getScrollDirection(){return I},_getViewportSize(){return o},_getStartSpacerSize(){return c},_getTotalSize:ee,_getJumpCount(){return f},_flushJump(){const S=a,O=E;return a=0,E=!1,o>te()?[0,!1]:[b=S,O]},_subscribe(S,O){const k=[S,O];return P.add(k),()=>{P.delete(k)}},_update(S,O){let k,V,v=0;switch(S){case Q:{const p=O.filter(([w,A])=>d._sizes[w]!==A);if(!p.length)break;let g=0;if(_!==0)if(_>U()-Ue)g=B(d,p,!0);else if(h===ie)g=B(d,p);else{const[w]=C;g=B(d,p.filter(([A])=>A<w))}g&&se(g);let z=!1;p.forEach(([w,A])=>{Je(d,w,A)&&(z=!0)}),l&&z&&!_&&De(d),v=F,V=!0;break}case H:{o!==O&&(o=O,v=F);break}case We:{if(O[1]){const p=U()-_,[g,z]=le(d,O[0],!0);se(z?g:-T(g,p)),z&&(h=ie,E=!0),v=M}else le(d,O[0]);break}case me:{const p=Y(O,0,U()),g=b;if(b=0,p===_)break;const z=p-_,w=ne(z);!(g&&w<ne(g)+1)&&h===W&&(I=z<0?de:ae),i&&(L=null,i=!1),V=w>o,_=p,v=M+Be;break}case Se:{v=Ke,I!==D&&(k=!0,v+=M),I=D,h=W,L=null;break}case pe:{h=Ve;break}case ge:{L=oe(d,O,C[0],o),v=M;break}}v&&(r=[],k&&m&&(a+=m,m=0,f++),P.forEach(([p,g])=>{v&p&&g(V)}))}}},Ie=e=>{let t;return{_observe(s){(t||(t=new(G($(s))).ResizeObserver(e))).observe(s)},_unobserve(s){t.unobserve(s)},_dispose(){t&&t.disconnect()}}},Ge=(e,t)=>{let s;const n=t?"width":"height",l=new WeakMap,c=Ie(u=>{const i=[];for(const{target:r,contentRect:o}of u)if(r.offsetParent)if(r===s)e._update(H,o[n]);else{const _=l.get(r);j(_)&&i.push([_,o[n]])}i.length&&e._update(Q,i)});return{_observeRoot(u){c._observe(s=u)},_observeItem:(u,i)=>(l.set(u,i),c._observe(u),()=>{l.delete(u),c._unobserve(u)}),_dispose:c._dispose}},Ze=(e,t)=>{const s=t?"width":"height",n=t?"innerWidth":"innerHeight",l=new WeakMap,c=Ie(i=>{const r=[];for(const{target:o,contentRect:_}of i){if(!o.offsetParent)continue;const f=l.get(o);j(f)&&r.push([f,_[s]])}r.length&&e._update(Q,r)});let u;return{_observeRoot(i){const r=G($(i)),o=()=>{e._update(H,r[n])};r.addEventListener("resize",o),o(),u=()=>{r.removeEventListener("resize",o)}},_observeItem:(i,r)=>(l.set(i,r),c._observe(i),()=>{l.delete(i),c._unobserve(i)}),_dispose(){u&&u(),c._dispose()}}},N=(e,t)=>t&&Z()?-e:e,Oe=(e,t,s,n,l)=>{const c=Date.now;let u=0,i=!1,r=!1,o=!1,_=!1;const f=Ne(()=>{if(i||r){i=!1,f();return}o=!1,e._update(Se)},150),a=()=>{u=c(),o&&(_=!0),e._update(me,n()),f()},m=I=>{if(i||e._getScrollDirection()===D||I.ctrlKey)return;const h=c()-u;150>h&&50<h&&(s?I.deltaX:I.deltaY)&&(i=!0)},E=()=>{r=!0,o=_=!1},b=()=>{r=!1,_e()&&(o=!0)};return t.addEventListener("scroll",a),t.addEventListener("wheel",m,{passive:!0}),t.addEventListener("touchstart",E,{passive:!0}),t.addEventListener("touchend",b,{passive:!0}),{_dispose:()=>{t.removeEventListener("scroll",a),t.removeEventListener("wheel",m),t.removeEventListener("touchstart",E),t.removeEventListener("touchend",b),f._cancel()},_fixScrollJump:()=>{const[I,h]=e._flushJump();if(I)return l(I,_),_=!1,h}}},Qe=(e,t)=>{let s,n,l;const c=t?"scrollLeft":"scrollTop",u=t?"overflowX":"overflowY",i=async(r,o)=>{if(!s){Ae(()=>i(r,o));return}l&&l();const _=()=>{let f;return[new Promise((a,m)=>{f=a,K(l=m,150)}),e._subscribe(F,()=>{f&&f()})]};if(o&&Pe()){for(;e._update(ge,r()),!!e._hasUnmeasuredItemsInFrozenRange();){const[f,a]=_();try{await f}catch{return}finally{a()}}s.scrollTo({[t?"left":"top"]:N(r(),t),behavior:"smooth"})}else for(;;){const[f,a]=_();try{s[c]=N(r(),t),e._update(pe),await f}catch{return}finally{a()}}};return{_observe(r){s=r,n=Oe(e,r,t,()=>N(r[c],t),(o,_)=>{if(_){const f=r.style,a=f[u];f[u]="hidden",K(()=>{f[u]=a})}r[c]+=N(o,t)})},_dispose(){n&&n._dispose()},_scrollTo(r){i(()=>r)},_scrollBy(r){r+=e._getScrollOffset(),i(()=>r)},_scrollToIndex(r,{align:o,smooth:_}={}){if(r=Y(r,0,e._getItemsLength()-1),o==="nearest"){const f=e._getItemOffset(r),a=e._getScrollOffset();if(f<a)o="start";else if(f+e._getItemSize(r)>a+e._getViewportSize())o="end";else return}i(()=>e._getStartSpacerSize()+(o==="end"?e._getItemOffset(r)+e._getItemSize(r)-e._getViewportSize():o==="center"?e._getItemOffset(r)+(e._getItemSize(r)-e._getViewportSize())/2:e._getItemOffset(r)),_)},_fixScrollJump:()=>{n&&n._fixScrollJump()&&l&&l()}}},He=(e,t)=>{let s;return{_observe(n){const l=t?"scrollX":"scrollY",c=$(n),u=G(c),i=c.body,r=(o,_,f,a=0)=>{const m=f?"offsetLeft":"offsetTop",E=a+(f&&Z()?u.innerWidth-o[m]-o.offsetWidth:o[m]),b=o.offsetParent;return o===_||!b?E:r(b,_,f,E)};s=Oe(e,u,t,()=>N(u[l],t)-r(n,i,t),o=>{u.scrollBy(t?N(o,t):0,t?0:o)})},_dispose(){s&&s._dispose()},_fixScrollJump:()=>{s&&s._fixScrollJump()}}};var Fe=ve("<div>");const et=e=>{let t;he(()=>{t&&ue(e._resizer(t,e._index))});const s=ce(()=>{const n=e._isHorizontal,l={margin:0,padding:0,position:"absolute",[n?"height":"width"]:"100%",[n?"top":"left"]:"0px",[n?Z()?"right":"left":"top"]:e._offset+"px",visibility:e._hide?"hidden":"visible"};return n&&(l.display="flex"),l});return(()=>{var n=Fe(),l=t;return typeof l=="function"?Re(l,n):t=n,Ee(n,()=>e._children),Le(c=>ze(n,s(),c)),n})()},tt=e=>{let t=new Map;return ue(()=>{for(const s of t.values())s._dispose()}),ce(()=>{const s=e._each,[n,l]=e._range,c=new Map,u=[];return we(()=>{for(let i=n;i<=l;i++){const r=s[i],o=t.get(i);u.push(o?o._element:Te(_=>{const f=Ce(r),a=e._render(f[0](),i);return c.set(i,{_data:f,_element:a,_dispose:_}),a})),o&&(r!==o._data&&o._data[1](r),c.set(i,o))}for(const[i,r]of t.entries())c.has(i)||r._dispose();return t=c,u})})},st=(e,t)=>e[0]===t[0]&&e[1]===t[1];export{We as A,et as L,tt as R,D as S,M as U,F as a,Be as b,$e as c,Ke as d,j as e,Ge as f,Xe as g,je as h,st as i,Qe as j,Ze as k,He as l,qe as o};
