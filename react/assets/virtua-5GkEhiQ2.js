import{a as F}from"./jsx-runtime-sgeEVxPu.js";import{r as m}from"./index-yp3VsGQP.js";import{r as ye}from"./index-8dy-jdxy.js";const D=Math.min,V=Math.max,ne=Math.abs,oe=Date.now,be=Object.values,we=Array.isArray,te=setTimeout,W=(e,n,t)=>D(t,V(n,e)),U=e=>e!=null,ke=(e,n)=>{let t;const r=()=>{U(t)&&clearTimeout(t)},o=()=>{r(),t=te(()=>{t=null,e()},n)};return o.t=r,o},z=e=>{let n,t;return(...r)=>(n||(n=!0,t=e(...r)),t)},ae=e=>getComputedStyle(e),Le=e=>e?parseFloat(e):0,q=-1,G=(e,n,t)=>{const r=t?"unshift":"push";for(let o=0;o<n;o++)e[r](q);return e},j=(e,n)=>{const t=e.o[n];return t===q?e.i:t},re=(e,n)=>{if(!e.l)return 0;if(e.u>=n)return e.h[n];e.u<0&&(e.h[0]=0,e.u=0);let t=e.u,r=e.h[t];for(;t<n;)r+=j(e,t),e.h[++t]=r;return e.u=n,r},se=(e,n,t)=>{let r=re(e,t);for(;t>=0&&t<e.l;)if(r<=n){const o=j(e,t);if(r+o>n)break;r+=o,t++}else r-=j(e,--t);return W(t,0,e.l-1)},le=(e,n,t,r)=>{const o=se(e,n,D(t,e.l-1));return[o,se(e,n+r,o)]},ie=(e,n,t)=>{const r=n-e.l,o=r>0;let l;return o?(l=e.i*r,G(e.o,r,t),G(e.h,r)):(l=(t?e.o.splice(0,-r):e.o.splice(r)).reduce((c,u)=>c+(u===q?e.i:u),0),e.h.splice(r)),e.u=t?-1:D(n-1,e.u),e.l=n,[l,o]},fe=typeof window<"u",de=()=>document.documentElement,Re=z(e=>{const n="scrollLeft",t=e[n];e[n]=1;const r=e[n]<1;return e[n]=t,r}),he=z(()=>!!fe&&ae(de()).direction==="rtl"),pe=z(()=>/iP(hone|od|ad)/.test(navigator.userAgent)),Ee=z(()=>"scrollBehavior"in de().style),Se=(e,n,t)=>V(e-(t===me?1:V(1,n)),0),Te=(e,n,t,r)=>D(e+(t===ve?1:V(1,n)),r-1),ee=(e,n,t)=>n.reduce((r,[o,l])=>{const c=l-j(e,o);return(!t||c>0)&&(r+=c),r},0),me=1,ve=2,xe=(e,n=40,t=0,r=((l,c)=>({i:c,l,u:-1,o:G([],l),h:G([],l)}))(e,n),o)=>{let l=!!t,c=[],u=0,h=0,s=0,i=0,y=0,v=0,d=0,b=0,R=0,A=!1,H=!1,S=l?[0,V(t-1,0)]:null,M=[0,0];const P=new Set,f=()=>(p=>p.l?re(p,p.l-1)+j(p,p.l-1):0)(r),Y=()=>u-h-s,C=()=>f()-Y(),$=p=>{pe()&&R!==0?d+=p:(v+=p,y++)};return{_:()=>c,g:()=>JSON.parse(JSON.stringify(r)),p:()=>S?[D(M[0],S[0]),V(M[1],S[1])]:b?M:M=le(r,i+d+v,M[0],u),m:p=>r.o[p]===q,v:()=>!!S&&r.o.slice(V(0,S[0]-1),D(r.l-1,S[1]+1)+1).includes(q),S:p=>re(r,p)-d,I:p=>j(r,p),R:()=>r.l,k:()=>i,O:C,C:()=>R,T:()=>u,M:()=>h,H:()=>V(f(),Y()),J:f,W:()=>y,B:()=>Y()>f()?v=0:(b=v,v=0,b),L(p,w){const O=[p,w];return P.add(O),()=>{P.delete(O)}},$(p,w){let O,J,x=0;switch(p){case 1:{const g=w.filter(([I,a])=>r.o[I]!==a),T=A;if(A=!1,!g.length)break;let E=0;if(i!==0)if(i>C()-1.5)E=ee(r,g,!0);else if(T)E=ee(r,g);else{const[I]=M;E=ee(r,g.filter(([a])=>a<I))}E&&$(E);let N=!1;g.forEach(([I,a])=>{((k,L,B)=>{const X=k.o[L]===q;return k.o[L]=B,k.u=D(L,k.u),X})(r,I,a)&&(N=!0)}),o&&N&&!i&&(I=>{const a=I.o.filter(L=>L!==q),k=a[0];I.i=a.every(L=>L===k)?k:(L=>{const B=[...L].sort((Z,Q)=>Z-Q),X=L.length/2|0;return B.length%2==0?(B[X-1]+B[X])/2:B[X]})(a)})(r),x=2,J=!0;break}case 2:{const g=w[0]+w[1]+w[2];u!==g&&(u=g,h=w[1],s=w[2],x=2);break}case 3:if(w[1]){const g=C()-i,[T,E]=ie(r,w[0],!0);$(E?T:-D(T,g)),A=E,x=1}else ie(r,w[0]);break;case 4:{const g=W(w,0,C()),T=b;if(b=0,g===i)break;const E=g-i,N=ne(E);T&&N<ne(T)+1||H||(R=E<0?ve:me),l&&(S=null,l=!1),J=N>u,i=g,x=5;break}case 5:x=8,R!==0&&(O=!0,x+=1),R=0,H=!1,S=null;break;case 6:H=!0;break;case 7:S=le(r,w,M[0],u),x=1}x&&(c=[],O&&d&&(v+=d,d=0,y++),P.forEach(([g,T])=>{x&g&&T(J)}))}}},K=fe?m.useLayoutEffect:m.useEffect,Ie=(e,n,t)=>(()=>{let r=oe()-50;return(...o)=>{const l=oe();r+50<l&&(r=l,(c=>{if(e.C()!==0&&!c.ctrlKey&&(n?c.deltaX:c.deltaY)){const u=e.k();u>0&&u<e.O()&&t()}})(...o))}})(),_e=(e,n,t,r)=>Re(e)||r?-t:n.O()-t,Me=(e,n)=>{let t,r,o=!1;const l=n?"scrollLeft":"scrollTop",c=n?"overflowX":"overflowY",u=(s,i)=>n&&he()?_e(t,e,s,i):s,h=async(s,i)=>{if(!t)return;r&&r();const y=()=>W(s(),0,e.O()),v=()=>{let d;return[new Promise((b,R)=>{d=b,te(r=R,150)}),e.L(2,()=>{d&&d()})]};if(i&&Ee()){for(;e.$(7,y()),e.v();){const[d,b]=v();try{await d}catch{return}finally{b()}}t.scrollTo({[n?"left":"top"]:u(y()),behavior:"smooth"})}else for(;;){const[d,b]=v();try{t[l]=u(y()),e.$(6),await d}catch{return}finally{b()}}};return{A(s){t=s;let i=!1,y=!1;const v=ke(()=>{i?v():(y=!1,e.$(5))},150),d=()=>{y&&(o=!0),e.$(4,u(s[l])),v()},b=Ie(e,n,v),R=()=>{i=!0,y=o=!1},A=()=>{i=!1,pe()&&(y=!0)};return s.addEventListener("scroll",d),s.addEventListener("wheel",b,{passive:!0}),s.addEventListener("touchstart",R,{passive:!0}),s.addEventListener("touchend",A,{passive:!0}),()=>{s.removeEventListener("scroll",d),s.removeEventListener("wheel",b),s.removeEventListener("touchstart",R),s.removeEventListener("touchend",A),v.t()}},V(s){h(()=>s)},X(s){s+=e.k(),h(()=>s)},Y(s,{align:i,smooth:y}={}){if(s=W(s,0,e.R()-1),i==="nearest"){const v=e.S(s),d=e.k();if(v<d)i="start";else{if(!(v+e.I(s)>d+e.T()))return;i="end"}}h(()=>e.M()+(i==="end"?e.S(s)+e.I(s)-e.T():i==="center"?e.S(s)+(e.I(s)-e.T())/2:e.S(s)),y)},j:s=>{if(t){if(o){o=!1;const i=t.style,y=i[c];i[c]="hidden",te(()=>{i[c]=y})}t[l]+=u(s,!0)}}}},_="current",Ce={},ge=(e,n)=>{if(we(e))for(const t of e)ge(t,n);else U(e)&&typeof e!="boolean"&&n.push(e)},Oe=(e,n)=>{const t=e.key;return U(t)?t:"_"+n},Ve=e=>{const n=m.useRef();return n[_]||(n[_]=e())},ce=e=>{const n=m.useRef(e);return K(()=>{n[_]=e},[e]),n},Ae={box:"border-box"},He=(e,n)=>{let t;const r=n?"width":"height",o=new WeakMap,l=z(()=>new ResizeObserver(c=>{const u=[];for(const{target:h,contentRect:s}of c)if(h.offsetParent)if(h===t)e.$(2,[s[r],s[n?"left":"top"],Le(ae(t)[n?"paddingRight":"paddingBottom"])]);else{const i=o.get(h);U(i)&&u.push([i,s[r]])}u.length&&e.$(1,u)}));return{D(c){t=c;const u=l();return u.observe(c,Ae),()=>{u.disconnect()}},F:(c,u)=>{const h=l();return o.set(c,u),h.observe(c),()=>{o.delete(c),h.unobserve(c)}}}},$e=m.forwardRef(({children:e,attrs:n,width:t,height:r,scrolling:o},l)=>F("div",{ref:l,...n,children:F("div",{style:m.useMemo(()=>({contain:"content",position:"relative",visibility:"hidden",width:t??"100%",height:r??"100%",pointerEvents:o?"none":"auto"}),[t,r,o]),children:e})})),Be=m.memo(({N:e,P:n,U:t,G:r,q:o,K:l,Z:c,ee:u})=>{const h=m.useRef(null);K(()=>n(h[_],t),[t]);const s=m.useMemo(()=>{const i={margin:0,padding:0,position:o&&u?void 0:"absolute",[c?"height":"width"]:"100%",[c?"top":"left"]:0,[c?he()?"right":"left":"top"]:r,visibility:!o||u?"visible":"hidden"};return c&&(i.display="flex"),i},[r,o,u]);return F(l,typeof l=="string"?{ref:h,style:s,children:e}:{ref:h,style:s,index:t,children:e})}),De=e=>m.useReducer(e._,void 0,e._)[1],Je=(e,n)=>m.useMemo(()=>{if(typeof e=="function")return[e,n||0];const t=(r=>{const o=[];return ge(r,o),o})(e);return[r=>t[r],t.length]},[e,n]),Ne=m.forwardRef(({children:e,count:n,overscan:t=4,initialItemSize:r,shift:o,horizontal:l,reverse:c,cache:u,ssrCount:h,components:{Root:s=$e,Item:i="div"}=Ce,onScroll:y,onScrollStop:v,onRangeChange:d,...b},R)=>{const[A,H]=Je(e,n),S=ce(y),M=ce(v),P=m.useRef(!!h),[f,Y,C,$]=Ve(()=>{const a=!!l,k=xe(H,r,h,u,!r);return[k,He(k,a),Me(k,a),a]});H!==f.R()&&f.$(3,[H,o]);const p=De(f),[w,O]=f.p(),J=f.C(),x=f.W(),g=f.H(),T=m.useRef(null);K(()=>{P[_]=!1;const a=T[_],k=f.L(3,Q=>{Q?ye.flushSync(p):p()}),L=f.L(4,()=>{S[_]&&S[_](f.k())}),B=f.L(8,()=>{M[_]&&M[_]()}),X=Y.D(a),Z=C.A(a);return()=>{k(),L(),B(),X(),Z()}},[]),K(()=>{const a=f.B();a&&C.j(a)},[x]),m.useEffect(()=>{d&&d(w,O)},[w,O]),m.useImperativeHandle(R,()=>({get cache(){return f.g()},get scrollOffset(){return f.k()},get scrollSize(){return f.H()},get viewportSize(){return f.T()},scrollToIndex:C.Y,scrollTo:C.V,scrollBy:C.X}),[]);const E=Se(w,t,J),N=Te(O,t,J,H),I=[];for(let a=E;a<=N;a++){const k=A(a);let L=f.S(a);c&&(L+=V(0,f.T()-f.J())),I.push(F(Be,{P:Y.F,U:a,G:L,q:f.m(a),K:i,N:k,Z:$,ee:P[_]},Oe(k,a)))}return F(s,{ref:T,width:$?g:void 0,height:$?void 0:g,scrolling:J!==0,attrs:m.useMemo(()=>({...b,style:{display:$?"inline-block":"block",[$?"overflowX":"overflowY"]:"auto",overflowAnchor:"none",contain:"strict",width:"100%",height:"100%",...b.style}}),be(b)),children:I})}),ue=m.memo(({count:e,Component:n,handle:t})=>{const r=m.useRef(null);return m.useImperativeHandle(t,()=>({scrollToIndex:o=>{var l;(l=r.current)==null||l.scrollToIndex(o)}})),F(Ne,{ref:r,children:Array.from({length:e}).map((o,l)=>F(n,{index:l},l))})});try{ue.displayName="VirtuaList",ue.__docgenInfo={description:"",displayName:"VirtuaList",props:{count:{defaultValue:null,description:"",name:"count",required:!0,type:{name:"number"}},Component:{defaultValue:null,description:"",name:"Component",required:!0,type:{name:"ForwardRefExoticComponent<{ index: number; } & RefAttributes<HTMLDivElement>>"}},handle:{defaultValue:null,description:"",name:"handle",required:!1,type:{name:"Ref<ListHandle>"}}}}}catch{}export{ue as V};
