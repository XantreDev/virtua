"use strict";(self.webpackChunkvirtua=self.webpackChunkvirtua||[]).push([[294],{"./stories/advanced/With dnd-kit.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _src__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/react/List.tsx"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@dnd-kit/core/dist/core.esm.js"),_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@dnd-kit/sortable/dist/sortable.esm.js"),_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@dnd-kit/utilities/dist/utilities.esm.js");const __WEBPACK_DEFAULT_EXPORT__={component:_src__WEBPACK_IMPORTED_MODULE_4__.a},Item=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((({id,style,...props},ref)=>react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{...props,style:{height:50,borderBottom:"solid 1px #ccc",background:"#fff",...style},ref},id))),SortableItem=props=>{const{attributes,listeners,setNodeRef,transform,transition,isDragging}=(0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__.nB)({id:props.id}),style={transform:_dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_3__.ux.Transform.toString(transform),transition,cursor:"grab",visibility:isDragging?"hidden":void 0};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Item,{ref:setNodeRef,id:props.id,style,...attributes,...listeners})},Default={name:"With dnd-kit",render:()=>{const[items,setItems]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>Array.from({length:1e3},((_,i)=>i+1)))),[activeId,setActiveId]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),sensors=(0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.Dy)((0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.VT)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.we),(0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.VT)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.Lg,{coordinateGetter:_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__.is}));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.LB,{sensors,collisionDetection:_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.pE,onDragStart:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>{setActiveId(event.active.id)}),[]),onDragEnd:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event=>{const{active,over}=event;active.id!==over.id&&setItems((items2=>{const oldIndex=items2.indexOf(active.id),newIndex=items2.indexOf(over.id);return(0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__.Rp)(items2,oldIndex,newIndex)})),setActiveId(null)}),[])},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__.Fo,{items,strategy:_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_2__.qw},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src__WEBPACK_IMPORTED_MODULE_4__.a,{style:{width:400,height:600}},items.map((id=>react__WEBPACK_IMPORTED_MODULE_0__.createElement(SortableItem,{key:id,id}))))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_1__.y9,null,null!=activeId?react__WEBPACK_IMPORTED_MODULE_0__.createElement(Item,{id:activeId}):null))}};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  name: "With dnd-kit",\n  render: () => {\n    const [items, setItems] = useState(() => Array.from({\n      length: 1e3\n    }, (_, i) => i + 1));\n    const [activeId, setActiveId] = useState(null);\n    const sensors = useSensors(useSensor(PointerSensor), useSensor(KeyboardSensor, {\n      coordinateGetter: sortableKeyboardCoordinates\n    }));\n    return /* @__PURE__ */React.createElement(DndContext, {\n      sensors,\n      collisionDetection: closestCenter,\n      onDragStart: useCallback(event => {\n        setActiveId(event.active.id);\n      }, []),\n      onDragEnd: useCallback(event => {\n        const {\n          active,\n          over\n        } = event;\n        if (active.id !== over.id) {\n          setItems(items2 => {\n            const oldIndex = items2.indexOf(active.id);\n            const newIndex = items2.indexOf(over.id);\n            return arrayMove(items2, oldIndex, newIndex);\n          });\n        }\n        setActiveId(null);\n      }, [])\n    }, /* @__PURE__ */React.createElement(SortableContext, {\n      items,\n      strategy: verticalListSortingStrategy\n    }, /* @__PURE__ */React.createElement(List, {\n      style: {\n        width: 400,\n        height: 600\n      }\n    }, items.map(id => /* @__PURE__ */React.createElement(SortableItem, {\n      key: id,\n      id\n    })))), /* @__PURE__ */React.createElement(DragOverlay, null, activeId != null ? /* @__PURE__ */React.createElement(Item, {\n      id: activeId\n    }) : null));\n  }\n}',...Default.parameters?.docs?.source}}}}}]);